/*! remotestorage.js 2.0.0-alpha.3, https://remotestorage.io, MIT licensed */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RemoteStorage",[],t):"object"==typeof exports?exports.RemoteStorage=t():e.RemoteStorage=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t,r){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.logError=e=>{"string"==typeof e?console.error(e):console.error(e.message,e.stack)},t.globalContext="undefined"!=typeof window?window:"object"==typeof self?self:e,t.getGlobalContext=()=>"undefined"!=typeof window?window:"object"==typeof self?self:e,t.extend=(...e)=>{const t=e[0];return Array.prototype.slice.call(e,1).forEach((function(e){for(const r in e)t[r]=e[r]})),t},t.containingFolder=e=>{if(""===e)return"/";if(!e)throw"Path not given!";return e.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},t.isFolder=e=>"/"===e.substr(-1),t.isDocument=e=>!t.isFolder(e),t.baseName=e=>{const r=e.split("/");return t.isFolder(e)?r[r.length-2]+"/":r[r.length-1]},t.cleanPath=e=>e.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27"),t.bindAll=e=>{for(const t in this)"function"==typeof e[t]&&(e[t]=e[t].bind(e))},t.equal=(e,r,n=[])=>{let o;if(typeof e!=typeof r)return!1;if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return e===r;if("function"==typeof e)return e.toString()===r.toString();if(e instanceof ArrayBuffer&&r instanceof ArrayBuffer&&(e=new Uint8Array(e),r=new Uint8Array(r)),e instanceof Array){if(e.length!==r.length)return!1;for(let o=0,i=e.length;o<i;o++)if(!t.equal(e[o],r[o],n))return!1}else{for(o in e)if(e.hasOwnProperty(o)&&!(o in r))return!1;for(o in r){if(!r.hasOwnProperty(o))continue;if(!(o in e))return!1;let i;if("object"==typeof r[o]){if(n.indexOf(r[o])>=0)continue;i=n.slice(),i.push(r[o])}if(!t.equal(e[o],r[o],i))return!1}}return!0},t.deepClone=e=>{if(void 0!==e){const t=JSON.parse(JSON.stringify(e));return function e(t,r){if("object"==typeof t&&!Array.isArray(t)&&null!==t)for(const n in t)if("object"==typeof t[n]&&null!==t[n])if("[object ArrayBuffer]"===t[n].toString()){r[n]=new ArrayBuffer(t[n].byteLength);const e=new Int8Array(t[n]);new Int8Array(r[n]).set(e)}else e(t[n],r[n])}(e,t),t}},t.pathsFromRoot=e=>{const t=[e],r=e.replace(/\/$/,"").split("/");for(;r.length>1;)r.pop(),t.push(r.join("/")+"/");return t},t.localStorageAvailable=()=>{const e=t.getGlobalContext();if(!("localStorage"in e))return!1;try{return e.localStorage.setItem("rs-check","1"),e.localStorage.removeItem("rs-check"),!0}catch(e){return!1}},t.getJSONFromLocalStorage=e=>{const r=t.getGlobalContext();try{return JSON.parse(r.localStorage.getItem(e))}catch(e){}},t.shouldBeTreatedAsBinary=(e,t)=>!!(t&&t.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(e)),t.getTextFromArrayBuffer=(e,n)=>new Promise(o=>{if("undefined"==typeof Blob){const t=new r(new Uint8Array(e));o(t.toString(n))}else{let r;const i=t.globalContext;if(i.BlobBuilder=i.BlobBuilder||i.WebKitBlobBuilder,void 0!==i.BlobBuilder){const t=new i.BlobBuilder;t.append(e),r=t.getBlob()}else r=new Blob([e]);const s=new FileReader;"function"==typeof s.addEventListener?s.addEventListener("loadend",(function(e){o(e.target.result)})):s.onloadend=function(e){o(e.target.result)},s.readAsText(r,n)}}),t.toBase64=e=>{const n=t.getGlobalContext();return"btoa"in n?n.btoa(e):r.from(e).toString("base64")},t.applyMixins=function(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}}).call(this,r(5),r(19).Buffer)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(3));t.default=function(...e){o.default.logging&&console.log(...e)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(1));t.default=class{addEvents(e){e.forEach(e=>this._addEvent(e))}addEventListener(e,t){if("string"!=typeof e)throw new Error("Argument eventName should be a string");if("function"!=typeof t)throw new Error("Argument handler should be a function");o.default("[EventHandling] Adding event listener",e),this._validateEvent(e),this._handlers[e].push(t)}on(e,t){return this.addEventListener(e,t)}removeEventListener(e,t){this._validateEvent(e);const r=this._handlers[e].length;for(let n=0;n<r;n++)if(this._handlers[e][n]===t)return void this._handlers[e].splice(n,1)}_emit(e,...t){this._validateEvent(e),this._handlers[e].slice().forEach(e=>{e.apply(this,t)})}_validateEvent(e){if(!(e in this._handlers))throw new Error("Unknown event: "+e)}_delegateEvent(e,t){t.on(e,t=>{this._emit(e,t)})}_addEvent(e){void 0===this._handlers&&(this._handlers={}),this._handlers[e]=[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t={}){super(),this.name="Unauthorized",this.message=void 0===e?"App authorization expired or revoked.":e,void 0!==t.code&&(this.code=t.code),this.stack=(new Error).stack}}t.default=n},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(1)),i=r(0),s=n(r(4));let a;function u(e){const t=e||c.getLocation().href,r=t.indexOf("#");if(-1===r)return;const n=t.substring(r+1);return n.includes("=")?n.split("&").reduce((function(e,t){const r=t.split("=");if("state"===r[0]&&r[1].match(/rsDiscovery/)){let t=decodeURIComponent(r[1]);const n=t.substr(t.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];e.rsDiscovery=JSON.parse(atob(n)),t=t.replace(new RegExp("&?rsDiscovery="+n),""),t.length>0&&(e.state=t)}else e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return e}),{}):void 0}class c{static authorize(e,{authURL:t,scope:r,redirectUri:n,clientId:s}){if(o.default("[Authorize] authURL = ",t,"scope = ",r,"redirectUri = ",n,"clientId = ",s),!i.localStorageAvailable()&&"remotestorage"===e.backend){n+=n.indexOf("#")>0?"&":"#";const t={userAddress:e.remote.userAddress,href:e.remote.href,storageApi:e.remote.storageApi,properties:e.remote.properties};n+="rsDiscovery="+i.toBase64(JSON.stringify(t))}const a=function(e,t,r,n){const o=t.indexOf("#");let i=e;return i+=e.indexOf("?")>0?"&":"?",i+="redirect_uri="+encodeURIComponent(t.replace(/#.*$/,"")),i+="&scope="+encodeURIComponent(r),i+="&client_id="+encodeURIComponent(n),-1!==o&&o+1!==t.length&&(i+="&state="+encodeURIComponent(t.substring(o+1))),i+="&response_type=token",i}(t,n,r,s);i.globalContext.cordova?c.openWindow(a,n,"location=yes,clearsessioncache=yes,clearcache=yes").then(t=>{e.remote.configure({token:t.access_token})}):c.setLocation(a)}static setLocation(e){if("string"==typeof e)document.location.href=e;else{if("object"!=typeof e)throw"Invalid location "+e;document.location=e}}static _rs_supported(){return"undefined"!=typeof document}static _rs_cleanup(e){e.removeEventListener("features-loaded",a)}}t.default=c,c.IMPLIED_FAKE_TOKEN=!1,c.getLocation=function(){return document.location},c.openWindow=function(e,t,r){return new Promise((n,o)=>{const i=open(e,"_blank",r);if(!i||i.closed)return o("Authorization popup was blocked");function s(){return o("Authorization was canceled")}i.addEventListener("loadstart",(function(e){if(0!==e.url.indexOf(t))return;i.removeEventListener("exit",s),i.close();const r=u(e.url);return r?n(r):o("Authorization error")})),i.addEventListener("exit",s)})},c._rs_init=function(e){const t=u();let r;t&&(r=c.getLocation(),r.hash=""),a=function(){let n=!1;if(t){if(t.error)throw"access_denied"===t.error?new s.default("Authorization failed: access denied",{code:"access_denied"}):new s.default(`Authorization failed: ${t.error}`);t.rsDiscovery&&e.remote.configure(t.rsDiscovery),t.access_token&&(e.remote.configure({token:t.access_token}),n=!0),t.remotestorage&&(e.connect(t.remotestorage),n=!0),t.state&&(r=c.getLocation(),c.setLocation(r.href.split("#")[0]+"#"+t.state)),n||e.remote.stopWaitingForToken()}else e.remote.stopWaitingForToken()},e.on("features-loaded",a)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(23)),i=n(r(24)),s=n(r(25)),a=n(r(2)),u=n(r(3)),c=r(0);function l(e,t){if("/"!==t[t.length-1])throw"Not a folder: "+t;"/"===t&&(this.makePath=e=>("/"===e[0]?"":"/")+e),this.storage=e,this.base=t;const r=this.base.split("/");r.length>2?this.moduleName=r[1]:this.moduleName="root",this.addEvents(["change"]),this.on=this.on.bind(this),e.onChange(this.base,this._fireChange.bind(this))}l.Types=i.default,l.prototype={scope:function(e){return new l(this.storage,this.makePath(e))},getListing:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then((function(e){return 404===e.statusCode?{}:e.body}))},getAll:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then(r=>{if(404===r.statusCode)return{};if("object"==typeof r.body){const n=Object.keys(r.body);if(0===n.length)return{};const o=n.map(n=>this.storage.get(this.makePath(e+n),t).then((function(e){if("string"==typeof e.body)try{e.body=JSON.parse(e.body)}catch(e){}"object"==typeof e.body&&(r.body[n]=e.body)})));return Promise.all(o).then((function(){return r.body}))}})},getFile:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(e),t).then((function(e){return{data:e.body,contentType:e.contentType,revision:e.revision}}))},storeFile:function(e,t,r){return"string"!=typeof e?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):"string"!=typeof t?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):"string"!=typeof r&&"object"!=typeof r?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(t),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(t),r,e).then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode)))},getObject:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(e),t).then(t=>{if("object"==typeof t.body)return t.body;if("string"==typeof t.body)try{return JSON.parse(t.body)}catch(t){throw"Not valid JSON: "+this.makePath(e)}else if(void 0!==t.body&&200===t.statusCode)return Promise.reject("Not an object: "+this.makePath(e))})},storeObject:function(e,t,r){if("string"!=typeof e)return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if("string"!=typeof t)return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if("object"!=typeof r)return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(r,e);try{const e=this.validate(r);if(!e.valid)return Promise.reject(e)}catch(e){return Promise.reject(e)}return this.storage.put(this.makePath(t),JSON.stringify(r),"application/json; charset=UTF-8").then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode))},remove:function(e){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(e),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(e)))},getItemURL:function(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(e=c.cleanPath(this.makePath(e)),this.storage.remote.href+e):void 0},cache:function(e,t="ALL"){if("string"!=typeof e)throw"Argument 'path' of baseClient.cache must be a string";if("string"!=typeof t)throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if("FLUSH"!==t&&"SEEN"!==t&&"ALL"!==t)throw'Argument \'strategy\' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]';return this.storage.caching.set(this.makePath(e),t),this},flush:function(e){return this.storage.local.flush(e)},declareType:function(e,t,r){let n;r?n=t:(r=t,n=this._defaultTypeURI(e)),l.Types.declare(this.moduleName,e,n,r)},validate:function(e){const t=l.Types.getSchema(e["@context"]);if(t)return o.default.validateResult(e,t);throw new s.default(e["@context"])},schemas:{configurable:!0,get:function(){return l.Types.inScope(this.moduleName)}},_defaultTypeURI:function(e){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(e)},_attachType:function(e,t){e["@context"]=l.Types.resolveAlias(this.moduleName+"/"+t)||this._defaultTypeURI(t)},makePath:function(e){return this.base+(e||"")},_fireChange:function(e){u.default.changeEvents[e.origin]&&(["new","old","lastCommon"].forEach((function(t){if((!e[t+"ContentType"]||/^application\/(.*)json(.*)/.exec(e[t+"ContentType"]))&&"string"==typeof e[t+"Value"])try{e[t+"Value"]=JSON.parse(e[t+"Value"])}catch(e){}})),this._emit("change",e))}},l._rs_init=function(){},c.applyMixins(l,[a.default]),t.default=l},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(6)),s=o(r(2)),a=o(r(4)),u=o(r(3)),c=o(r(1)),l=r(0);let h;const d="remotestorage:wireclient",f={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};let p;if("function"==typeof(e||window).ArrayBufferView)p=function(t){return t&&t instanceof(e||window).ArrayBufferView};else{const e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];p=function(t){for(let r=0;r<8;r++)if(t instanceof e[r])return!0;return!1}}function m(e){return"string"!=typeof e?e:"*"===e?"*":'"'+e+'"'}function g(e){return"string"!=typeof e?e:e.replace(/^["']|["']$/g,"")}const y=function(e){if(this.rs=e,this.connected=!1,this.addEvents(["connected","not-connected"]),h){const e=l.getJSONFromLocalStorage(d);e&&setTimeout(()=>{this.configure(e)},0)}this._revisionCache={},this.connected&&setTimeout(this._emit.bind(this),0,"connected")};y.prototype={_request:function(e,t,r,o,s,u,h){return n(this,void 0,void 0,(function*(){if(function(e,t){return("PUT"===e||"DELETE"===e)&&l.isFolder(t)}(e,t))return Promise.reject(`Don't use ${e} on directories!`);let n;return r!==i.default.IMPLIED_FAKE_TOKEN&&(o.Authorization="Bearer "+r),this.rs._emit("wire-busy",{method:e,isFolder:l.isFolder(t)}),y.request(e,t,{body:s,headers:o,responseType:"arraybuffer"}).then(r=>{if(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!0}),o=r.status,[401,403,404,412].indexOf(o)>=0)return c.default("[WireClient] Error response status",r.status),n=u?g(r.getResponseHeader("ETag")):void 0,401===r.status&&this.rs._emit("error",new a.default),Promise.resolve({statusCode:r.status,revision:n});if(function(e){return[201,204,304].indexOf(e)>=0}(r.status)||200===r.status&&"GET"!==e)return n=g(r.getResponseHeader("ETag")),c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,revision:n});{const e=r.getResponseHeader("Content-Type");n=u?g(r.getResponseHeader("ETag")):200===r.status?h:void 0;const t=function(e){let t,r="UTF-8";return e&&(t=e.match(/charset=(.+)$/),t&&(r=t[1])),r}(e);return l.shouldBeTreatedAsBinary(r.response,e)?(c.default("[WireClient] Successful request with unknown or binary mime-type",n),Promise.resolve({statusCode:r.status,body:r.response,contentType:e,revision:n})):l.getTextFromArrayBuffer(r.response,t).then(t=>(c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,body:t,contentType:e,revision:n})))}var o},r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!1}),Promise.reject(r)))}))},configure:function(e){if("object"!=typeof e)throw new Error("WireClient configure settings parameter should be an object");void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.href&&(this.href=e.href),void 0!==e.storageApi&&(this.storageApi=e.storageApi),void 0!==e.token&&(this.token=e.token),void 0!==e.properties&&(this.properties=e.properties),void 0!==this.storageApi&&(this._storageApi=f[this.storageApi]||5,this.supportsRevs=this._storageApi>=2),this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,h&&(localStorage[d]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(e,t={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r={};return this.supportsRevs&&t.ifNoneMatch&&(r["If-None-Match"]=m(t.ifNoneMatch)),this._request("GET",this.href+l.cleanPath(e),this.token,r,void 0,this.supportsRevs,this._revisionCache[e]).then(t=>{if(!l.isFolder(e))return Promise.resolve(t);let r={};if(void 0!==t.body)try{t.body=JSON.parse(t.body)}catch(t){return Promise.reject("Folder description at "+this.href+l.cleanPath(e)+" is not JSON")}if(200===t.statusCode&&"object"==typeof t.body){if(0===Object.keys(t.body).length)t.statusCode=404;else if("http://remotestorage.io/spec/folder-description"===(n=t.body)["@context"]&&"object"==typeof n.items){for(const r in t.body.items)this._revisionCache[e+r]=t.body.items[r].ETag;r=t.body.items}else Object.keys(t.body).forEach(n=>{this._revisionCache[e+n]=t.body[n],r[n]={ETag:t.body[n]}});return t.body=r,Promise.resolve(t)}return Promise.resolve(t);var n})},put:function(e,t,r,n={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");!r.match(/charset=/)&&(t instanceof ArrayBuffer||p(t))&&(r+="; charset=binary");const o={"Content-Type":r};return this.supportsRevs&&(n.ifMatch&&(o["If-Match"]=m(n.ifMatch)),n.ifNoneMatch&&(o["If-None-Match"]=m(n.ifNoneMatch))),this._request("PUT",this.href+l.cleanPath(e),this.token,o,t,this.supportsRevs)},delete:function(e,t={}){if(!this.connected)throw new Error("not connected (path: "+e+")");t||(t={});const r={};return this.supportsRevs&&t.ifMatch&&(r["If-Match"]=m(t.ifMatch)),this._request("DELETE",this.href+l.cleanPath(e),this.token,r,void 0,this.supportsRevs)}},y.isArrayBufferView=p,y.request=function(e,t,r){return n(this,void 0,void 0,(function*(){return"function"==typeof fetch?y._fetchRequest(e,t,r):"function"==typeof XMLHttpRequest?y._xhrRequest(e,t,r):(c.default("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"))}))},y._fetchRequest=function(e,t,r){let n;const o={};let i;"function"==typeof AbortController&&(i=new AbortController);const s=fetch(t,{method:e,headers:r.headers,body:r.body,signal:i?i.signal:void 0}).then(e=>{switch(c.default("[WireClient fetch]",e),e.headers.forEach((e,t)=>{o[t.toUpperCase()]=e}),n={readyState:4,status:e.status,statusText:e.statusText,response:void 0,getResponseHeader:e=>o[e.toUpperCase()]||null,responseType:r.responseType,responseURL:t},r.responseType){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json();case void 0:case"":case"text":return e.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}}).then(e=>(n.response=e,r.responseType&&"text"!==r.responseType||(n.responseText=e),n)),a=new Promise((e,t)=>{setTimeout(()=>{t("timeout"),i&&i.abort()},u.default.requestTimeout)});return Promise.race([s,a])},y._xhrRequest=function(e,t,r){return new Promise((n,o)=>{c.default("[WireClient]",e,t);let i=!1;const s=setTimeout(()=>{i=!0,o("timeout")},u.default.requestTimeout),a=new XMLHttpRequest;if(a.open(e,t,!0),r.responseType&&(a.responseType=r.responseType),r.headers)for(const e in r.headers)a.setRequestHeader(e,r.headers[e]);a.onload=()=>{i||(clearTimeout(s),n(a))},a.onerror=e=>{i||(clearTimeout(s),o(e))};let l=r.body;"object"==typeof l&&!p(l)&&l instanceof ArrayBuffer&&(l=new Uint8Array(l)),a.send(l)})},Object.defineProperty(y.prototype,"storageType",{get:function(){if(this.storageApi){const e=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return e?e[1]:"2012.04"}}}),y._rs_init=function(e){h=l.localStorageAvailable(),e.remote=new y(e),this.online=!0},y._rs_supported=function(){return"function"==typeof fetch||"function"==typeof XMLHttpRequest},y._rs_cleanup=function(){h&&delete localStorage[d]},l.applyMixins(y,[s.default]),t.default=y}).call(this,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(),this.name="SyncError",this.message="Sync failed: ","string"==typeof e?this.message+=e:(this.message+=e.message,this.stack=e.stack,this.originalError=e)}}t.default=n},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2)),i=n(r(3)),s=n(r(1)),a=r(0);class u{constructor(){this._updateNodesRunning=!1,this._updateNodesQueued=[]}get(e,t,r){return"number"==typeof t?this.getNodes(a.pathsFromRoot(e)).then(n=>{const o=c(n[e]);return l(n,t)?r(e):o?{statusCode:200,body:o.body||o.itemsMap,contentType:o.contentType}:{statusCode:404}}):this.getNodes([e]).then(t=>{const r=c(t[e]);if(r){if(a.isFolder(e))for(const e in r.itemsMap)r.itemsMap.hasOwnProperty(e)&&!1===r.itemsMap[e]&&delete r.itemsMap[e];return{statusCode:200,body:r.body||r.itemsMap,contentType:r.contentType}}return{statusCode:404}})}put(e,t,r){const n=a.pathsFromRoot(e);return this._updateNodes(n,(function(e,n){try{for(let o=0,i=e.length;o<i;o++){const i=e[o];let s,a=n[i];if(a||(n[i]=a=h(i)),0===o)s=c(a),a.local={body:t,contentType:r,previousBody:s?s.body:void 0,previousContentType:s?s.contentType:void 0};else{a=d(a,e[o-1].substring(i.length))}}return n}catch(e){throw s.default("[Cachinglayer] Error during PUT",n,e),e}}))}delete(e){const t=a.pathsFromRoot(e);return this._updateNodes(t,(function(e,t){for(let r=0,n=e.length;r<n;r++){const n=e[r],o=t[n];let i;if(o)if(0===r)i=c(o),o.local={body:!1,previousBody:i?i.body:void 0,previousContentType:i?i.contentType:void 0};else{o.local||(o.local=a.deepClone(o.common));const t=e[r-1].substring(n.length);if(delete o.local.itemsMap[t],Object.getOwnPropertyNames(o.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+n)}return t}))}flush(e){return this._getAllDescendentPaths(e).then(e=>this.getNodes(e)).then(e=>{for(const t in e){const r=e[t];r&&r.common&&r.local&&this._emitChange({path:r.path,origin:"local",oldValue:!1===r.local.body?void 0:r.local.body,newValue:!1===r.common.body?void 0:r.common.body}),e[t]=void 0}return this.setNodes(e)})}_emitChange(e){i.default.changeEvents[e.origin]&&this._emit("change",e)}fireInitial(){i.default.changeEvents.local&&this.forAllNodes(e=>{if(a.isDocument(e.path)){const t=c(e);t&&this._emitChange({path:e.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:t.body,newContentType:t.contentType})}}).then(()=>{this._emit("local-events-done")})}onDiff(e){this.diffHandler=e}migrate(e){return"object"!=typeof e||e.common||(e.common={},"string"==typeof e.path?"/"===e.path.substr(-1)&&"object"==typeof e.body&&(e.common.itemsMap=e.body):(e.local||(e.local={}),e.local.body=e.body,e.local.contentType=e.contentType)),e}_updateNodes(e,t){return new Promise((r,n)=>{this._doUpdateNodes(e,t,{resolve:r,reject:n})})}_doUpdateNodes(e,t,r){this._updateNodesRunning?this._updateNodesQueued.push({paths:e,cb:t,promise:r}):(this._updateNodesRunning=!0,this.getNodes(e).then(n=>{const o=a.deepClone(n),i=[];n=t(e,n);for(const e in n){const t=n[e];a.equal(t,o[e])?delete n[e]:a.isDocument(e)&&(a.equal(t.local.body,t.local.previousBody)&&t.local.contentType===t.local.previousContentType||i.push({path:e,origin:"window",oldValue:t.local.previousBody,newValue:!1===t.local.body?void 0:t.local.body,oldContentType:t.local.previousContentType,newContentType:t.local.contentType}),delete t.local.previousBody,delete t.local.previousContentType)}this.setNodes(n).then(()=>{this._emitChangeEvents(i),r.resolve({statusCode:200})})}).then(()=>Promise.resolve(),e=>{r.reject(e)}).then(()=>{this._updateNodesRunning=!1;const e=this._updateNodesQueued.shift();e&&this._doUpdateNodes(e.paths,e.cb,e.promise)}))}_emitChangeEvents(e){for(let t=0,r=e.length;t<r;t++)this._emitChange(e[t]),this.diffHandler&&this.diffHandler(e[t].path)}_getAllDescendentPaths(e){return a.isFolder(e)?this.getNodes([e]).then(t=>{const r=[e],n=c(t[e]),o=Object.keys(n.itemsMap).map(t=>this._getAllDescendentPaths(e+t).then(e=>{for(let t=0,n=e.length;t<n;t++)r.push(e[t])}));return Promise.all(o).then(()=>r)}):Promise.resolve([e])}_getInternals(){return{getLatest:c,makeNode:h,isOutdated:l}}}function c(e){if("object"==typeof e&&"string"==typeof e.path)if(a.isFolder(e.path)){if(e.local&&e.local.itemsMap)return e.local;if(e.common&&e.common.itemsMap)return e.common}else{if(e.local){if(e.local.body&&e.local.contentType)return e.local;if(!1===e.local.body)return}if(e.common&&e.common.body&&e.common.contentType)return e.common;if(e.body&&e.contentType)return{body:e.body,contentType:e.contentType}}}function l(e,t){for(const r in e){if(e[r]&&e[r].remote)return!0;const n=c(e[r]);if(n&&n.timestamp&&(new Date).getTime()-n.timestamp<=t)return!1;if(!n)return!0}return!0}function h(e){const t={path:e,common:{}};return a.isFolder(e)&&(t.common.itemsMap={}),t}function d(e,t){return e.common||(e.common={itemsMap:{}}),e.common.itemsMap||(e.common.itemsMap={}),e.local||(e.local=a.deepClone(e.common)),e.local.itemsMap||(e.local.itemsMap=e.common.itemsMap),e.local.itemsMap[t]=!0,e}a.applyMixins(u,[o.default]),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.reset()}static _rs_init(){}get scopes(){return Object.keys(this.scopeModeMap).map(e=>({name:e,mode:this.scopeModeMap[e]}))}get scopeParameter(){return this.scopes.map(e=>`${this._scopeNameForParameter(e)}:${e.mode}`).join(" ")}claim(e,t){if("string"!=typeof e||-1!==e.indexOf("/")||0===e.length)throw new Error("Scope should be a non-empty string without forward slashes");if(!t.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(e),this.scopeModeMap[e]=t}get(e){return this.scopeModeMap[e]}remove(e){const t={};for(const e in this.scopeModeMap)t[e]=this.scopeModeMap[e];this.reset(),delete t[e];for(const e in t)this.claim(e,t[e])}checkPermission(e,t){const r=this.get(e);return r&&("r"===t||"rw"===r)}checkPathPermission(e,t){if(this.checkPermission("*",t))return!0;const r=this._getModuleName(e);return!!this.checkPermission(r,t)}reset(){this.rootPaths=[],this.scopeModeMap={}}_getModuleName(e){if("/"!==e[0])throw new Error("Path should start with a slash");const t=e.replace(/^\/public/,"").match(/^\/([^/]*)\//);return t?t[1]:"*"}_adjustRootPaths(e){"*"in this.scopeModeMap||"*"===e?this.rootPaths=["/"]:e in this.scopeModeMap||(this.rootPaths.push("/"+e+"/"),this.rootPaths.push("/public/"+e+"/"))}_scopeNameForParameter(e){if("*"===e.name&&this.storageType){if("2012.04"===this.storageType)return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return e.name}setStorageType(e){this.storageType=e}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),i=n(r(1));t.default=class{constructor(){this.pendingActivations=[],this.reset()}set(e,t){if("string"!=typeof e)throw new Error("path should be a string");if(!o.isFolder(e))throw new Error("path should be a folder");if(!t.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[e]=t,"ALL"===t&&(this.activateHandler?this.activateHandler(e):this.pendingActivations.push(e))}enable(e){this.set(e,"ALL")}disable(e){this.set(e,"FLUSH")}onActivate(e){i.default("[Caching] Setting activate handler",e,this.pendingActivations),this.activateHandler=e;for(let t=0;t<this.pendingActivations.length;t++)e(this.pendingActivations[t]);this.pendingActivations=[]}checkPath(e){return void 0!==this._rootPaths[e]?this._rootPaths[e]:"/"===e?"SEEN":this.checkPath(o.containingFolder(e))}reset(){this._rootPaths={}}static _rs_init(){}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(7)),i=n(r(8)),s=n(r(2)),a=r(0),u="https://www.googleapis.com",c="remotestorage:googledrive";let l;function h(e){return"/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),decodeURIComponent(e)}function d(e){return e.replace(/[^\/]+\/?$/,"")}function f(e){const t=e.split("/");return"/"===e.substr(-1)?t[t.length-2]+"/":t[t.length-1]}function p(e){return a.cleanPath(`/remotestorage/${e}`)}function m(e){return e.replace(/^["'](.*)["']$/,"$1")}class g{constructor(e){this._items={},this.maxAge=e,this._items={}}get(e){const t=this._items[e],r=(new Date).getTime();return t&&t.t>=r-this.maxAge?t.v:void 0}set(e,t){this._items[e]={v:t,t:(new Date).getTime()}}}class y{constructor(e,t){if(this.connected=!1,this.online=!0,this.addEvents(["connected","not-connected"]),this.rs=e,this.clientId=t,this._fileIdCache=new g(300),l=a.localStorageAvailable(),l){const e=a.getJSONFromLocalStorage(c);e&&this.configure(e)}}configure(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){l&&localStorage.setItem(c,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,delete this.token,l&&localStorage.removeItem(c)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(e=>{this.userAddress=e.user.emailAddress,this._emit("connected"),t.apply(this)}).catch(()=>{r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))})):r.apply(this)}connect(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(e,t){return a.isFolder(e)?this._getFolder(p(e)):this._getFile(p(e),t)}put(e,t,r,n){const o=p(e);function i(e){if(e.status>=200&&e.status<300){const t=JSON.parse(e.responseText),r=m(t.etag);return Promise.resolve({statusCode:200,contentType:t.mimeType,revision:r})}return 412===e.status?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+e.status+" ("+e.responseText+")")}return this._getFileId(o).then(e=>e?n&&"*"===n.ifNoneMatch?i({status:412}):this._updateFile(e,o,t,r,n).then(i):this._createFile(o,t,r).then(i))}delete(e,t){const r=p(e);return this._getFileId(r).then(e=>e?this._getMeta(e).then(r=>{let n;return"object"==typeof r&&"string"==typeof r.etag&&(n=m(r.etag)),t&&t.ifMatch&&t.ifMatch!==n?{statusCode:412,revision:n}:this._request("DELETE",u+"/drive/v2/files/"+e,{}).then(e=>200===e.status||204===e.status?{statusCode:200}:Promise.reject("Delete failed: "+e.status+" ("+e.responseText+")"))}):Promise.resolve({statusCode:200}))}info(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then((function(e){try{const t=JSON.parse(e.responseText);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}))}_updateFile(e,t,r,n,o){const i={mimeType:n},s={"Content-Type":"application/json; charset=UTF-8"};return o&&o.ifMatch&&(s["If-Match"]='"'+o.ifMatch+'"'),this._request("PUT",u+"/upload/drive/v2/files/"+e+"?uploadType=resumable",{body:JSON.stringify(i),headers:s}).then(e=>412===e.status?e:this._request("PUT",e.getResponseHeader("Location"),{body:n.match(/^application\/json/)?JSON.stringify(r):r}))}_createFile(e,t,r){return this._getParentId(e).then(n=>{const o={title:h(f(e)),mimeType:r,parents:[{kind:"drive#fileLink",id:n}]};return this._request("POST",u+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>this._request("POST",e.getResponseHeader("Location"),{body:r.match(/^application\/json/)?JSON.stringify(t):t}))})}_getFile(e,t){return this._getFileId(e).then(e=>this._getMeta(e).then(e=>{let r;if("object"==typeof e&&"string"==typeof e.etag&&(r=m(e.etag)),t&&t.ifNoneMatch&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304});if(!e.downloadUrl){if(!e.exportLinks||!e.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:e.mimeType,revision:r});e.mimeType+=";export=text/html",e.downloadUrl=e.exportLinks["text/html"]}return this._request("GET",e.downloadUrl,{responseType:"arraybuffer"}).then(t=>a.getTextFromArrayBuffer(t.response,"UTF-8").then((function(n){let o=n;if(e.mimeType.match(/^application\/json/))try{o=JSON.parse(o)}catch(e){}else a.shouldBeTreatedAsBinary(n,e.mimeType)&&(o=t.response);return{statusCode:200,body:o,contentType:e.mimeType,revision:r}})))}))}_getFolder(e){return this._getFileId(e).then(t=>{let r,n,o;if(!t)return Promise.resolve({statusCode:404});const i="'"+t+"' in parents";return this._request("GET",u+"/drive/v2/files?q="+encodeURIComponent(i)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title)")+"&maxResults=1000",{}).then(t=>{if(200!==t.status)return Promise.reject("request failed or something: "+t.status);try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject("non-JSON response from GoogleDrive")}o={};for(const t of r.items)n=m(t.etag),"application/vnd.google-apps.folder"===t.mimeType?(this._fileIdCache.set(e+a.cleanPath(t.title)+"/",t.id),o[t.title+"/"]={ETag:n}):(this._fileIdCache.set(e+a.cleanPath(t.title),t.id),o[t.title]={ETag:n,"Content-Type":t.mimeType,"Content-Length":t.fileSize});return Promise.resolve({statusCode:200,body:o,contentType:"application/json; charset=UTF-8",revision:void 0})})})}_getParentId(e){const t=d(e);return this._getFileId(t).then(e=>e?Promise.resolve(e):this._createFolder(t))}_createFolder(e){return this._getParentId(e).then(t=>this._request("POST",u+"/drive/v2/files",{body:JSON.stringify({title:h(f(e)),mimeType:"application/vnd.google-apps.folder",parents:[{id:t}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>{const t=JSON.parse(e.responseText);return Promise.resolve(t.id)}))}_getFileId(e){let t;return"/"===e?Promise.resolve("root"):(t=this._fileIdCache.get(e))?Promise.resolve(t):this._getFolder(d(e)).then(()=>(t=this._fileIdCache.get(e),t?Promise.resolve(t):"/"===e.substr(-1)?this._createFolder(e).then(()=>this._getFileId(e)):Promise.resolve()))}_getMeta(e){return this._request("GET",u+"/drive/v2/files/"+e,{}).then((function(t){return 200===t.status?Promise.resolve(JSON.parse(t.responseText)):Promise.reject("request (getting metadata for "+e+") failed with status: "+t.status)}))}_request(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:e,isFolder:a.isFolder(t)}),i.default.request.call(this,e,t,r).then(r=>r&&401===r.status?void this.connect():(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!0}),Promise.resolve(r)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!1}),Promise.reject(r)))}static _rs_init(e){const t=e.apiKeys.googledrive;var r;t&&(e.googledrive=new y(e,t.clientId),"googledrive"===e.backend&&(e._origRemote=e.remote,e.remote=e.googledrive,(r=e)._origBaseClientGetItemURL||(r._origBaseClientGetItemURL=o.default.prototype.getItemURL,o.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))}static _rs_supported(){return!0}static _rs_cleanup(e){var t;e.setBackend(void 0),e._origRemote&&(e.remote=e._origRemote,delete e._origRemote),(t=e)._origBaseClientGetItemURL&&(o.default.prototype.getItemURL=t._origBaseClientGetItemURL,delete t._origBaseClientGetItemURL)}}a.applyMixins(y,[s.default]),t.default=y},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(2)),s=o(r(8)),a=o(r(7)),u=o(r(26)),c=o(r(9)),l=o(r(4)),h=r(0);let d;const f="remotestorage:dropbox";function p(e){return h.cleanPath("/remotestorage/"+e).replace(/\/$/,"")}function m(e,t){return new RegExp("^"+t.join("\\/")+"(\\/|$)").test(e.error_summary)}function g(e){return e instanceof ArrayBuffer||s.default.isArrayBufferView(e)}class y{constructor(e){if(this.rs=e,this.connected=!1,this.online=!0,this._initialFetchDone=!1,this.addEvents(["connected","not-connected"]),this.clientId=e.apiKeys.dropbox.appKey,this._revCache=new u.default("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},d=h.localStorageAvailable(),d){const e=h.getJSONFromLocalStorage(f);e&&this.configure(e),this._itemRefs=h.getJSONFromLocalStorage(`${f}:shares`)||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}connect(){this.rs.setBackend("dropbox"),this.token?b(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})}configure(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){d&&localStorage.setItem(f,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,d&&localStorage.removeItem(f)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(function(e){this.userAddress=e.email,this._emit("connected"),t.apply(this)}.bind(this)).catch(function(){r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):r.apply(this)}stopWaitingForToken(){this.connected||this._emit("not-connected")}_getFolder(e){const t=this._revCache,r=r=>{let o;if(200!==r.status&&409!==r.status)return Promise.reject("Unexpected response status: "+r.status);try{o=JSON.parse(r.responseText)}catch(e){return Promise.reject(e)}if(409===r.status)return m(o,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+o.error_summary));const i=o.entries.reduce((r,n)=>{const o="folder"===n[".tag"],i=n.path_lower.split("/").slice(-1)[0]+(o?"/":"");return o?r[i]={ETag:t.get(e+i)}:(r[i]={ETag:n.rev},this._revCache.set(e+i,n.rev)),r},{});return o.has_more?n(o.cursor).then((function(e){return Object.assign(i,e)})):Promise.resolve(i)},n=e=>{const t={body:{cursor:e}};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",t).then(r)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:p(e)}}).then(r).then((function(r){return Promise.resolve({statusCode:200,body:r,contentType:"application/json; charset=UTF-8",revision:t.get(e)})}))}get(e,t){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r=this._revCache.get(e);if(null===r)return Promise.resolve({statusCode:404});if(t&&t.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then(()=>this.get(e,t));if(r&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304})}if("/"===e.substr(-1))return this._getFolder(e);const n={headers:{"Dropbox-API-Arg":JSON.stringify({path:p(e)})},responseType:"arraybuffer"};return t&&t.ifNoneMatch&&(n.headers["If-None-Match"]=t.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",n).then(t=>{const r=t.status;let n,o,i,s;return 200!==r&&409!==r?Promise.resolve({statusCode:r}):(n=t.getResponseHeader("Dropbox-API-Result"),h.getTextFromArrayBuffer(t.response,"UTF-8").then(a=>{o=a,409===r&&(n=o);try{n=JSON.parse(n)}catch(e){return Promise.reject(e)}if(409===r)return m(n,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+e+'"): '+n.error_summary));if(i=t.getResponseHeader("Content-Type"),s=n.rev,this._revCache.set(e,s),this._shareIfNeeded(e),h.shouldBeTreatedAsBinary(a,i))o=t.response;else try{o=JSON.parse(o),i="application/json; charset=UTF-8"}catch(e){}return{statusCode:r,body:o,contentType:i,revision:s}}))})}put(e,t,r,n){if(!this.connected)throw new Error("not connected (path: "+e+")");const o=this._revCache.get(e);if(n&&n.ifMatch&&o&&o!==n.ifMatch)return Promise.resolve({statusCode:412,revision:o});if(n&&"*"===n.ifNoneMatch&&o&&"rev"!==o)return Promise.resolve({statusCode:412,revision:o});if(!r.match(/charset=/)&&g(t)&&(r+="; charset=binary"),t.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));let i;const s=n&&(n.ifMatch||"*"===n.ifNoneMatch),a={body:t,contentType:r,path:e};return i=s?this._getMetadata(e).then(e=>n&&"*"===n.ifNoneMatch&&e?Promise.resolve({statusCode:412,revision:e.rev}):n&&n.ifMatch&&e&&e.rev!==n.ifMatch?Promise.resolve({statusCode:412,revision:e.rev}):this._uploadSimple(a)):this._uploadSimple(a),i.then(t=>(this._shareIfNeeded(e),t))}delete(e,t){if(!this.connected)throw new Error("not connected (path: "+e+")");const r=this._revCache.get(e);return t&&t.ifMatch&&r&&t.ifMatch!==r?Promise.resolve({statusCode:412,revision:r}):t&&t.ifMatch?this._getMetadata(e).then(r=>t&&t.ifMatch&&r&&r.rev!==t.ifMatch?Promise.resolve({statusCode:412,revision:r.rev}):this._deleteSimple(e)):this._deleteSimple(e)}_shareIfNeeded(e){e.match(/^\/public\/.*[^/]$/)&&void 0===this._itemRefs[e]&&this.share(e)}share(e){const t={body:{path:p(e)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",t).then(t=>{if(200!==t.status&&409!==t.status)return Promise.reject(new Error("Invalid response status:"+t.status));let r;try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+t.responseText))}return 409===t.status?m(r,["shared_link_already_exists"])?this._getSharedLink(e):Promise.reject(new Error("API error: "+r.error_summary)):Promise.resolve(r.url)}).then(t=>(this._itemRefs[e]=t,d&&localStorage.setItem(f+":shares",JSON.stringify(this._itemRefs)),Promise.resolve(t)),t=>(t.message='Sharing Dropbox file or folder ("'+e+'") failed: '+t.message,Promise.reject(t)))}info(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then((function(e){let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Could not query current account info: Invalid API response: "+t))}return Promise.resolve({email:t.email})}))}_request(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,"object"!=typeof r.body||g(r.body)||(r.body=JSON.stringify(r.body),r.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:e,isFolder:h.isFolder(t)}),s.default.request.call(this,e,t,r).then(n=>n&&503===n.status?(this.online&&(this.online=!1,this.rs._emit("network-offline")),setTimeout(this._request(e,t,r),3210)):(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!0}),Promise.resolve(n)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!1}),Promise.reject(r)))}fetchDelta(...e){if(this._fetchDeltaPromise)return this._fetchDeltaPromise;const t=r=>{let n,o="https://api.dropboxapi.com/2/files/list_folder";return"string"==typeof r?(o+="/continue",n={cursor:r}):n={path:"/remotestorage",recursive:!0,include_deleted:!0},this._request("POST",o,{body:n}).then(n=>{if(401===n.status)return this.rs._emit("error",new l.default),Promise.resolve(e);if(200!==n.status&&409!==n.status)return Promise.reject(new Error("Invalid response status: "+n.status));let o;try{o=JSON.parse(n.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+n.responseText))}if(409===n.status){if(!m(o,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+o.error_summary));o={cursor:null,entries:[],has_more:!1}}if(r||this._revCache.deactivatePropagation(),o.entries.forEach(e=>{const t=e.path_lower.substr("/remotestorage".length);"deleted"===e[".tag"]?(this._revCache.delete(t),this._revCache.delete(t+"/")):"file"===e[".tag"]&&this._revCache.set(t,e.rev)}),this._fetchDeltaCursor=o.cursor,o.has_more)return t(o.cursor);this._revCache.activatePropagation(),this._initialFetchDone=!0}).catch(e=>"timeout"===e||e instanceof ProgressEvent?Promise.resolve():Promise.reject(e))};return this._fetchDeltaPromise=t(this._fetchDeltaCursor).catch(e=>("object"==typeof e&&"message"in e?e.message="Dropbox: fetchDelta: "+e.message:e=`Dropbox: fetchDelta: ${e}`,this._fetchDeltaPromise=null,Promise.reject(e))).then(()=>(this._fetchDeltaPromise=null,Promise.resolve(e))),this._fetchDeltaPromise}_getMetadata(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status:"+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?m(t,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve(t)}).then(void 0,t=>(t.message='Could not load metadata for file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_uploadSimple(e){const t={path:p(e.path),mode:{".tag":"overwrite",update:void 0},mute:!0};return e.ifMatch&&(t.mode={".tag":"update",update:e.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:e.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(t)}}).then(t=>{if(200!==t.status&&409!==t.status)return Promise.resolve({statusCode:t.status});let r=t.responseText;try{r=JSON.parse(r)}catch(e){return Promise.reject(new Error("Invalid API result: "+r))}return 409===t.status?m(r,["path","conflict"])?this._getMetadata(e.path).then((function(e){return Promise.resolve({statusCode:412,revision:e.rev})})):Promise.reject(new Error("API error: "+r.error_summary)):(this._revCache.set(e.path,r.rev),Promise.resolve({statusCode:t.status,revision:r.rev}))})}_deleteSimple(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.resolve({statusCode:e.status});let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Invalid response body: "+t))}return 409===e.status?m(t,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve({statusCode:200})}).then(t=>(200!==t.statusCode&&404!==t.statusCode||(this._revCache.delete(e),delete this._itemRefs[e]),Promise.resolve(t)),t=>(t.message='Could not delete Dropbox file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_getSharedLink(e){return n(this,void 0,void 0,(function*(){const t={body:{path:p(e),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",t).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status: "+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?Promise.reject(new Error("API error: "+e.error_summary)):t.links.length?Promise.resolve(t.links[0].url):Promise.reject(new Error("No links returned"))},t=>(t.message='Could not get link to a shared file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}))}static _rs_init(e){d=h.localStorageAvailable(),e.apiKeys.dropbox&&(e.dropbox=new y(e)),"dropbox"===e.backend&&b(e)}static _rs_supported(){return!0}static _rs_cleanup(e){!function(e){(function(e){e._origRemote&&(e.remote=e._origRemote,delete e._origRemote)})(e),function(e){if(!e._dropboxOrigSync)return;e.sync.sync=e._dropboxOrigSync,delete e._dropboxOrigSync}(e),function(e){if(!e._origBaseClientGetItemURL)return;a.default.prototype.getItemURL=e._origBaseClientGetItemURL,delete e._origBaseClientGetItemURL}(e),_(e)}(e),d&&localStorage.removeItem(f),e.setBackend(void 0)}}function v(e,...t){e._dropboxOrigSync||(e._dropboxOrigSync=e.sync.sync.bind(e.sync),e.sync.sync=function(){return this.dropbox.fetchDelta(e,...t).then(e._dropboxOrigSync,(function(t){e._emit("error",new c.default(t)),e._emit("sync-done")}))}.bind(e))}function _(e){e._dropboxOrigSyncCycle&&(e.syncCycle=e._dropboxOrigSyncCycle,delete e._dropboxOrigSyncCycle)}function b(e){!function(e){e._origRemote||(e._origRemote=e.remote,e.remote=e.dropbox)}(e),e.sync?v(e):function(e,...t){e._dropboxOrigSyncCycle||(e._dropboxOrigSyncCycle=e.syncCycle,e.syncCycle=()=>{if(!e.sync)throw new Error("expected sync to be initialized by now");v(e),e._dropboxOrigSyncCycle(e,...t),_(e)})}(e),function(e){e._origBaseClientGetItemURL||(e._origBaseClientGetItemURL=a.default.prototype.getItemURL,a.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(e)}h.applyMixins(y,[i.default]),t.default=y},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(27)),i=n(r(1)),s=r(0);let a,u;let c={};const l=function(e){return new Promise((t,r)=>{if(e in c)return t(c[e]);return new o.default({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(e,(function(n,o){if(n)return r(n);if("object"!=typeof o.idx.links.remotestorage||"number"!=typeof o.idx.links.remotestorage.length||o.idx.links.remotestorage.length<=0)return i.default("[Discover] WebFinger record for "+e+" does not have remotestorage defined in the links section ",JSON.stringify(o.json)),r("WebFinger record for "+e+" does not have remotestorage defined in the links section.");const s=o.idx.links.remotestorage[0],a=s.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||s.properties["auth-endpoint"],l=s.properties["http://remotestorage.io/spec/version"]||s.type;return c[e]={href:s.href,storageApi:l,authURL:a,properties:s.properties},u&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:c})),t(c[e])}))})};(l.DiscoveryError=function(e){this.name="DiscoveryError",this.message=e,this.stack=(new Error).stack}).prototype=Object.create(Error.prototype),l.DiscoveryError.prototype.constructor=l.DiscoveryError,l._rs_init=function(){if(u=s.localStorageAvailable(),u)try{const e=JSON.parse(localStorage["remotestorage:discover"]);c=e.cache}catch(e){}},l._rs_supported=function(){return a=Object.prototype.hasOwnProperty.call(s.globalContext,"XMLHttpRequest"),a},l._rs_cleanup=function(){u&&delete localStorage["remotestorage:discover"]},t.default=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2));class i{constructor(){this.addEvents(["background","foreground"]),this.mode="undefined"!=typeof window?"browser":"node","browser"===this.mode&&(this.setBrowserPrefixedNames(),document.addEventListener(this.visibilityChangeEvent,this.setVisibility.bind(this),!1),this.setVisibility())}setBrowserPrefixedNames(){"browser"===this.mode&&(void 0!==document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):void 0!==document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"))}setVisibility(){document[this.hiddenProperty]?this.goBackground():this.goForeground()}isBrowser(){return"browser"===this.mode}isNode(){return"node"===this.mode}goBackground(){this._emit("background")}goForeground(){this._emit("foreground")}static _rs_init(){}static _rs_cleanup(){}}r(0).applyMixins(i,[o.default]),t.default=i},function(e,t,r){e.exports=r(18)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3)),s=n(r(1)),a=r(0),u=n(r(11)),c=n(r(6)),l=n(r(7)),h=n(r(12)),d=n(r(2)),f=n(r(13)),p=n(r(14)),m=n(r(15)),g=n(r(9)),y=n(r(4)),v=n(r(29)),_=o(r(0)),b=a.getGlobalContext();let w;function P(e){return 403!==e.statusCode&&401!==e.statusCode||this._emit("error",new y.default),Promise.resolve(e)}function E(e){return"number"==typeof e&&e>1e3&&e<36e5}class T{constructor(e){this._pending=[],this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},this._init=v.default.loadFeatures,this.features=v.default.features,this.loadFeature=v.default.loadFeature,this.featureSupported=v.default.featureSupported,this.featureDone=v.default.featureDone,this.featuresDone=v.default.featuresDone,this.featuresLoaded=v.default.featuresLoaded,this.featureInitialized=v.default.featureInitialized,this.featureFailed=v.default.featureFailed,this.hasFeature=v.default.hasFeature,this._setCachingModule=v.default._setCachingModule,this._collectCleanupFunctions=v.default._collectCleanupFunctions,this._fireReady=v.default._fireReady,this.initFeature=v.default.initFeature,"object"==typeof e&&a.extend(i.default,e),this.addEvents(["ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"]),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),w=a.localStorageAvailable(),w&&(this.apiKeys=a.getJSONFromLocalStorage("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));const t=this.on;this.on=function(e,r){if(this._allLoaded)switch(e){case"features-loaded":setTimeout(r,0);break;case"ready":this.remote&&setTimeout(r,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(r,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(r,0)}return t.call(this,e,r)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()}loadModules(){i.default.modules.forEach(this.addModule.bind(this))}authorize(e){this.access.setStorageType(this.remote.storageApi),void 0===e.scope&&(e.scope=this.access.scopeParameter),e.redirectUri=b.cordova?i.default.cordovaRedirectUri:String(c.default.getLocation()),void 0===e.clientId&&(e.clientId=e.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),c.default.authorize(this,e)}impliedauth(e,t){e=e||this.remote.storageApi,t=t||String(document.location),s.default("ImpliedAuth proceeding due to absent authURL; storageApi = "+e+" redirectUri = "+t),this.remote.configure({token:c.default.IMPLIED_FAKE_TOKEN}),document.location.href=t}connect(e,t){if(this.setBackend("remotestorage"),e.indexOf("@")<0)return void this._emit("error",new T.DiscoveryError("User address doesn't contain an @."));if(b.cordova){if("string"!=typeof i.default.cordovaRedirectUri)return void this._emit("error",new T.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!b.cordova.InAppBrowser)return void this._emit("error",new T.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:e}),this._emit("connecting");const r=setTimeout(()=>{this._emit("error",new T.DiscoveryError("No storage information found for this user address."))},i.default.discoveryTimeout);m.default(e).then(n=>{if(clearTimeout(r),this._emit("authing"),n.userAddress=e,this.remote.configure(n),!this.remote.connected)if(n.authURL)if(void 0===t)this.authorize({authURL:n.authURL});else{if("string"!=typeof t)throw new Error("Supplied bearer token must be a string");s.default("Skipping authorization sequence and connecting with known token"),this.remote.configure({token:t})}else this.impliedauth()},()=>{clearTimeout(r),this._emit("error",new T.DiscoveryError("No storage information found for this user address."))})}reconnect(){this.remote.configure({token:null}),"remotestorage"===this.backend?this.connect(this.remote.userAddress):this.remote.connect()}disconnect(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});const e=this._cleanups.length;let t=0;const r=()=>{t++,t>=e&&(this._init(),this._emit("disconnected"))};e>0?this._cleanups.forEach(e=>{const t=e(this);"object"==typeof t&&"function"==typeof t.then?t.then(r):r()}):r()}setBackend(e){this.backend=e,w&&(e?localStorage.setItem("remotestorage:backend",e):localStorage.removeItem("remotestorage:backend"))}onChange(e,t){this._pathHandlers.change[e]||(this._pathHandlers.change[e]=[]),this._pathHandlers.change[e].push(t)}enableLog(){i.default.logging=!0}disableLog(){i.default.logging=!1}log(...e){s.default.apply(T,e)}setApiKeys(e){const t=["googledrive","dropbox"];if("object"!=typeof e||!Object.keys(e).every(e=>t.includes(e)))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(e).forEach(t=>{const r=e[t];if(r){switch(t){case"dropbox":this.apiKeys.dropbox={appKey:r},void 0!==this.dropbox&&this.dropbox.clientId===r||p.default._rs_init(this);break;case"googledrive":this.apiKeys.googledrive={clientId:r},void 0!==this.googledrive&&this.googledrive.clientId===r||f.default._rs_init(this)}return!0}delete this.apiKeys[t]}),w&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))}setCordovaRedirectUri(e){if("string"!=typeof e||!e.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");i.default.cordovaRedirectUri=e}_setGPD(e,t){function r(e){return function(...r){return e.apply(t,r).then(P.bind(this))}}this.get=r(e.get),this.put=r(e.put),this.delete=r(e.delete)}_pendingGPD(e){return(...t)=>{const r=Array.prototype.slice.call(t);return new Promise((t,n)=>{this._pending.push({method:e,args:r,promise:{resolve:t,reject:n}})})}}_processPending(){this._pending.forEach(e=>{try{this[e.method](...e.args).then(e.promise.resolve,e.promise.reject)}catch(t){e.promise.reject(t)}}),this._pending=[]}_bindChange(e){e.on("change",this._dispatchEvent.bind(this,"change"))}_dispatchEvent(e,t){Object.keys(this._pathHandlers[e]).forEach(r=>{const n=r.length;t.path.substr(0,n)===r&&this._pathHandlers[e][r].forEach(e=>{const n={};for(const e in t)n[e]=t[e];n.relativePath=t.path.replace(new RegExp("^"+r),"");try{e(n)}catch(e){console.error("'change' handler failed: ",e,e.stack),this._emit("error",e)}})})}scope(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.scope must be a string";if(!this.access.checkPathPermission(e,"r")){const t=e.replace(/(['\\])/g,"\\$1");console.warn("WARNING: please call remoteStorage.access.claim('"+t+"', 'r') (read only) or remoteStorage.access.claim('"+t+"', 'rw') (read/write) first")}return new l.default(this,e)}getSyncInterval(){return i.default.syncInterval}setSyncInterval(e){if(!E(e))throw e+" is not a valid sync interval";const t=i.default.syncInterval;i.default.syncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})}getBackgroundSyncInterval(){return i.default.backgroundSyncInterval}setBackgroundSyncInterval(e){if(!E(e))throw e+" is not a valid sync interval";const t=i.default.backgroundSyncInterval;i.default.backgroundSyncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})}getCurrentSyncInterval(){return i.default.isBackground?i.default.backgroundSyncInterval:i.default.syncInterval}getRequestTimeout(){return i.default.requestTimeout}setRequestTimeout(e){if("number"!=typeof e)throw e+" is not a valid request timeout";i.default.requestTimeout=e}syncCycle(){this.sync&&!this.sync.stopped&&(this.on("sync-done",()=>{this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}),this.sync.sync())}startSync(){return i.default.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())}stopSync(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?this.sync.stopped=!0:this.syncStopped=!0}addModule(e){const t=e.name,r=e.builder;if(Object.defineProperty(this,t,{configurable:!0,get:function(){const e=this._loadModule(t,r);return Object.defineProperty(this,t,{value:e}),e}}),-1!==t.indexOf("-")){const e=t.replace(/\-[a-z]/g,(function(e){return e[1].toUpperCase()}));Object.defineProperty(this,e,{get:function(){return this[t]}})}}_loadModule(e,t){if(t){return t(new l.default(this,"/"+e+"/"),new l.default(this,"/public/"+e+"/")).exports}throw"Unknown module: "+e}}T.Authorize=c.default,T.SyncError=g.default,T.Unauthorized=y.default,T.DiscoveryError=m.default.DiscoveryError,T.util=_,Object.defineProperty(T.prototype,"connected",{get:function(){return this.remote.connected}}),Object.defineProperty(T.prototype,"access",{get:function(){const e=new u.default;return Object.defineProperty(this,"access",{value:e}),e},configurable:!0}),Object.defineProperty(T.prototype,"caching",{configurable:!0,get:function(){const e=new h.default;return Object.defineProperty(this,"caching",{value:e}),e}}),a.applyMixins(T,[d.default]),t.default=T},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(20),o=r(21),i=r(22);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),o=(e=a(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|f(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|f(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var h=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){h=!1;break}if(h)return i}return-1}function _(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return J(B(t,e.length-r),e,r,n)}function w(e,t,r,n){return J(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return J(q(t),e,r,n)}function T(e,t,r,n){return J(function(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,u,c=e[o],l=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(n,o),l=e.slice(t,r),h=0;h<a;++h)if(c[h]!==l[h]){i=c[h],s=l[h];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return P(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=L(e[i]);return o}function k(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function x(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function j(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return i||j(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return i||j(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=u.isBuffer(e)?e:B(new u(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(5))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=0,a=r-o;s<a;s+=16383)i.push(l(e,s,s+16383>a?a:s+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?o-1:0,d=r?-1:1,f=e[t+h];for(h+=d,i=f&(1<<-l)-1,f>>=-l,l+=a;l>0;i=256*i+e[t+h],h+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),i-=c}return(f?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,h=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,o),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;e[r+f]=255&a,f+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+f]=255&s,f+=p,s/=256,c-=8);e[r+f-p]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e,t,r,n;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var i=[];for(var s in o)e.call(o,s)&&i.push(s);if(t)for(var a=0;a<n;a++)e.call(o,r[a])&&i.push(r[a]);return i})),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var o=n>=0?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var o={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},i={"*":!0};function s(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,(function(e){return"%"+e.substring(3)}))}function a(e){var t="";o[e.charAt(0)]&&(t=e.charAt(0),e=e.substring(1));var r="",n="",a=!0,u=!1,c=!1;"+"===t?a=!1:"."===t?(n=".",r="."):"/"===t?(n="/",r="/"):"#"===t?(n="#",a=!1):";"===t?(n=";",r=";",u=!0,c=!0):"?"===t?(n="?",r="&",u=!0):"&"===t&&(n="&",r="&",u=!0);for(var l=[],h=e.split(","),d=[],f={},p=0;p<h.length;p++){var m=h[p],g=null;if(-1!==m.indexOf(":")){var y=m.split(":");m=y[0],g=parseInt(y[1],10)}for(var v={};i[m.charAt(m.length-1)];)v[m.charAt(m.length-1)]=!0,m=m.substring(0,m.length-1);var _={truncate:g,name:m,suffices:v};d.push(_),f[m]=_,l.push(m)}var b=function(e){for(var t="",o=0,i=0;i<d.length;i++){var l=d[i],h=e(l.name);if(null==h||Array.isArray(h)&&0===h.length||"object"==typeof h&&0===Object.keys(h).length)o++;else if(t+=i===o?n:r||",",Array.isArray(h)){u&&(t+=l.name+"=");for(var f=0;f<h.length;f++)f>0&&(t+=l.suffices["*"]&&r||",",l.suffices["*"]&&u&&(t+=l.name+"=")),t+=a?encodeURIComponent(h[f]).replace(/!/g,"%21"):s(h[f])}else if("object"==typeof h){u&&!l.suffices["*"]&&(t+=l.name+"=");var p=!0;for(var m in h)p||(t+=l.suffices["*"]&&r||","),p=!1,t+=a?encodeURIComponent(m).replace(/!/g,"%21"):s(m),t+=l.suffices["*"]?"=":",",t+=a?encodeURIComponent(h[m]).replace(/!/g,"%21"):s(h[m])}else u&&(t+=l.name,c&&""===h||(t+="=")),null!=l.truncate&&(h=h.substring(0,l.truncate)),t+=a?encodeURIComponent(h).replace(/!/g,"%21"):s(h)}return t};return b.varNames=l,{prefix:n,substitution:b}}function u(e){if(!(this instanceof u))return new u(e);for(var t=e.split("{"),r=[t.shift()],n=[],o=[],i=[];t.length>0;){var s=t.shift(),c=s.split("}")[0],l=s.substring(c.length+1),h=a(c);o.push(h.substitution),n.push(h.prefix),r.push(l),i=i.concat(h.substitution.varNames)}this.fill=function(e){for(var t=r[0],n=0;n<o.length;n++)t+=(0,o[n])(e),t+=r[n+1];return t},this.varNames=i,this.template=e}u.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill((function(t){return e[t]}))}};var c=function(e,t,r,n,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=r||y("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},e)for(var i in e.definedKeywords)this.definedKeywords[i]=e.definedKeywords[i].slice(0)};function l(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1}else{var n;for(n in e)if(void 0===t[n]&&void 0!==e[n])return!1;for(n in t)if(void 0===e[n]&&void 0!==t[n])return!1;for(n in e)if(!l(e[n],t[n]))return!1}return!0}return!1}c.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},c.prototype.createError=function(e,t,r,n,o,i,s){var a=new P(e,t,r,n,o);return a.message=this.errorReporter(a,i,s),a},c.prototype.returnError=function(e){return e},c.prototype.collectError=function(e){return e&&this.errors.push(e),null},c.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},c.prototype.banUnknownProperties=function(e,t){for(var r in this.unknownPropertyPaths){var n=this.createError(v.UNKNOWN_PROPERTY,{path:r},r,"",null,e,t),o=this.handleError(n);if(o)return o}return null},c.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},c.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if((t=t||{})[e.$ref])return this.createError(v.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},c.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,o="";if(-1!==e.indexOf("#")&&(o=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var i=decodeURIComponent(o);if(""===i)return this.resolveRefs(r,t);if("/"!==i.charAt(0))return;for(var s=i.split("/").slice(1),a=0;a<s.length;a++){var u=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[u]){r=void 0;break}r=r[u]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},c.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.searchSchemas(e[r],t);else if(e&&"object"==typeof e)for(var n in"string"==typeof e.id&&function(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e),e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var o=m(e[n]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}},c.prototype.addSchema=function(e,t){if("string"!=typeof e||void 0===t){if("object"!=typeof e||"string"!=typeof e.id)return;e=(t=e).id}e===m(e)+"#"&&(e=m(e)),this.schemas[e]=t,delete this.missingMap[e],g(t,e),this.searchSchemas(t,e)},c.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},c.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},c.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},c.prototype.dropSchemas=function(){this.schemas={},this.reset()},c.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},c.prototype.validateAll=function(e,t,r,n,o){var i;if(!(t=this.resolveRefs(t)))return null;if(t instanceof P)return this.errors.push(t),t;var s,a=this.errors.length,u=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(i=!this.scanned.length,e[this.validatedSchemasKey]){var l=e[this.validatedSchemasKey].indexOf(t);if(-1!==l)return this.errors=this.errors.concat(e[this.validationErrorsKey][l]),null}if(Object.isFrozen(e)&&-1!==(s=this.scannedFrozen.indexOf(e))){var h=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][h]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),u=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][u]=t,this.scannedFrozenValidationErrors[s][u]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var d=this.errors.length,f=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateHypermedia(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(i){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(f||d!==this.errors.length)for(;r&&r.length||n&&n.length;){var p=r&&r.length?""+r.pop():null,m=n&&n.length?""+n.pop():null;f&&(f=f.prefixWith(p,m)),this.prefixErrors(d,p,m)}return null!==u?this.scannedFrozenValidationErrors[s][u]=this.errors.slice(a):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(a)),this.handleError(f)},c.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r},"","/format",null,e,t):r&&"object"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||"",r.schemaPath||"/format",null,e,t):null},c.prototype.validateDefinedKeywords=function(e,t,r){for(var n in this.definedKeywords)if(void 0!==t[n])for(var o=this.definedKeywords[n],i=0;i<o.length;i++){var s=(0,o[i])(e,t[n],t,r);if("string"==typeof s||"number"==typeof s)return this.createError(v.KEYWORD_CUSTOM,{key:n,message:s},"","",null,e,t).prefixWith(null,n);if(s&&"object"==typeof s){var a=s.code;if("string"==typeof a){if(!v[a])throw new Error("Undefined error code (use defineError): "+a);a=v[a]}else"number"!=typeof a&&(a=v.KEYWORD_CUSTOM);var u="object"==typeof s.message?s.message:{key:n,message:s.message||"?"},c=s.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(a,u,s.dataPath||null,c,null,e,t)}}return null},c.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))?n.prefixWith(null,"type"):(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},c.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var i=n[o];if(i===r||"integer"===i&&"number"===r&&e%1==0)return null}return this.createError(v.INVALID_TYPE,{type:r,expected:n.join("/")},"","",null,e,t)},c.prototype.validateEnum=function(e,t){if(void 0===t.enum)return null;for(var r=0;r<t.enum.length;r++)if(l(e,t.enum[r]))return null;return this.createError(v.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e},"","",null,e,t)},c.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||this.validateNaN(e,t,r)||null};var h=Math.pow(2,-51),d=1-h;function f(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function p(e,t){return t=f(t||""),e=f(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(r=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,n=[],r.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?n.pop():n.push(e)})),n.join("").replace(/^\//,"/"===r.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var r,n}function m(e){return e.split("#")[0]}function g(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=p(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)g(e[r],t);else for(var n in"string"==typeof e.$ref&&(e.$ref=p(t,e.$ref)),e)"enum"!==n&&g(e[n],t)}function y(e){var t=E[e=e||"en"];return function(e){var r=t[e.code]||w[e.code];if("string"!=typeof r)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var n=e.params;return r.replace(/\{([^{}]*)\}/g,(function(e,t){var r=n[t];return"string"==typeof r||"number"==typeof r?r:e}))}}c.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;if(void 0===r)return null;if("number"==typeof e){var n=e/r%1;if(n>=h&&n<d)return this.createError(v.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r},"","",null,e,t)}return null},c.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(v.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(v.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(v.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(v.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null},c.prototype.validateNaN=function(e,t){return"number"!=typeof e?null:!0===isNaN(e)||e===1/0||e===-1/0?this.createError(v.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null},c.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},c.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(v.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(v.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null},c.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||"string"!=typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var r;if(t.pattern instanceof RegExp)r=t.pattern;else{var n,o="",i=t.pattern.match(/^\/(.+)\/([img]*)$/);i?(n=i[1],o=i[2]):n=t.pattern,r=new RegExp(n,o)}return r.test(e)?null:this.createError(v.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)},c.prototype.validateArray=function(e,t,r){return Array.isArray(e)&&(this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r))||null},c.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(v.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems},"","/minItems",null,e,t),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(v.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t),this.handleError(r))?r:null},c.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var r=0;r<e.length;r++)for(var n=r+1;n<e.length;n++)if(l(e[r],e[n])){var o=this.createError(v.ARRAY_UNIQUE,{match1:r,match2:n},"","/uniqueItems",null,e,t);if(this.handleError(o))return o}return null},c.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(n=this.validateAll(e[o],t.items[o],[o],["items",o],r+"/"+o))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(v.ARRAY_ADDITIONAL_ITEMS,{},"/"+o,"/additionalItems",null,e,t),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],r+"/"+o))return n}else for(o=0;o<e.length;o++)if(n=this.validateAll(e[o],t.items,[o],["items"],r+"/"+o))return n;return null},c.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},c.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties},"","/minProperties",null,e,t),this.handleError(r))?r:void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties},"","/maxProperties",null,e,t),this.handleError(r))?r:null},c.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var o=this.createError(v.OBJECT_REQUIRED,{key:n},"","/required/"+r,null,e,t);if(this.handleError(o))return o}}return null},c.prototype.validateObjectProperties=function(e,t,r){var n;for(var o in e){var i=r+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(s=!0,n=this.validateAll(e[o],t.properties[o],[o],["properties",o],i)))return n;if(void 0!==t.patternProperties)for(var a in t.patternProperties)if(new RegExp(a).test(o)&&(s=!0,n=this.validateAll(e[o],t.patternProperties[a],[o],["patternProperties",a],i)))return n;if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(v.OBJECT_ADDITIONAL_PROPERTIES,{key:o},"","/additionalProperties",null,e,t).prefixWith(o,null),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],i))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[i]&&(this.unknownPropertyPaths[i]=!0)}return null},c.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var i=t.dependencies[o];if("string"==typeof i){if(void 0===e[i]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:i},"","",null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(i))for(var s=0;s<i.length;s++){var a=i[s];if(void 0===e[a]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:a},"","/"+s,null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,i,[],["dependencies",o],r))return n}return null},c.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},c.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,o=0;o<t.allOf.length;o++){var i=t.allOf[o];if(n=this.validateAll(e,i,[],["allOf",o],r))return n}return null},c.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,o,i=[],s=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var a=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.anyOf[u],l=this.errors.length,h=this.validateAll(e,c,[],["anyOf",u],r);if(null===h&&l===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0);a=!1;continue}return null}h&&i.push(h.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),a?(i=i.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(v.ANY_OF_MISSING,{},"","/anyOf",i,e,t)):void 0},c.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,o,i=null,s=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.oneOf[u],l=this.errors.length,h=this.validateAll(e,c,[],["oneOf",u],r);if(null===h&&l===this.errors.length){if(null!==i)return this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MULTIPLE,{index1:i,index2:u},"","/oneOf",null,e,t);if(i=u,this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0)}}else h&&s.push(h)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===i?(s=s.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MISSING,{},"","/oneOf",s,e,t)):(this.errors=this.errors.slice(0,a),null)},c.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,o,i=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(e,t.not,null,null,r),a=this.errors.slice(i);return this.errors=this.errors.slice(0,i),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===s&&0===a.length?this.createError(v.NOT_PASSED,{},"","/not",null,e,t):null},c.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var n,o=0;o<t.links.length;o++){var i=t.links[o];if("describedby"===i.rel){for(var s=new u(i.href),a=!0,c=0;c<s.varNames.length;c++)if(!(s.varNames[c]in e)){a=!1;break}if(a){var l={$ref:s.fillFromObject(e)};if(n=this.validateAll(e,l,[],["links",o],r))return n}}}};var v={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},_={};for(var b in v)_[v[b]]=b;var w={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function P(e,t,r,n,o){if(Error.call(this),void 0===e)throw new Error("No error code supplied: "+n);this.message="",this.params=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=o||null;var i=new Error(this.message);if(this.stack=i.stack||i.stacktrace,!this.stack)try{throw i}catch(i){this.stack=i.stack||i.stacktrace}}P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P.prototype.name="ValidationError",P.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var E={},T=function e(t){var r,n,o=new c,i={setErrorReporter:function(e){return"string"==typeof e?this.language(e):(n=e,!0)},addFormat:function(){o.addFormat.apply(o,arguments)},language:function(e){return e?(E[e]||(e=e.split("-")[0]),!!E[e]&&(r=e,e)):r},addLanguage:function(e,t){var r;for(r in v)t[r]&&!t[v[r]]&&(t[v[r]]=t[r]);var n=e.split("-")[0];if(E[n])for(r in E[e]=Object.create(E[n]),t)void 0===E[n][r]&&(E[n][r]=t[r]),E[e][r]=t[r];else E[e]=t,E[n]=t;return this},freshApi:function(t){var r=e();return t&&r.language(t),r},validate:function(e,t,i,s){var a=y(r),u=new c(o,!1,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t);var l=u.validateAll(e,t,null,null,"");return!l&&s&&(l=u.banUnknownProperties(e,t)),this.error=l,this.missing=u.missing,this.valid=null===l,this.valid},validateResult:function(){var e={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(e,arguments),e},validateMultiple:function(e,t,i,s){var a=y(r),u=new c(o,!0,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t),u.validateAll(e,t,null,null,""),s&&u.banUnknownProperties(e,t);var l={toString:function(){return this.valid?"valid":this.error.message}};return l.errors=u.errors,l.missing=u.missing,l.valid=0===l.errors.length,l},addSchema:function(){return o.addSchema.apply(o,arguments)},getSchema:function(){return o.getSchema.apply(o,arguments)},getSchemaMap:function(){return o.getSchemaMap.apply(o,arguments)},getSchemaUris:function(){return o.getSchemaUris.apply(o,arguments)},getMissingUris:function(){return o.getMissingUris.apply(o,arguments)},dropSchemas:function(){o.dropSchemas.apply(o,arguments)},defineKeyword:function(){o.defineKeyword.apply(o,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==v[e])throw new Error("Error already defined: "+e+" as "+v[e]);if(void 0!==_[t])throw new Error("Error code already used: "+_[t]+" as "+t);for(var n in v[e]=t,_[t]=e,w[e]=w[t]=r,E){var o=E[n];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){o.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:g,resolveUrl:p,getDocumentUri:m,errorCodes:v};return i.language(t||"en"),i}();return T.addLanguage("en-gb",w),T.tv4=T,T})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.uris={},this.schemas={},this.aliases={}}declare(e,t,r,n){const o=e+"/"+t;if(n.extends){const t=n.extends.split("/"),r=1===t.length?e+"/"+t.shift():t.join("/"),i=this.uris[r];if(!i)throw"Type '"+o+"' tries to extend unknown schema '"+r+"'";n.extends=this.schemas[i]}this.uris[o]=r,this.aliases[r]=o,this.schemas[r]=n}resolveAlias(e){return this.uris[e]}getSchema(e){return this.schemas[e]}inScope(e){const t=e.length,r={};for(const n in this.uris)if(n.substr(0,t+1)===e+"/"){const e=this.uris[n];r[e]=this.schemas[e]}return r}}t.BaseClientTypes=n;const o=new n;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super();const t=new Error("Schema not found: "+e);return t.name="SchemaNotFound",t}}t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._itemsRev={},this._storage={},this._canPropagate=!1,this.defaultValue=e,this.activatePropagation()}get(e){e=e.toLowerCase();let t=this._storage[e];return void 0===t&&(t=this.defaultValue,this._storage[e]=t),t}set(e,t){return e=e.toLowerCase(),this._storage[e]===t?t:(this._storage[e]=t,t||delete this._itemsRev[e],this._updateParentFolderItemRev(e,t),this._canPropagate&&this._propagate(e),t)}delete(e){return this.set(e,null)}deactivatePropagation(){return this._canPropagate=!1,!0}activatePropagation(){return!!this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0,!0)}_hashCode(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}_generateHash(e){const t=e.sort().join("|");return""+this._hashCode(t)}_updateParentFolderItemRev(e,t){if("/"!==e){const r=this._getParentFolder(e);this._itemsRev[r]||(this._itemsRev[r]={});const n=this._itemsRev[r];t?n[e]=t:delete n[e],this._updateParentFolderItemRev(r,this.defaultValue)}}_getParentFolder(e){return e.substr(0,e.lastIndexOf("/",e.length-2)+1)}_propagate(e){if("/"!==e){const t=this._getParentFolder(e),r=this._itemsRev[t],n=[];for(const e in r)n.push(r[e]);const o=this._generateHash(n);this.set(t,o)}}_generateFolderRev(e){const t=this._itemsRev[e];let r=this.defaultValue;if(t){const e=[];for(const r in t){let n;n="/"===r.substr(-1)?this._generateFolderRev(r):t[r],e.push(n)}e.length>0&&(r=this._generateHash(e))}return this.set(e,r),r}}},function(e,t,r){var n;
/*!
 * webfinger.js
 *   version 2.7.0
 *   http://github.com/silverbucket/webfinger.js
 *
 * Developed and Maintained by:
 *   Nick Jennings <nick@silverbucket.net> 2012
 *
 * webfinger.js is released under the AGPL (see LICENSE).
 *
 * You don't have to do anything special to choose one license or the other and you don't
 * have to notify anyone which license you are using.
 * Please see the corresponding license file for details of these licenses.
 * You are free to use, modify and distribute this software, but all copyright
 * information must remain.
 *
 */"function"!=typeof fetch&&"function"!=typeof XMLHttpRequest&&(XMLHttpRequest=r(28)),function(r){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},i={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},s=["webfinger","host-meta","host-meta.json"];function a(e){return e.toString=function(){return this.message},e}function u(e){"object"!=typeof e&&(e={}),this.config={tls_only:void 0===e.tls_only||e.tls_only,webfist_fallback:void 0!==e.webfist_fallback&&e.webfist_fallback,uri_fallback:void 0!==e.uri_fallback&&e.uri_fallback,request_timeout:void 0!==e.request_timeout?e.request_timeout:1e4}}u.prototype.__fetchJRD=function(e,t,r){if("function"==typeof fetch)return this.__fetchJRD_fetch(e,t,r);if("function"==typeof XMLHttpRequest)return this.__fetchJRD_XHR(e,t,r);throw new Error("add a polyfill for fetch or XMLHttpRequest")},u.prototype.__fetchJRD_fetch=function(e,t,r){var n,o=this;"function"==typeof AbortController&&(n=new AbortController);var i=fetch(e,{headers:{Accept:"application/jrd+json, application/json"},signal:n?n.signal:void 0}).then((function(t){if(t.ok)return t.text();throw 404===t.status?a({message:"resource not found",url:e,status:t.status}):a({message:"error during request",url:e,status:t.status})}),(function(t){throw a({message:"error during request",url:e,status:void 0,err:t})})).then((function(t){if(o.__isValidJSON(t))return t;throw a({message:"invalid json",url:e,status:void 0})})),s=new Promise((function(t,r){setTimeout((function(){r(a({message:"request timed out",url:e,status:void 0})),n&&n.abort()}),o.config.request_timeout)}));Promise.race([i,s]).then((function(e){r(e)})).catch((function(e){t(e)}))},u.prototype.__fetchJRD_XHR=function(e,t,r){var n=this,o=!1,i=new XMLHttpRequest;function s(){if(!o){if(o=!0,200===i.status)return n.__isValidJSON(i.responseText)?r(i.responseText):t(a({message:"invalid json",url:e,status:i.status}));if(404===i.status)return t(a({message:"resource not found",url:e,status:i.status}));if(i.status>=301&&i.status<=302){var s=i.getResponseHeader("Location");return function(e){return"string"==typeof e&&"https"===e.split("://")[0]}(s)?u():t(a({message:"no redirect URL found",url:e,status:i.status}))}return t(a({message:"error during request",url:e,status:i.status}))}}function u(){i.onreadystatechange=function(){4===i.readyState&&s()},i.onload=function(){s()},i.ontimeout=function(){return t(a({message:"request timed out",url:e,status:i.status}))},i.open("GET",e,!0),i.timeout=n.config.request_timeout,i.setRequestHeader("Accept","application/jrd+json, application/json"),i.send()}return u()},u.prototype.__isValidJSON=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},u.prototype.__isLocalhost=function(e){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(e)},u.prototype.__processJRD=function(e,t,r,n){var s=JSON.parse(t);if("object"!=typeof s||"object"!=typeof s.links)return void 0!==s.error?r(a({message:s.error,request:e})):r(a({message:"unknown response from server",request:e}));var u=s.links;Array.isArray(u)||(u=[]);var c={object:s,json:t,idx:{}};c.idx.properties={name:void 0},c.idx.links=JSON.parse(JSON.stringify(i)),u.map((function(e,t){if(o.hasOwnProperty(e.rel)&&c.idx.links[o[e.rel]]){var r={};Object.keys(e).map((function(t,n){r[t]=e[t]})),c.idx.links[o[e.rel]].push(r)}}));var l=JSON.parse(t).properties;for(var h in l)l.hasOwnProperty(h)&&"http://packetizer.com/ns/name"===h&&(c.idx.properties.name=l[h]);return n(c)},u.prototype.lookup=function(e,t){if("string"!=typeof e)throw new Error("first parameter must be a user address");if("function"!=typeof t)throw new Error("second parameter must be a callback");var r=this,n="";n=e.indexOf("://")>-1?e.replace(/ /g,"").split("/")[2]:e.replace(/ /g,"").split("@")[1];var o=0,i="https";function a(){var t="";return e.split("://")[1]||(t="acct:"),i+"://"+n+"/.well-known/"+s[o]+"?resource="+t+e}function u(e){if(r.config.uri_fallback&&"webfist.org"!==n&&o!==s.length-1)return o+=1,c();if(!r.config.tls_only&&"https"===i)return o=0,i="http",c();if(!r.config.webfist_fallback||"webfist.org"===n)return t(e);o=0,i="http",n="webfist.org";var u=a();r.__fetchJRD(u,t,(function(e){r.__processJRD(u,e,t,(function(e){"object"==typeof e.idx.links.webfist&&"string"==typeof e.idx.links.webfist[0].href&&r.__fetchJRD(e.idx.links.webfist[0].href,t,(function(e){r.__processJRD(u,e,t,(function(e){return t(null,t)}))}))}))}))}function c(){var e=a();r.__fetchJRD(e,u,(function(n){r.__processJRD(e,n,t,(function(e){t(null,e)}))}))}return(r.__isLocalhost(n)&&(i="http"),setTimeout(c,0))},u.prototype.lookupLink=function(e,t,r){if(!i.hasOwnProperty(t))return r("unsupported rel "+t);this.lookup(e,(function(e,n){var o=n.idx.links[t];return e?r(e):0===o.length?r('no links found with rel="'+t+'"'):r(null,o[0])}))},void 0===(n=function(){return u}.apply(t,[]))||(e.exports=n)}()},function(e,t){e.exports=XMLHttpRequest},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(3)),i=n(r(16)),s=n(r(1)),a=r(0),u=n(r(30)),c=n(r(11)),l=n(r(6)),h=n(r(15)),d=n(r(7)),f=n(r(13)),p=n(r(14)),m=n(r(8)),g=n(r(31)),y=n(r(12)),v=n(r(32)),_=n(r(33)),b=n(r(34)),w={features:[],featuresDone:0,readyFired:!1,loadFeatures(){this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:m.default,Dropbox:p.default,GoogleDrive:f.default,Access:c.default,Discover:h.default,Authorize:l.default,BaseClient:d.default,Env:i.default},o.default.cache&&a.extend(this.featureModules,{Caching:y.default,IndexedDB:v.default,LocalStorage:_.default,InMemoryStorage:b.default,Sync:g.default}),o.default.disableFeatures.forEach(e=>{this.featureModules[e]&&delete this.featureModules[e]}),this._allLoaded=!1;for(const e in this.featureModules)this.loadFeature(e)},hasFeature(e){for(let t=this.features.length-1;t>=0;t--)if(this.features[t].name===e)return this.features[t].supported;return!1},loadFeature(e){const t=this.featureModules[e],r=!t._rs_supported||t._rs_supported();s.default(`[RemoteStorage] [FEATURE ${e}] initializing ...`),"object"==typeof r?r.then(()=>{this.featureSupported(e,!0),this.initFeature(e)},()=>{this.featureSupported(e,!1)}):"boolean"==typeof r?(this.featureSupported(e,r),r&&this.initFeature(e)):this.featureSupported(e,!1)},initFeature(e){const t=this.featureModules[e];let r;try{r=t._rs_init(this)}catch(t){return void this.featureFailed(e,t)}"object"==typeof r&&"function"==typeof r.then?r.then(()=>{this.featureInitialized(e)},t=>{this.featureFailed(e,t)}):this.featureInitialized(e)},featureFailed(e,t){s.default(`[RemoteStorage] [FEATURE ${e}] initialization failed (${t})`),this.featureDone()},featureSupported(e,t){s.default(`[RemoteStorage] [FEATURE ${e}]${t?"":"not "} supported`),t||this.featureDone()},featureInitialized(e){s.default(`[RemoteStorage] [FEATURE ${e}] initialized`),this.features.push({name:e,init:this.featureModules[e]._rs_init,supported:!0,cleanup:this.featureModules[e]._rs_cleanup}),this.featureDone()},featureDone(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule(){["IndexedDB","LocalStorage","InMemoryStorage"].some(e=>{if(this.features.some(t=>t.name===e))return this.features.local=this.featureModules[e],!0})},_fireReady(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(e){console.error("'ready' failed: ",e,e.stack),this._emit("error",e)}},featuresLoaded(){s.default("[RemoteStorage] All features loaded"),this._setCachingModule(),this.local=o.default.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(u.default,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",()=>{this._fireReady(),this._emit("connected")}),this.remote.on("not-connected",()=>{this._fireReady(),this._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(e){a.logError(e),this._emit("error",e)}this._processPending()},_collectCleanupFunctions(){this._cleanups=[];for(let e=0;e<this.features.length;e++){const t=this.features[e].cleanup;"function"==typeof t&&this._cleanups.push(t)}}};t.default=w},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(1));function s(e){return"dropbox"===this.backend&&!!e.match(/^\/public\/.*[^\/]$/)}const a={get:function(e,t){if(this.local){if(void 0===t)t="object"==typeof(r=this).remote&&r.remote.connected&&r.remote.online?2*r.getSyncInterval():(i.default("Not setting default maxAge, because remote is offline or not connected"),!1);else if("number"!=typeof t&&!1!==t)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(e,t,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(e);var r},put:function(e,t,r){return s.bind(this)(e)?a._wrapBusyDone.call(this,this.remote.put(e,t,r)):this.local?this.local.put(e,t,r):a._wrapBusyDone.call(this,this.remote.put(e,t,r))},delete:function(e){return this.local?this.local.delete(e):a._wrapBusyDone.call(this,this.remote.delete(e))},_wrapBusyDone:function(e){return n(this,void 0,void 0,(function*(){return this._emit("wire-busy"),e.then(e=>(this._emit("wire-done",{success:!0}),Promise.resolve(e)),e=>(this._emit("wire-done",{success:!1}),Promise.reject(e)))}))}};t.default=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(3)),s=o(r(16)),a=o(r(2)),u=o(r(1)),c=o(r(6)),l=o(r(9)),h=o(r(4)),d=r(0);let f,p;function m(e,t,r){return{action:e,path:t,promise:r}}function g(e,t){return e.common.revision!==t&&(!e.remote||e.remote.revision!==t)}function y(e){return e.common&&e.common.revision}class v{constructor(e){this.rs=e,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff(e=>{this.addTask(e),this.doTasks()}),this.rs.caching.onActivate(e=>{this.addTask(e),this.doTasks()}),this.addEvents(["done","req-done"])}now(){return(new Date).getTime()}queueGetRequest(e){return new Promise((t,r)=>{this.rs.remote.connected?this.rs.remote.online?(this.addTask(e,function(){this.rs.local.get(e).then(e=>t(e))}.bind(this)),this.doTasks()):r("cannot fulfill maxAge requirement - remote is not online"):r("cannot fulfill maxAge requirement - remote is not connected")})}corruptServerItemsMap(e,t){if("object"!=typeof e||Array.isArray(e))return!0;for(const r in e){const n=e[r];if("object"!=typeof n)return!0;if("string"!=typeof n.ETag)return!0;if(d.isFolder(r)){if(-1!==r.substring(0,r.length-1).indexOf("/"))return!0}else{if(-1!==r.indexOf("/"))return!0;if(t){if("string"!=typeof n["Content-Type"])return!0;if("number"!=typeof n["Content-Length"])return!0}}}return!1}corruptItemsMap(e){if("object"!=typeof e||Array.isArray(e))return!0;for(const t in e)if("boolean"!=typeof e[t])return!0;return!1}corruptRevision(e){return"object"!=typeof e||Array.isArray(e)||e.revision&&"string"!=typeof e.revision||e.body&&"string"!=typeof e.body&&"object"!=typeof e.body||e.contentType&&"string"!=typeof e.contentType||e.contentLength&&"number"!=typeof e.contentLength||e.timestamp&&"number"!=typeof e.timestamp||e.itemsMap&&this.corruptItemsMap(e.itemsMap)}isCorrupt(e){return"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.path||this.corruptRevision(e.common)||e.local&&this.corruptRevision(e.local)||e.remote&&this.corruptRevision(e.remote)||e.push&&this.corruptRevision(e.push)}hasTasks(){return Object.getOwnPropertyNames(this._tasks).length>0}collectDiffTasks(){return n(this,void 0,void 0,(function*(){let e=0;return this.rs.local.forAllNodes(t=>{e>100||(this.isCorrupt(t)?(u.default("[Sync] WARNING: corrupt node in local cache",t),"object"==typeof t&&t.path&&(this.addTask(t.path),e++)):this.needsFetch(t)&&this.rs.access.checkPathPermission(t.path,"r")?(this.addTask(t.path),e++):d.isDocument(t.path)&&this.needsPush(t)&&this.rs.access.checkPathPermission(t.path,"rw")&&(this.addTask(t.path),e++))}).then(()=>e).catch(e=>{throw e})}))}inConflict(e){return e.local&&e.remote&&(void 0!==e.remote.body||e.remote.itemsMap)}needsRefresh(e){return!!e.common&&(!e.common.timestamp||this.now()-e.common.timestamp>i.default.syncInterval)}needsFetch(e){return!!this.inConflict(e)||(!(!e.common||void 0!==e.common.itemsMap||void 0!==e.common.body)||!(!e.remote||void 0!==e.remote.itemsMap||void 0!==e.remote.body))}needsPush(e){return!this.inConflict(e)&&(!(!e.local||e.push)||void 0)}needsRemotePut(e){return e.local&&e.local.body}needsRemoteDelete(e){return e.local&&!1===e.local.body}getParentPath(e){const t=e.match(/^(.*\/)([^\/]+\/?)$/);if(t)return t[1];throw new Error('Not a valid path: "'+e+'"')}deleteChildPathsFromTasks(){for(const e in this._tasks){const t=d.pathsFromRoot(e);for(let r=1;r<t.length;r++)this._tasks[t[r]]&&(Array.isArray(this._tasks[e])&&this._tasks[e].length&&Array.prototype.push.apply(this._tasks[t[r]],this._tasks[e]),delete this._tasks[e])}}collectRefreshTasks(){return n(this,void 0,void 0,(function*(){return this.rs.local.forAllNodes(e=>{let t;if(this.needsRefresh(e)){try{t=this.getParentPath(e.path)}catch(e){}t&&this.rs.access.checkPathPermission(t,"r")?this.addTask(t):this.rs.access.checkPathPermission(e.path,"r")&&this.addTask(e.path)}}).then(()=>this.deleteChildPathsFromTasks()).catch(e=>{throw e})}))}flush(e){for(const t in e)"FLUSH"===this.rs.caching.checkPath(t)&&e[t]&&!e[t].local&&(u.default("[Sync] Flushing",t),e[t]=void 0);return e}doTask(e){return this.rs.local.getNodes([e]).then(t=>{const r=t[e];return void 0===r?m("get",e,this.rs.remote.get(e)):function(e){return e.remote&&e.remote.revision&&!e.remote.itemsMap&&!e.remote.body}(r)?m("get",e,this.rs.remote.get(e)):this.needsRemotePut(r)?(r.push=d.deepClone(r.local),r.push.timestamp=this.now(),this.rs.local.setNodes(this.flush(t)).then(()=>{let t;return t=y(r)?{ifMatch:r.common.revision}:{ifNoneMatch:"*"},m("put",e,this.rs.remote.put(e,r.push.body,r.push.contentType,t))})):this.needsRemoteDelete(r)?(r.push={body:!1,timestamp:this.now()},this.rs.local.setNodes(this.flush(t)).then(()=>y(r)?m("delete",e,this.rs.remote.delete(e,{ifMatch:r.common.revision})):m("get",e,this.rs.remote.get(e)))):y(r)?m("get",e,this.rs.remote.get(e,{ifNoneMatch:r.common.revision})):m("get",e,this.rs.remote.get(e))})}autoMergeFolder(e){if(e.remote.itemsMap&&(e.common=e.remote,delete e.remote,e.common.itemsMap)){for(const t in e.common.itemsMap)e.local.itemsMap[t]||(e.local.itemsMap[t]=!1);d.equal(e.local.itemsMap,e.common.itemsMap)&&delete e.local}return e}autoMergeDocument(e){return!function(e){return(!e.remote||!e.remote.revision||e.remote.revision===e.common.revision)&&(void 0===e.common.body&&!1===e.remote.body||e.remote.body===e.common.body&&e.remote.contentType===e.common.contentType)}(e)?void 0!==e.remote.body&&(u.default("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:e.path,oldValue:e.local.body,newValue:e.remote.body,lastCommonValue:e.common.body,oldContentType:e.local.contentType,newContentType:e.remote.contentType,lastCommonContentType:e.common.contentType}),e.remote.body?e.common=e.remote:e.common={},delete e.remote,delete e.local):delete(e=function(e){return e.remote&&!1===e.remote.body&&e.local&&!1===e.local.body&&delete e.local,e}(e)).remote,e}autoMerge(e){if(e.remote){if(e.local)return d.isFolder(e.path)?this.autoMergeFolder(e):this.autoMergeDocument(e);if(d.isFolder(e.path))void 0!==e.remote.itemsMap&&(e.common=e.remote,delete e.remote);else if(void 0!==e.remote.body){const t={origin:"remote",path:e.path,oldValue:!1===e.common.body?void 0:e.common.body,newValue:!1===e.remote.body?void 0:e.remote.body,oldContentType:e.common.contentType,newContentType:e.remote.contentType};if((t.oldValue||t.newValue)&&this.rs.local._emitChange(t),!e.remote.body)return;e.common=e.remote,delete e.remote}return e}e.common.body&&this.rs.local._emitChange({origin:"remote",path:e.path,oldValue:e.common.body,newValue:void 0,oldContentType:e.common.contentType,newContentType:void 0})}updateCommonTimestamp(e,t){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(r=>(r[e]&&r[e].common&&r[e].common.revision===t&&(r[e].common.timestamp=this.now()),this.rs.local.setNodes(this.flush(r))))}))}markChildren(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=[],i={},s={};for(const r in t)n.push(e+r),i[e+r]=t[r];for(const t in o)n.push(e+t);return this.rs.local.getNodes(n).then(t=>{let n,a;for(const u in t)if(a=t[u],i[u])a&&a.common?g(a,i[u].ETag)&&(r[u]=d.deepClone(a),r[u].remote={revision:i[u].ETag,timestamp:this.now()},r[u]=this.autoMerge(r[u])):(n=this.rs.caching.checkPath(u),"ALL"===n&&(r[u]={path:u,common:{timestamp:this.now()},remote:{revision:i[u].ETag,timestamp:this.now()}})),r[u]&&i[u]["Content-Type"]&&(r[u].remote.contentType=i[u]["Content-Type"]),r[u]&&i[u]["Content-Length"]&&(r[u].remote.contentLength=i[u]["Content-Length"]);else if(o[u.substring(e.length)]&&a&&a.common){if(a.common.itemsMap)for(const e in a.common.itemsMap)s[u+e]=!0;if(a.local&&a.local.itemsMap)for(const e in a.local.itemsMap)s[u+e]=!0;if(a.remote||d.isFolder(u))r[u]=void 0;else if(r[u]=this.autoMerge(a),void 0===r[u]){const t=this.getParentPath(u),n=r[t],o=u.substring(e.length);n&&n.local&&(delete n.local.itemsMap[o],d.equal(n.local.itemsMap,n.common.itemsMap)&&delete n.local)}}return this.deleteRemoteTrees(Object.keys(s),r).then(e=>this.rs.local.setNodes(this.flush(e)))})}))}deleteRemoteTrees(e,t){return n(this,void 0,void 0,(function*(){return 0===e.length?Promise.resolve(t):this.rs.local.getNodes(e).then(e=>n(this,void 0,void 0,(function*(){const r={};function n(e,t){if(e&&e.itemsMap)for(const n in e.itemsMap)r[t+n]=!0}for(const r in e){const o=e[r];o&&(d.isFolder(r)?(n(o.common,r),n(o.local,r)):o.common&&void 0!==typeof o.common.body&&(t[r]=d.deepClone(o),t[r].remote={body:!1,timestamp:this.now()},t[r]=this.autoMerge(t[r])))}return this.deleteRemoteTrees(Object.keys(r),t).then(e=>this.rs.local.setNodes(this.flush(e)))})))}))}completeFetch(e,t,r,o){return n(this,void 0,void 0,(function*(){let n,i;const s=d.pathsFromRoot(e);return d.isFolder(e)?n=[e]:(i=s[1],n=[e,i]),this.rs.local.getNodes(n).then(n=>{let s,a,u=n[e];const c={};function l(e){if(e&&e.itemsMap)for(s in e.itemsMap)t[s]||(c[s]=!0)}if("object"==typeof u&&u.path===e&&"object"==typeof u.common||(u={path:e,common:{}},n[e]=u),u.remote={revision:o,timestamp:this.now()},d.isFolder(e))for(s in l(u.common),l(u.remote),u.remote.itemsMap={},t)u.remote.itemsMap[s]=!0;else u.remote.body=t,u.remote.contentType=r,a=n[i],a&&a.local&&a.local.itemsMap&&(s=e.substring(i.length),a.local.itemsMap[s]=!0,d.equal(a.local.itemsMap,a.common.itemsMap)&&delete a.local);return n[e]=this.autoMerge(u),{toBeSaved:n,missingChildren:c}})}))}completePush(e,t,r,o){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(n=>{const i=n[e];if(!i.push)throw this.stopped=!0,new Error("completePush called but no push version!");return r?(u.default("[Sync] We have a conflict"),i.remote&&i.remote.revision===o||(i.remote={revision:o||"conflict",timestamp:this.now()},delete i.push),n[e]=this.autoMerge(i)):(i.common={revision:o,timestamp:this.now()},"put"===t?(i.common.body=i.push.body,i.common.contentType=i.push.contentType,d.equal(i.local.body,i.push.body)&&i.local.contentType===i.push.contentType&&delete i.local,delete i.push):"delete"===t&&(!1===i.local.body?n[e]=void 0:delete i.push)),this.rs.local.setNodes(this.flush(n))})}))}dealWithFailure(e){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(t=>{if(t[e])return delete t[e].push,this.rs.local.setNodes(this.flush(t))})}))}interpretStatus(e){const t={statusCode:e,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if("string"==typeof e&&("offline"===e||"timeout"===e))return t.successful=!1,t.networkProblems=!0,t;if("number"==typeof e){const r=Math.floor(e/100);return t.successful=2===r||304===e||412===e||404===e,t.conflict=412===e,t.unAuth=401===e&&this.rs.remote.token!==c.default.IMPLIED_FAKE_TOKEN||402===e||403===e,t.notFound=404===e,t.changed=304!==e,t}}handleGetResponse(e,t,r,o,i){return n(this,void 0,void 0,(function*(){return t.notFound&&(r=!!d.isFolder(e)&&{}),t.changed?this.completeFetch(e,r,o,i).then(t=>d.isFolder(e)?this.corruptServerItemsMap(r)?(u.default("[Sync] WARNING: Discarding corrupt folder description from server for "+e),!1):this.markChildren(e,r,t.toBeSaved,t.missingChildren).then(()=>!0):this.rs.local.setNodes(this.flush(t.toBeSaved)).then(()=>!0)):this.updateCommonTimestamp(e,i).then(()=>!0)}))}handleResponse(e,t,r){const n=this.interpretStatus(r.statusCode);if(n.successful){if("get"===t)return this.handleGetResponse(e,n,r.body,r.contentType,r.revision);if("put"===t||"delete"===t)return this.completePush(e,t,n.conflict,r.revision).then((function(){return!0}));throw new Error(`cannot handle response for unknown action ${t}`)}{let t;return t=n.unAuth?new h.default:n.networkProblems?new l.default("Network request failed."):new Error("HTTP response code "+n.statusCode+" received."),this.dealWithFailure(e).then(()=>{throw this.rs._emit("error",t),t})}}finishTask(e){if(void 0!==e.action)return e.promise.then(t=>this.handleResponse(e.path,e.action,t),t=>(u.default("[Sync] wireclient rejects its promise!",e.path,e.action,t),this.handleResponse(e.path,e.action,{statusCode:"offline"}))).then(t=>{if(delete this._timeStarted[e.path],delete this._running[e.path],t&&this._tasks[e.path]){for(let t=0;t<this._tasks[e.path].length;t++)this._tasks[e.path][t]();delete this._tasks[e.path]}this.rs._emit("sync-req-done"),this.collectTasks(!1).then(()=>{!this.hasTasks()||this.stopped?(u.default("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(this._tasks).length,this.stopped),this.done||(this.done=!0,this.rs._emit("sync-done"))):setTimeout(()=>{this.doTasks()},10)})},t=>{u.default("[Sync] Error",t),delete this._timeStarted[e.path],delete this._running[e.path],this.rs._emit("sync-req-done"),this.done||(this.done=!0,this.rs._emit("sync-done"))});delete this._running[e.path]}doTasks(){let e,t,r=0;e=this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0;const n=e-Object.getOwnPropertyNames(this._running).length;if(n<=0)return!0;for(t in this._tasks)if(!this._running[t]&&(this._timeStarted[t]=this.now(),this._running[t]=this.doTask(t),this._running[t].then(this.finishTask.bind(this)),r++,r>=n))return!0;return r>=n}collectTasks(e){return n(this,void 0,void 0,(function*(){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(t=>t||!1===e?Promise.resolve():this.collectRefreshTasks(),(function(e){throw e}))}))}addTask(e,t){this._tasks[e]||(this._tasks[e]=[]),"function"==typeof t&&this._tasks[e].push(t)}sync(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(()=>{try{this.doTasks()}catch(e){u.default("[Sync] doTasks error",e)}},(function(e){throw u.default("[Sync] Sync error",e),new Error("Local cache unavailable")}))}static _rs_init(e){f=function(){u.default("[Sync] syncCycleCb calling syncCycle");const t=new s.default;t.isBrowser()&&function(e,t){function r(e){const r=t.getCurrentSyncInterval();i.default.isBackground=!e;const n=t.getCurrentSyncInterval();t._emit("sync-interval-change",{oldValue:r,newValue:n})}e.on("background",()=>r(!1)),e.on("foreground",()=>r(!0))}(t,e),e.sync||(e.sync=new v(e),e.syncStopped&&(u.default("[Sync] Instantiating sync stopped"),e.sync.stopped=!0,delete e.syncStopped)),u.default("[Sync] syncCycleCb calling syncCycle"),e.syncCycle()},p=function(){e.removeEventListener("connected",p),e.startSync()},e.on("ready",f),e.on("connected",p)}static _rs_cleanup(e){e.stopSync(),e.removeEventListener("ready",f),e.removeEventListener("connected",p),e.sync=void 0,delete e.sync}}d.applyMixins(v,[a.default]),t.default=v},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(2)),s=o(r(10)),a=o(r(1)),u=r(0);let c;class l extends s.default{constructor(e){super(),this.addEvents(["change","local-events-done"]),this.db=e||c,this.db?(this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={},this.commitSlownessWarning=null):a.default("[IndexedDB] Failed to open DB")}getNodes(e){return n(this,void 0,void 0,(function*(){const t=[],r={};for(let n=0,o=e.length;n<o;n++)void 0!==this.changesQueued[e[n]]?r[e[n]]=u.deepClone(this.changesQueued[e[n]]||void 0):void 0!==this.changesRunning[e[n]]?r[e[n]]=u.deepClone(this.changesRunning[e[n]]||void 0):t.push(e[n]);return t.length>0?this.getNodesFromDb(t).then((function(e){for(const t in r)e[t]=r[t];return e})):Promise.resolve(r)}))}setNodes(e){return n(this,void 0,void 0,(function*(){for(const t in e)this.changesQueued[t]=e[t]||!1;return this.maybeFlush(),Promise.resolve()}))}maybeFlush(){0===this.putsRunning?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=e.setInterval((function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")}),1e4))}flushChangesQueued(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))}getNodesFromDb(e){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readonly"),o=n.objectStore("nodes"),i={};this.getsRunning++,e.map(e=>{o.get(e).onsuccess=t=>{i[e]=t.target.result}}),n.oncomplete=()=>{t(i),this.getsRunning--},n.onerror=n.onabort=()=>{r("get transaction error/abort"),this.getsRunning--}})}setNodesInDb(e){return n(this,void 0,void 0,(function*(){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readwrite"),o=n.objectStore("nodes"),i=(new Date).getTime();this.putsRunning++,a.default("[IndexedDB] Starting put",e,this.putsRunning);for(const t in e){const r=e[t];if("object"==typeof r)try{o.put(r)}catch(e){throw a.default("[IndexedDB] Error while putting",r,e),e}else try{o.delete(t)}catch(e){throw a.default("[IndexedDB] Error while removing",o,r,e),e}}n.oncomplete=()=>{this.putsRunning--,a.default("[IndexedDB] Finished put",e,this.putsRunning,(new Date).getTime()-i+"ms"),t()},n.onerror=()=>{this.putsRunning--,r("transaction error")},n.onabort=()=>{r("transaction abort"),this.putsRunning--}})}))}reset(e){const t=this.db.name;this.db.close(),l.clean(this.db.name,()=>{l.open(t,(t,r)=>{t?a.default("[IndexedDB] Error while resetting local storage",t):this.db=r,"function"==typeof e&&e(self)})})}forAllNodes(e){return n(this,void 0,void 0,(function*(){return new Promise(t=>{this.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=r=>{const n=r.target.result;n?(e(this.migrate(n.value)),n.continue()):t()}})}))}closeDB(){0===this.putsRunning?this.db.close():setTimeout(this.closeDB.bind(this),100)}static open(e,t){const r=setTimeout((function(){t("timeout trying to open db")}),1e4);try{const n=indexedDB.open(e,2);n.onerror=function(){a.default("[IndexedDB] Opening DB failed",n),clearTimeout(r),t(n.error)},n.onupgradeneeded=function(e){const t=n.result;a.default("[IndexedDB] Upgrade: from ",e.oldVersion," to ",e.newVersion),1!==e.oldVersion&&(a.default("[IndexedDB] Creating object store: nodes"),t.createObjectStore("nodes",{keyPath:"path"})),a.default("[IndexedDB] Creating object store: changes"),t.createObjectStore("changes",{keyPath:"path"})},n.onsuccess=function(){clearTimeout(r);const o=n.result;if(!o.objectStoreNames.contains("nodes")||!o.objectStoreNames.contains("changes"))return a.default("[IndexedDB] Missing object store. Resetting the database."),void l.clean(e,(function(){l.open(e,t)}));t(null,n.result)}}catch(n){a.default("[IndexedDB] Failed to open database: "+n),a.default("[IndexedDB] Resetting database and trying again."),clearTimeout(r),l.clean(e,(function(){l.open(e,t)}))}}static clean(e,t){const r=indexedDB.deleteDatabase(e);r.onsuccess=function(){a.default("[IndexedDB] Done removing DB"),t()},r.onerror=r.onabort=function(t){console.error('Failed to remove database "'+e+'"',t)}}static _rs_init(e){return new Promise((t,r)=>{l.open("remotestorage",(function(n,o){n?r(n):(c=o,o.onerror=()=>{e._emit("error",n)},t())}))})}static _rs_supported(){return new Promise((e,t)=>{const r=u.getGlobalContext();let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(n=!0)),"indexedDB"in r&&!n)try{const r=indexedDB.open("rs-check");r.onerror=function(){t()},r.onsuccess=function(){r.result.close(),indexedDB.deleteDatabase("rs-check"),e()}}catch(e){t()}else t()})}static _rs_cleanup(e){return new Promise(t=>{e.local&&e.local.closeDB(),l.clean("remotestorage",t)})}diffHandler(){}}u.applyMixins(l,[i.default]),t.default=l}).call(this,r(5))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(10)),i=n(r(2)),s=n(r(1)),a=r(0),u="remotestorage:cache:nodes:";function c(e){return e.substr(0,u.length)===u||"remotestorage:cache:changes:"===e.substr(0,"remotestorage:cache:changes:".length)}class l extends o.default{constructor(){super(),this.addEvents(["change","local-events-done"])}diffHandler(...e){}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)try{t[e[r]]=JSON.parse(localStorage[u+e[r]])}catch(n){t[e[r]]=void 0}return Promise.resolve(t)}setNodes(e){for(const t in e)localStorage[u+t]=JSON.stringify(e[t]);return Promise.resolve()}forAllNodes(e){let t;for(let r=0,n=localStorage.length;r<n;r++)if(localStorage.key(r).substr(0,u.length)===u){try{t=this.migrate(JSON.parse(localStorage[localStorage.key(r)]))}catch(e){t=void 0}t&&e(t)}return Promise.resolve()}static _rs_init(){}static _rs_supported(){return a.localStorageAvailable()}static _rs_cleanup(){const e=[];for(let t=0,r=localStorage.length;t<r;t++){const r=localStorage.key(t);c(r)&&e.push(r)}e.forEach(e=>{s.default("[LocalStorage] Removing",e),delete localStorage[e]})}}a.applyMixins(l,[i.default]),t.default=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2)),i=n(r(10));class s extends i.default{constructor(){super(),this._storage={},this.addEvents(["change","local-events-done"])}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)t[e[r]]=this._storage[e[r]];return Promise.resolve(t)}setNodes(e){for(const t in e)void 0===e[t]?delete this._storage[t]:this._storage[t]=e[t];return Promise.resolve()}forAllNodes(e){for(const t in this._storage)e(this.migrate(this._storage[t]));return Promise.resolve()}diffHandler(){}static _rs_init(){}static _rs_supported(){return!0}static _rs_cleanup(){}}r(0).applyMixins(s,[o.default]),t.default=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdXRpbC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2xvZy50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2V2ZW50aGFuZGxpbmcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy91bmF1dGhvcml6ZWQtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hdXRob3JpemUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9iYXNlY2xpZW50LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvd2lyZWNsaWVudC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL3N5bmMtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hY2Nlc3MudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZ29vZ2xlZHJpdmUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9kcm9wYm94LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZGlzY292ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9lbnYudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9yZW1vdGVzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL25vZGVfbW9kdWxlcy90djQvdHY0LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zY2hlbWEtbm90LWZvdW5kLWVycm9yLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvcmV2aXNpb25jYWNoZS50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL3dlYmZpbmdlci5qcy9zcmMvd2ViZmluZ2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvd2ViZmluZ2VyLmpzL25vZGVfbW9kdWxlcy94aHIyL2xpYi9icm93c2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZmVhdHVyZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jZWRnZXRwdXRkZWxldGUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5kZXhlZGRiLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvbG9jYWxzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5tZW1vcnlzdG9yYWdlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibG9nRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhY2siLCJnbG9iYWxDb250ZXh0Iiwid2luZG93Iiwic2VsZiIsImdsb2JhbCIsImdldEdsb2JhbENvbnRleHQiLCJleHRlbmQiLCJhcmdzIiwidGFyZ2V0IiwiQXJyYXkiLCJzbGljZSIsImZvckVhY2giLCJzb3VyY2UiLCJjb250YWluaW5nRm9sZGVyIiwicGF0aCIsInJlcGxhY2UiLCJpc0ZvbGRlciIsInN1YnN0ciIsImlzRG9jdW1lbnQiLCJiYXNlTmFtZSIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJjbGVhblBhdGgiLCJtYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYmluZEFsbCIsImVxdWFsIiwiYSIsImIiLCJzZWVuIiwidG9TdHJpbmciLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJzZWVuQXJnIiwiaW5kZXhPZiIsInB1c2giLCJkZWVwQ2xvbmUiLCJvYmoiLCJ1bmRlZmluZWQiLCJjbG9uZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIl9maXhBcnJheUJ1ZmZlcnMiLCJzcmNPYmoiLCJkc3RPYmoiLCJpc0FycmF5IiwiZmllbGQiLCJieXRlTGVuZ3RoIiwic3JjQXJyIiwiSW50OEFycmF5Iiwic2V0IiwicGF0aHNGcm9tUm9vdCIsInBhdGhzIiwicG9wIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwiY29udGV4dCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZSIsInNob3VsZEJlVHJlYXRlZEFzQmluYXJ5IiwiY29udGVudCIsIm1pbWVUeXBlIiwibWF0Y2giLCJ0ZXN0IiwiZ2V0VGV4dEZyb21BcnJheUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiZW5jb2RpbmciLCJQcm9taXNlIiwicmVzb2x2ZSIsIkJsb2IiLCJidWZmZXIiLCJCdWZmZXIiLCJibG9iIiwiZ2MiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiYmIiLCJhcHBlbmQiLCJnZXRCbG9iIiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicmVzdWx0Iiwib25sb2FkZW5kIiwicmVhZEFzVGV4dCIsInRvQmFzZTY0Iiwic3RyIiwiZnJvbSIsImRlcml2ZWRDdG9yIiwiYmFzZUN0b3JzIiwiYmFzZUN0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibG9nZ2luZyIsImxvZyIsImFkZGl0aW9uYWxFdmVudHMiLCJldk5hbWUiLCJfYWRkRXZlbnQiLCJldmVudE5hbWUiLCJoYW5kbGVyIiwiRXJyb3IiLCJfdmFsaWRhdGVFdmVudCIsIl9oYW5kbGVycyIsImhsIiwic3BsaWNlIiwiYXBwbHkiLCJvbiIsImV2ZW50IiwiX2VtaXQiLCJjb25maWciLCJjYWNoZSIsImNoYW5nZUV2ZW50cyIsImxvY2FsIiwicmVtb3RlIiwiY29uZmxpY3QiLCJjb3Jkb3ZhUmVkaXJlY3RVcmkiLCJiYWNrZ3JvdW5kU3luY0ludGVydmFsIiwiZGlzYWJsZUZlYXR1cmVzIiwiZGlzY292ZXJ5VGltZW91dCIsImlzQmFja2dyb3VuZCIsInJlcXVlc3RUaW1lb3V0Iiwic3luY0ludGVydmFsIiwiVW5hdXRob3JpemVkRXJyb3IiLCJvcHRpb25zIiwic3VwZXIiLCJjb2RlIiwiZyIsIkZ1bmN0aW9uIiwib25GZWF0dXJlc0xvYWRlZCIsImV4dHJhY3RQYXJhbXMiLCJ1cmwiLCJsb2NhdGlvbiIsIkF1dGhvcml6ZSIsImdldExvY2F0aW9uIiwiaHJlZiIsImhhc2hQb3MiLCJ1cmxGcmFnbWVudCIsInN1YnN0cmluZyIsImluY2x1ZGVzIiwicmVkdWNlIiwicGFyYW1zIiwia3ZzIiwia3YiLCJzdGF0ZVZhbHVlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlZERhdGEiLCJhdG9iIiwiUmVnRXhwIiwicmVtb3RlU3RvcmFnZSIsImF1dGhVUkwiLCJzY29wZSIsInJlZGlyZWN0VXJpIiwiY2xpZW50SWQiLCJiYWNrZW5kIiwiZGlzY292ZXJ5RGF0YSIsInVzZXJBZGRyZXNzIiwic3RvcmFnZUFwaSIsInByb3BlcnRpZXMiLCJidWlsZE9BdXRoVVJMIiwib3BlbldpbmRvdyIsInRoZW4iLCJhdXRoUmVzdWx0IiwiY29uZmlndXJlIiwidG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJzZXRMb2NhdGlvbiIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIklNUExJRURfRkFLRV9UT0tFTiIsInJlamVjdCIsIm5ld1dpbmRvdyIsIm9wZW4iLCJjbG9zZWQiLCJoYW5kbGVFeGl0IiwiY2xvc2UiLCJfcnNfaW5pdCIsImhhc2giLCJhdXRoUGFyYW1zVXNlZCIsInJzRGlzY292ZXJ5IiwicmVtb3Rlc3RvcmFnZSIsImNvbm5lY3QiLCJzdGF0ZSIsInN0b3BXYWl0aW5nRm9yVG9rZW4iLCJCYXNlQ2xpZW50Iiwic3RvcmFnZSIsImJhc2UiLCJtYWtlUGF0aCIsIm1vZHVsZU5hbWUiLCJhZGRFdmVudHMiLCJvbkNoYW5nZSIsIl9maXJlQ2hhbmdlIiwiVHlwZXMiLCJnZXRMaXN0aW5nIiwibWF4QWdlIiwic3RhdHVzQ29kZSIsImJvZHkiLCJnZXRBbGwiLCJrZXlzIiwiY2FsbHMiLCJhbGwiLCJnZXRGaWxlIiwiZGF0YSIsImNvbnRlbnRUeXBlIiwicmV2aXNpb24iLCJzdG9yZUZpbGUiLCJhY2Nlc3MiLCJjaGVja1BhdGhQZXJtaXNzaW9uIiwid2FybiIsInB1dCIsImdldE9iamVjdCIsInN0b3JlT2JqZWN0IiwidHlwZUFsaWFzIiwiX2F0dGFjaFR5cGUiLCJ2YWxpZGF0aW9uUmVzdWx0IiwidmFsaWRhdGUiLCJ2YWxpZCIsImV4YyIsInJlbW92ZSIsImRlbGV0ZSIsImdldEl0ZW1VUkwiLCJjb25uZWN0ZWQiLCJzdHJhdGVneSIsImNhY2hpbmciLCJmbHVzaCIsImRlY2xhcmVUeXBlIiwiYWxpYXMiLCJ1cmlPclNjaGVtYSIsInNjaGVtYSIsInVyaSIsIl9kZWZhdWx0VHlwZVVSSSIsImRlY2xhcmUiLCJnZXRTY2hlbWEiLCJ2YWxpZGF0ZVJlc3VsdCIsInNjaGVtYXMiLCJjb25maWd1cmFibGUiLCJpblNjb3BlIiwicmVzb2x2ZUFsaWFzIiwib3JpZ2luIiwiZmllbGROYW1lUHJlZml4IiwiZXhlYyIsImFwcGx5TWl4aW5zIiwiaGFzTG9jYWxTdG9yYWdlIiwiU0VUVElOR1NfS0VZIiwiU1RPUkFHRV9BUElTIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlclZpZXciLCJhcnJheUJ1ZmZlclZpZXdzIiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiSW50MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiRmxvYXQzMkFycmF5IiwiRmxvYXQ2NEFycmF5IiwiYWRkUXVvdGVzIiwic3RyaXBRdW90ZXMiLCJXaXJlQ2xpZW50IiwicnMiLCJzZXR0aW5ncyIsInNldFRpbWVvdXQiLCJfcmV2aXNpb25DYWNoZSIsIl9yZXF1ZXN0IiwibWV0aG9kIiwiaGVhZGVycyIsImdldEV0YWciLCJmYWtlUmV2aXNpb24iLCJpc0ZvcmJpZGRlblJlcXVlc3RNZXRob2QiLCJyZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2UiLCJvbmxpbmUiLCJzdWNjZXNzIiwic3RhdHVzIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJpc1N1Y2Nlc3NTdGF0dXMiLCJjaGFyc2V0IiwiY2hhcnNldE1hdGNoIiwiZGV0ZXJtaW5lQ2hhcnNldCIsInRleHRDb250ZW50IiwiX3N0b3JhZ2VBcGkiLCJzdXBwb3J0c1JldnMiLCJpZk5vbmVNYXRjaCIsIml0ZW1zTWFwIiwiaXRlbSIsIml0ZW1zIiwiRVRhZyIsImlmTWF0Y2giLCJmZXRjaCIsIl9mZXRjaFJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl94aHJSZXF1ZXN0Iiwic3ludGhldGljWGhyIiwicmVzcG9uc2VIZWFkZXJzIiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwibmV0d29ya1Byb21pc2UiLCJzaWduYWwiLCJoZWFkZXJOYW1lIiwidG9VcHBlckNhc2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVVJMIiwianNvbiIsInRleHQiLCJwcm9jZXNzZWRCb2R5IiwicmVzcG9uc2VUZXh0IiwidGltZW91dFByb21pc2UiLCJhYm9ydCIsInJhY2UiLCJ0aW1lZE91dCIsInRpbWVyIiwieGhyIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsIm9uZXJyb3IiLCJzZW5kIiwic3BlYyIsIl9yc19zdXBwb3J0ZWQiLCJfcnNfY2xlYW51cCIsIlN5bmNFcnJvciIsIm9yaWdpbmFsRXJyb3IiLCJDYWNoaW5nTGF5ZXIiLCJfdXBkYXRlTm9kZXNSdW5uaW5nIiwiX3VwZGF0ZU5vZGVzUXVldWVkIiwicXVldWVHZXRSZXF1ZXN0IiwiZ2V0Tm9kZXMiLCJvYmpzIiwibm9kZSIsImdldExhdGVzdCIsImlzT3V0ZGF0ZWQiLCJfdXBkYXRlTm9kZXMiLCJub2RlUGF0aHMiLCJub2RlcyIsImxlbiIsIm5vZGVQYXRoIiwicHJldmlvdXMiLCJtYWtlTm9kZSIsInByZXZpb3VzQm9keSIsInByZXZpb3VzQ29udGVudFR5cGUiLCJ1cGRhdGVGb2xkZXJOb2RlV2l0aEl0ZW1OYW1lIiwiY29tbW9uIiwiaXRlbU5hbWUiLCJfZ2V0QWxsRGVzY2VuZGVudFBhdGhzIiwiX2VtaXRDaGFuZ2UiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0Tm9kZXMiLCJmb3JBbGxOb2RlcyIsImxhdGVzdCIsIm9sZENvbnRlbnRUeXBlIiwibmV3Q29udGVudFR5cGUiLCJkaWZmSGFuZGxlciIsIl9wcm9jZXNzTm9kZXMiLCJfZG9VcGRhdGVOb2RlcyIsInByb21pc2UiLCJjYiIsImV4aXN0aW5nTm9kZXMiLCJfZW1pdENoYW5nZUV2ZW50cyIsImVyciIsIm5leHRKb2IiLCJzaGlmdCIsImV2ZW50cyIsImFsbFBhdGhzIiwibm9kZVZlcnNpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsInJlc2V0Iiwic2NvcGVNb2RlTWFwIiwic2NvcGVzIiwiX3Njb3BlTmFtZUZvclBhcmFtZXRlciIsIl9hZGp1c3RSb290UGF0aHMiLCJzYXZlZE1hcCIsImNsYWltIiwiYWN0dWFsTW9kZSIsImNoZWNrUGVybWlzc2lvbiIsIl9nZXRNb2R1bGVOYW1lIiwicm9vdFBhdGhzIiwibW9kdWxlTWF0Y2giLCJuZXdTY29wZSIsInN0b3JhZ2VUeXBlIiwidHlwZSIsInBlbmRpbmdBY3RpdmF0aW9ucyIsIl9yb290UGF0aHMiLCJhY3RpdmF0ZUhhbmRsZXIiLCJjaGVja1BhdGgiLCJCQVNFX1VSTCIsIm1ldGFUaXRsZUZyb21GaWxlTmFtZSIsImZpbGVuYW1lIiwicGFyZW50UGF0aCIsImdvb2dsZURyaXZlUGF0aCIsInJlbW92ZVF1b3RlcyIsIkZpbGVJZENhY2hlIiwiX2l0ZW1zIiwibm93IiwidiIsIkdvb2dsZURyaXZlIiwiX2ZpbGVJZENhY2hlIiwid3JpdGVTZXR0aW5nc1RvQ2FjaGUiLCJoYW5kbGVFcnJvciIsImluZm8iLCJ1c2VyIiwiZW1haWxBZGRyZXNzIiwiY2F0Y2giLCJzZXRCYWNrZW5kIiwiYXV0aG9yaXplIiwiX2dldEZvbGRlciIsIl9nZXRGaWxlIiwiZnVsbFBhdGgiLCJwdXREb25lIiwibWV0YSIsImV0YWdXaXRob3V0UXVvdGVzIiwiZXRhZyIsIl9nZXRGaWxlSWQiLCJpZCIsIl91cGRhdGVGaWxlIiwiX2NyZWF0ZUZpbGUiLCJfZ2V0TWV0YSIsInJlc3AiLCJtZXRhZGF0YSIsIl9nZXRQYXJlbnRJZCIsInBhcmVudElkIiwidGl0bGUiLCJwYXJlbnRzIiwia2luZCIsImRvd25sb2FkVXJsIiwiZXhwb3J0TGlua3MiLCJxdWVyeSIsImZpbGVTaXplIiwiZm9sZGVybmFtZSIsIl9jcmVhdGVGb2xkZXIiLCJhcGlLZXlzIiwiZ29vZ2xlZHJpdmUiLCJfb3JpZ1JlbW90ZSIsIl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwiLCJnZXREcm9wYm94UGF0aCIsIlBBVEhfUFJFRklYIiwiY29tcGFyZUFwaUVycm9yIiwiZXhwZWN0IiwiZXJyb3Jfc3VtbWFyeSIsImlzQmluYXJ5RGF0YSIsIkRyb3Bib3giLCJfaW5pdGlhbEZldGNoRG9uZSIsImRyb3Bib3giLCJhcHBLZXkiLCJfcmV2Q2FjaGUiLCJfZmV0Y2hEZWx0YUN1cnNvciIsIl9mZXRjaERlbHRhUHJvbWlzZSIsIl9pdGVtUmVmcyIsImhvb2tJdCIsImVtYWlsIiwicmV2Q2FjaGUiLCJwcm9jZXNzUmVzcG9uc2UiLCJsaXN0aW5nIiwiZW50cmllcyIsImlzRGlyIiwicGF0aF9sb3dlciIsInJldiIsImhhc19tb3JlIiwibG9hZE5leHQiLCJjdXJzb3IiLCJuZXh0TGlzdGluZyIsImFzc2lnbiIsInNhdmVkUmV2IiwiZmV0Y2hEZWx0YSIsIm1pbWUiLCJfc2hhcmVJZk5lZWRlZCIsIm5lZWRzTWV0YWRhdGEiLCJ1cGxvYWRQYXJhbXMiLCJfZ2V0TWV0YWRhdGEiLCJfdXBsb2FkU2ltcGxlIiwicmVzIiwiX2RlbGV0ZVNpbXBsZSIsInNoYXJlIiwiX2dldFNoYXJlZExpbmsiLCJsaW5rIiwicmVxdWVzdEJvZHkiLCJyZWN1cnNpdmUiLCJpbmNsdWRlX2RlbGV0ZWQiLCJyZXNwb25zZUJvZHkiLCJkZWFjdGl2YXRlUHJvcGFnYXRpb24iLCJlbnRyeSIsImFjdGl2YXRlUHJvcGFnYXRpb24iLCJQcm9ncmVzc0V2ZW50IiwidXBkYXRlIiwibXV0ZSIsImRpcmVjdF9vbmx5IiwibGlua3MiLCJ1bkhvb2tSZW1vdGUiLCJfZHJvcGJveE9yaWdTeW5jIiwic3luYyIsInVuSG9va1N5bmMiLCJ1bkhvb2tHZXRJdGVtVVJMIiwidW5Ib29rU3luY0N5Y2xlIiwidW5Ib29rSXQiLCJob29rU3luYyIsIl9kcm9wYm94T3JpZ1N5bmNDeWNsZSIsInN5bmNDeWNsZSIsImhvb2tSZW1vdGUiLCJob29rU3luY0N5Y2xlIiwiaG9va0dldEl0ZW1VUkwiLCJoYXZlWE1MSHR0cFJlcXVlc3QiLCJjYWNoZWRJbmZvIiwiRGlzY292ZXIiLCJ0bHNfb25seSIsInVyaV9mYWxsYmFjayIsInJlcXVlc3RfdGltZW91dCIsImxvb2t1cCIsImlkeCIsIkRpc2NvdmVyeUVycm9yIiwiY29uc3RydWN0b3IiLCJFbnYiLCJzZXRCcm93c2VyUHJlZml4ZWROYW1lcyIsInZpc2liaWxpdHlDaGFuZ2VFdmVudCIsInNldFZpc2liaWxpdHkiLCJoaWRkZW4iLCJoaWRkZW5Qcm9wZXJ0eSIsImdvQmFja2dyb3VuZCIsImdvRm9yZWdyb3VuZCIsImVtaXRVbmF1dGhvcml6ZWQiLCJpc1ZhbGlkSW50ZXJ2YWwiLCJpbnRlcnZhbCIsIlJlbW90ZVN0b3JhZ2UiLCJjZmciLCJfcGVuZGluZyIsIl9jbGVhbnVwcyIsIl9wYXRoSGFuZGxlcnMiLCJjaGFuZ2UiLCJfaW5pdCIsImxvYWRGZWF0dXJlcyIsImZlYXR1cmVzIiwibG9hZEZlYXR1cmUiLCJmZWF0dXJlU3VwcG9ydGVkIiwiZmVhdHVyZURvbmUiLCJmZWF0dXJlc0RvbmUiLCJmZWF0dXJlc0xvYWRlZCIsImZlYXR1cmVJbml0aWFsaXplZCIsImZlYXR1cmVGYWlsZWQiLCJoYXNGZWF0dXJlIiwiX3NldENhY2hpbmdNb2R1bGUiLCJfY29sbGVjdENsZWFudXBGdW5jdGlvbnMiLCJfZmlyZVJlYWR5IiwiaW5pdEZlYXR1cmUiLCJfc2V0R1BEIiwiX3BlbmRpbmdHUEQiLCJvcmlnT24iLCJfYWxsTG9hZGVkIiwiZmlyZUluaXRpYWwiLCJsb2FkTW9kdWxlcyIsImFkZE1vZHVsZSIsInNldFN0b3JhZ2VUeXBlIiwic2NvcGVQYXJhbWV0ZXIiLCJjb3Jkb3ZhIiwiU3RyaW5nIiwiSW5BcHBCcm93c2VyIiwiaW1wbGllZGF1dGgiLCJvbmVEb25lIiwiY2xlYW51cCIsImNsZWFudXBSZXN1bHQiLCJ3aGF0IiwidmFsaWRUeXBlcyIsImV2ZXJ5IiwiaW1wbCIsIndyYXAiLCJmdW5jIiwibWV0aG9kTmFtZSIsIm1ldGhvZEFyZ3VtZW50cyIsInBlbmRpbmciLCJfZGlzcGF0Y2hFdmVudCIsInBsIiwiZXYiLCJyZWxhdGl2ZVBhdGgiLCJlc2NhcGVkUGF0aCIsInRpbWVvdXQiLCJzdG9wcGVkIiwiX3N5bmNUaW1lciIsImdldEN1cnJlbnRTeW5jSW50ZXJ2YWwiLCJzeW5jU3RvcHBlZCIsIm1vZHVsZUJ1aWxkZXIiLCJidWlsZGVyIiwiaW5zdGFuY2UiLCJfbG9hZE1vZHVsZSIsImNhbWVsaXplZE5hbWUiLCJVbmF1dGhvcml6ZWQiLCJ1dGlsIiwiYmFzZTY0IiwiaWVlZTc1NCIsImtNYXhMZW5ndGgiLCJUWVBFRF9BUlJBWV9TVVBQT1JUIiwiY3JlYXRlQnVmZmVyIiwidGhhdCIsIlJhbmdlRXJyb3IiLCJfX3Byb3RvX18iLCJhcmciLCJlbmNvZGluZ09yT2Zmc2V0IiwiYWxsb2NVbnNhZmUiLCJUeXBlRXJyb3IiLCJhcnJheSIsImJ5dGVPZmZzZXQiLCJmcm9tQXJyYXlMaWtlIiwiZnJvbUFycmF5QnVmZmVyIiwic3RyaW5nIiwiaXNFbmNvZGluZyIsImFjdHVhbCIsIndyaXRlIiwiZnJvbVN0cmluZyIsImlzQnVmZmVyIiwiY2hlY2tlZCIsImNvcHkiLCJ2YWwiLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsInNpemUiLCJpc1ZpZXciLCJsb3dlcmVkQ2FzZSIsInV0ZjhUb0J5dGVzIiwiYmFzZTY0VG9CeXRlcyIsInRvTG93ZXJDYXNlIiwic2xvd1RvU3RyaW5nIiwic3RhcnQiLCJlbmQiLCJoZXhTbGljZSIsInV0ZjhTbGljZSIsImFzY2lpU2xpY2UiLCJsYXRpbjFTbGljZSIsImJhc2U2NFNsaWNlIiwidXRmMTZsZVNsaWNlIiwic3dhcCIsImJpZGlyZWN0aW9uYWxJbmRleE9mIiwiZGlyIiwiaXNOYU4iLCJhcnJheUluZGV4T2YiLCJsYXN0SW5kZXhPZiIsImFyciIsImluZGV4U2l6ZSIsImFyckxlbmd0aCIsInZhbExlbmd0aCIsInJlYWQiLCJidWYiLCJyZWFkVUludDE2QkUiLCJmb3VuZEluZGV4IiwiZm91bmQiLCJqIiwiaGV4V3JpdGUiLCJvZmZzZXQiLCJOdW1iZXIiLCJyZW1haW5pbmciLCJzdHJMZW4iLCJwYXJzZWQiLCJwYXJzZUludCIsInV0ZjhXcml0ZSIsImJsaXRCdWZmZXIiLCJhc2NpaVdyaXRlIiwiYnl0ZUFycmF5IiwiY2hhckNvZGVBdCIsImFzY2lpVG9CeXRlcyIsImxhdGluMVdyaXRlIiwiYmFzZTY0V3JpdGUiLCJ1Y3MyV3JpdGUiLCJ1bml0cyIsImhpIiwibG8iLCJ1dGYxNmxlVG9CeXRlcyIsImZyb21CeXRlQXJyYXkiLCJNYXRoIiwibWluIiwic2Vjb25kQnl0ZSIsInRoaXJkQnl0ZSIsImZvdXJ0aEJ5dGUiLCJ0ZW1wQ29kZVBvaW50IiwiZmlyc3RCeXRlIiwiY29kZVBvaW50IiwiYnl0ZXNQZXJTZXF1ZW5jZSIsImNvZGVQb2ludHMiLCJmcm9tQ2hhckNvZGUiLCJkZWNvZGVDb2RlUG9pbnRzQXJyYXkiLCJTbG93QnVmZmVyIiwiYWxsb2MiLCJJTlNQRUNUX01BWF9CWVRFUyIsImZvbyIsInN1YmFycmF5IiwidHlwZWRBcnJheVN1cHBvcnQiLCJwb29sU2l6ZSIsIl9hdWdtZW50Iiwic3BlY2llcyIsImZpbGwiLCJhbGxvY1Vuc2FmZVNsb3ciLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwieCIsInkiLCJjb25jYXQiLCJsaXN0IiwicG9zIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiYXJndW1lbnRzIiwiZXF1YWxzIiwiaW5zcGVjdCIsIm1heCIsInRoaXNTdGFydCIsInRoaXNFbmQiLCJ0aGlzQ29weSIsInRhcmdldENvcHkiLCJpc0Zpbml0ZSIsInRvSlNPTiIsIl9hcnIiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4IiwiZmxvb3IiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwic3ViIiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJJTlZBTElEX0JBU0U2NF9SRSIsIkluZmluaXR5IiwibGVhZFN1cnJvZ2F0ZSIsInRvQnl0ZUFycmF5IiwidHJpbSIsInN0cmluZ3RyaW0iLCJiYXNlNjRjbGVhbiIsInNyYyIsImRzdCIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJ0bXAiLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJsZW4yIiwiZW5jb2RlQ2h1bmsiLCJudW0iLCJvdXRwdXQiLCJpc0xFIiwibUxlbiIsIm5CeXRlcyIsImVMZW4iLCJlTWF4IiwiZUJpYXMiLCJuQml0cyIsIk5hTiIsInJ0IiwiYWJzIiwiTE4yIiwiaGFzRG9udEVudW1CdWciLCJkb250RW51bXMiLCJkb250RW51bXNMZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInByb3AiLCJGIiwidkFyZyIsInNlYXJjaEVsZW1lbnQiLCJrIiwiaXNGcm96ZW4iLCJyYW5kb20iLCJ1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVycyIsInVyaVRlbXBsYXRlU3VmZmljZXMiLCJub3RSZWFsbHlQZXJjZW50RW5jb2RlIiwiZW5jb2RlVVJJIiwiZG91YmxlRW5jb2RlZCIsInVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uIiwibW9kaWZpZXIiLCJjaGFyQXQiLCJzZXBhcmF0b3IiLCJwcmVmaXgiLCJzaG91bGRFc2NhcGUiLCJzaG93VmFyaWFibGVzIiwidHJpbUVtcHR5U3RyaW5nIiwidmFyTmFtZXMiLCJ2YXJMaXN0IiwidmFyU3BlY3MiLCJ2YXJTcGVjTWFwIiwidmFyTmFtZSIsInRydW5jYXRlIiwic3VmZmljZXMiLCJ2YXJTcGVjIiwic3ViRnVuY3Rpb24iLCJ2YWx1ZUZ1bmN0aW9uIiwic3RhcnRJbmRleCIsImZpcnN0Iiwic3Vic3RpdHV0aW9uIiwiVXJpVGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsInRleHRQYXJ0cyIsInByZWZpeGVzIiwic3Vic3RpdHV0aW9ucyIsInBhcnQiLCJyZW1haW5kZXIiLCJmdW5jcyIsImZpbGxGcm9tT2JqZWN0IiwiVmFsaWRhdG9yQ29udGV4dCIsInBhcmVudCIsImNvbGxlY3RNdWx0aXBsZSIsImVycm9yUmVwb3J0ZXIiLCJjaGVja1JlY3Vyc2l2ZSIsInRyYWNrVW5rbm93blByb3BlcnRpZXMiLCJtaXNzaW5nIiwibWlzc2luZ01hcCIsImZvcm1hdFZhbGlkYXRvcnMiLCJlcnJvcnMiLCJjb2xsZWN0RXJyb3IiLCJyZXR1cm5FcnJvciIsInNjYW5uZWQiLCJzY2FubmVkRnJvemVuIiwic2Nhbm5lZEZyb3plblNjaGVtYXMiLCJzY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycyIsInZhbGlkYXRlZFNjaGVtYXNLZXkiLCJ2YWxpZGF0aW9uRXJyb3JzS2V5Iiwia25vd25Qcm9wZXJ0eVBhdGhzIiwidW5rbm93blByb3BlcnR5UGF0aHMiLCJkZWZhdWx0RXJyb3JSZXBvcnRlciIsImRlZmluZWRLZXl3b3JkcyIsInJlY3Vyc2l2ZUNvbXBhcmUiLCJBIiwiQiIsImRlZmluZUtleXdvcmQiLCJrZXl3b3JkIiwia2V5d29yZEZ1bmN0aW9uIiwiY3JlYXRlRXJyb3IiLCJtZXNzYWdlUGFyYW1zIiwiZGF0YVBhdGgiLCJzY2hlbWFQYXRoIiwic3ViRXJyb3JzIiwiVmFsaWRhdGlvbkVycm9yIiwicHJlZml4RXJyb3JzIiwicHJlZml4V2l0aCIsImJhblVua25vd25Qcm9wZXJ0aWVzIiwidW5rbm93blBhdGgiLCJFcnJvckNvZGVzIiwiVU5LTk9XTl9QUk9QRVJUWSIsImFkZEZvcm1hdCIsImZvcm1hdCIsInZhbGlkYXRvciIsInJlc29sdmVSZWZzIiwidXJsSGlzdG9yeSIsIkNJUkNVTEFSX1JFRkVSRU5DRSIsInVybHMiLCJiYXNlVXJsIiwiZnJhZ21lbnQiLCJwb2ludGVyUGF0aCIsImNvbXBvbmVudCIsInNlYXJjaFNjaGVtYXMiLCJ0ZXN0VXJsIiwiaXNUcnVzdGVkVXJsIiwiZ2V0RG9jdW1lbnRVcmkiLCJhZGRTY2hlbWEiLCJub3JtU2NoZW1hIiwiZ2V0U2NoZW1hTWFwIiwiZ2V0U2NoZW1hVXJpcyIsImZpbHRlclJlZ0V4cCIsImdldE1pc3NpbmdVcmlzIiwiZHJvcFNjaGVtYXMiLCJ2YWxpZGF0ZUFsbCIsImRhdGFQYXRoUGFydHMiLCJzY2hlbWFQYXRoUGFydHMiLCJkYXRhUG9pbnRlclBhdGgiLCJ0b3BMZXZlbCIsImZyb3plbkluZGV4Iiwic3RhcnRFcnJvckNvdW50Iiwic2Nhbm5lZEZyb3plblNjaGVtYUluZGV4Iiwic2Nhbm5lZFNjaGVtYXNJbmRleCIsInNjaGVtYUluZGV4IiwiZnJvemVuU2NoZW1hSW5kZXgiLCJlcnJvckNvdW50IiwidmFsaWRhdGVCYXNpYyIsInZhbGlkYXRlTnVtZXJpYyIsInZhbGlkYXRlU3RyaW5nIiwidmFsaWRhdGVBcnJheSIsInZhbGlkYXRlT2JqZWN0IiwidmFsaWRhdGVDb21iaW5hdGlvbnMiLCJ2YWxpZGF0ZUh5cGVybWVkaWEiLCJ2YWxpZGF0ZUZvcm1hdCIsInZhbGlkYXRlRGVmaW5lZEtleXdvcmRzIiwiZGF0YVBhcnQiLCJzY2hlbWFQYXJ0IiwiZXJyb3JNZXNzYWdlIiwiRk9STUFUX0NVU1RPTSIsInZhbGlkYXRpb25GdW5jdGlvbnMiLCJLRVlXT1JEX0NVU1RPTSIsInZhbGlkYXRlVHlwZSIsInZhbGlkYXRlRW51bSIsImRhdGFUeXBlIiwiYWxsb3dlZFR5cGVzIiwiSU5WQUxJRF9UWVBFIiwiZXhwZWN0ZWQiLCJFTlVNX01JU01BVENIIiwidmFsaWRhdGVNdWx0aXBsZU9mIiwidmFsaWRhdGVNaW5NYXgiLCJ2YWxpZGF0ZU5hTiIsIkNMT1NFX0VOT1VHSF9MT1ciLCJDTE9TRV9FTk9VR0hfSElHSCIsInBhcnNlVVJJIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJob3N0IiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJzZWFyY2giLCJyZXNvbHZlVXJsIiwiaW5wdXQiLCJiYXNlVXJpIiwibGFuZ3VhZ2UiLCJlcnJvck1lc3NhZ2VzIiwibGFuZ3VhZ2VzIiwibWVzc2FnZVRlbXBsYXRlIiwiRXJyb3JNZXNzYWdlc0RlZmF1bHQiLCJ3aG9sZSIsInN1YlZhbHVlIiwibXVsdGlwbGVPZiIsImRpdmlzaWJsZUJ5IiwiTlVNQkVSX01VTFRJUExFX09GIiwibWluaW11bSIsIk5VTUJFUl9NSU5JTVVNIiwiZXhjbHVzaXZlTWluaW11bSIsIk5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRSIsIm1heGltdW0iLCJOVU1CRVJfTUFYSU1VTSIsImV4Y2x1c2l2ZU1heGltdW0iLCJOVU1CRVJfTUFYSU1VTV9FWENMVVNJVkUiLCJOVU1CRVJfTk9UX0FfTlVNQkVSIiwidmFsaWRhdGVTdHJpbmdMZW5ndGgiLCJ2YWxpZGF0ZVN0cmluZ1BhdHRlcm4iLCJtaW5MZW5ndGgiLCJTVFJJTkdfTEVOR1RIX1NIT1JUIiwibWF4TGVuZ3RoIiwiU1RSSU5HX0xFTkdUSF9MT05HIiwicGF0dGVybiIsInJlZ2V4cCIsImZsYWdzIiwibGl0ZXJhbCIsIlNUUklOR19QQVRURVJOIiwidmFsaWRhdGVBcnJheUxlbmd0aCIsInZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyIsInZhbGlkYXRlQXJyYXlJdGVtcyIsIm1pbkl0ZW1zIiwiQVJSQVlfTEVOR1RIX1NIT1JUIiwibWF4SXRlbXMiLCJBUlJBWV9MRU5HVEhfTE9ORyIsInVuaXF1ZUl0ZW1zIiwiQVJSQVlfVU5JUVVFIiwibWF0Y2gxIiwibWF0Y2gyIiwiYWRkaXRpb25hbEl0ZW1zIiwiQVJSQVlfQURESVRJT05BTF9JVEVNUyIsInZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyIsInZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzIiwidmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzIiwidmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMiLCJtaW5Qcm9wZXJ0aWVzIiwiT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSIsInByb3BlcnR5Q291bnQiLCJtYXhQcm9wZXJ0aWVzIiwiT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTSIsInJlcXVpcmVkIiwiT0JKRUNUX1JFUVVJUkVEIiwia2V5UG9pbnRlclBhdGgiLCJmb3VuZE1hdGNoIiwicGF0dGVyblByb3BlcnRpZXMiLCJwYXR0ZXJuS2V5IiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTIiwiZGVwZW5kZW5jaWVzIiwiZGVwS2V5IiwiZGVwIiwiT0JKRUNUX0RFUEVOREVOQ1lfS0VZIiwicmVxdWlyZWRLZXkiLCJ2YWxpZGF0ZUFsbE9mIiwidmFsaWRhdGVBbnlPZiIsInZhbGlkYXRlT25lT2YiLCJ2YWxpZGF0ZU5vdCIsImFsbE9mIiwic3ViU2NoZW1hIiwiYW55T2YiLCJvbGRVbmtub3duUHJvcGVydHlQYXRocyIsIm9sZEtub3duUHJvcGVydHlQYXRocyIsImVycm9yQXRFbmQiLCJrbm93bktleSIsInVua25vd25LZXkiLCJBTllfT0ZfTUlTU0lORyIsIm9uZU9mIiwidmFsaWRJbmRleCIsIk9ORV9PRl9NVUxUSVBMRSIsImluZGV4MSIsImluZGV4MiIsIk9ORV9PRl9NSVNTSU5HIiwibm90Iiwib2xkRXJyb3JDb3VudCIsIm5vdEVycm9ycyIsIk5PVF9QQVNTRUQiLCJsZG8iLCJyZWwiLCJhbGxQcmVzZW50IiwiRXJyb3JDb2RlTG9va3VwIiwic3RhY2t0cmFjZSIsImRhdGFQcmVmaXgiLCJzY2hlbWFQcmVmaXgiLCJ0djQiLCJjcmVhdGVBcGkiLCJjdXJyZW50TGFuZ3VhZ2UiLCJjdXN0b21FcnJvclJlcG9ydGVyIiwiYXBpIiwic2V0RXJyb3JSZXBvcnRlciIsInJlcG9ydGVyIiwiYWRkTGFuZ3VhZ2UiLCJtZXNzYWdlTWFwIiwicm9vdENvZGUiLCJmcmVzaEFwaSIsImRlZiIsInZhbGlkYXRlTXVsdGlwbGUiLCJkZWZpbmVFcnJvciIsImNvZGVOYW1lIiwiY29kZU51bWJlciIsImRlZmF1bHRNZXNzYWdlIiwibGFuZ0NvZGUiLCJlcnJvckNvZGVzIiwiQmFzZUNsaWVudFR5cGVzIiwidXJpcyIsImFsaWFzZXMiLCJmdWxsQWxpYXMiLCJleHRlbmRzIiwiZXh0ZW5kZWRBbGlhcyIsImV4dGVuZGVkVXJpIiwibWwiLCJTY2hlbWFOb3RGb3VuZCIsImRlZmF1bHRWYWx1ZSIsIl9pdGVtc1JldiIsIl9zdG9yYWdlIiwiX2NhblByb3BhZ2F0ZSIsInN0b3JlZCIsIl91cGRhdGVQYXJlbnRGb2xkZXJJdGVtUmV2IiwiX3Byb3BhZ2F0ZSIsIl9nZW5lcmF0ZUZvbGRlclJldiIsImZpbGVzIiwic29ydCIsIl9oYXNoQ29kZSIsInBhcmVudEZvbGRlciIsIl9nZXRQYXJlbnRGb2xkZXIiLCJwYXJlbnRGb2xkZXJJdGVtc1JldiIsImhhc2hJdGVtcyIsIm5ld1JldiIsIl9nZW5lcmF0ZUhhc2giLCJmb2xkZXIiLCJpdGVtc1JldiIsImhhc2hJdGVtIiwiTElOS19VUklfTUFQUyIsIkxJTktfUFJPUEVSVElFUyIsIlVSSVMiLCJnZW5lcmF0ZUVycm9yT2JqZWN0IiwiV2ViRmluZ2VyIiwid2ViZmlzdF9mYWxsYmFjayIsIl9fZmV0Y2hKUkQiLCJlcnJvckhhbmRsZXIiLCJzdWNlc3NIYW5kbGVyIiwiX19mZXRjaEpSRF9mZXRjaCIsIl9fZmV0Y2hKUkRfWEhSIiwid2ViZmluZ2VyIiwib2siLCJfX2lzVmFsaWRKU09OIiwiaGFuZGxlclNwZW50IiwiX19wcm9jZXNzU3RhdGUiLCJpc1NlY3VyZSIsIl9fbWFrZVJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJvbnRpbWVvdXQiLCJfX2lzTG9jYWxob3N0IiwiX19wcm9jZXNzSlJEIiwiVVJMIiwiSlJEIiwic3VjY2Vzc0hhbmRsZXIiLCJwYXJzZWRKUkQiLCJwcm9wcyIsImFkZHJlc3MiLCJ1cmlfaW5kZXgiLCJfX2J1aWxkVVJMIiwiX19mYWxsYmFja0NoZWNrcyIsIl9fY2FsbCIsIndlYmZpc3QiLCJsb29rdXBMaW5rIiwiRmVhdHVyZXMiLCJyZWFkeUZpcmVkIiwiZmVhdHVyZU1vZHVsZXMiLCJmZWF0dXJlIiwiZmVhdHVyZU5hbWUiLCJzdXBwb3J0ZWQiLCJpbml0UmVzdWx0IiwiaW5pdCIsInNvbWUiLCJjYWNoaW5nTGF5ZXIiLCJfYmluZENoYW5nZSIsIl9wcm9jZXNzUGVuZGluZyIsInNoYXJlRmlyc3QiLCJTeW5jZWRHZXRQdXREZWxldGUiLCJnZXRTeW5jSW50ZXJ2YWwiLCJfd3JhcEJ1c3lEb25lIiwic3luY0N5Y2xlQ2IiLCJzeW5jT25Db25uZWN0IiwidGFza0ZvciIsImFjdGlvbiIsIm5vZGVDaGFuZ2VkIiwiaGFzQ29tbW9uUmV2aXNpb24iLCJTeW5jIiwiX3Rhc2tzIiwiX3J1bm5pbmciLCJfdGltZVN0YXJ0ZWQiLCJudW1UaHJlYWRzIiwib25EaWZmIiwiYWRkVGFzayIsImRvVGFza3MiLCJvbkFjdGl2YXRlIiwiZm9yY2UwMiIsImNvbnRlbnRMZW5ndGgiLCJjb3JydXB0SXRlbXNNYXAiLCJjb3JydXB0UmV2aXNpb24iLCJpc0NvcnJ1cHQiLCJuZWVkc0ZldGNoIiwibmVlZHNQdXNoIiwiaW5Db25mbGljdCIsIm5lZWRzUmVmcmVzaCIsImdldFBhcmVudFBhdGgiLCJkZWxldGVDaGlsZFBhdGhzRnJvbVRhc2tzIiwiaXNTdGFsZUNoaWxkIiwibmVlZHNSZW1vdGVQdXQiLCJuZWVkc1JlbW90ZURlbGV0ZSIsImhhc05vUmVtb3RlQ2hhbmdlcyIsImxhc3RDb21tb25WYWx1ZSIsImxhc3RDb21tb25Db250ZW50VHlwZSIsIm1lcmdlTXV0dWFsRGVsZXRpb24iLCJhdXRvTWVyZ2VGb2xkZXIiLCJhdXRvTWVyZ2VEb2N1bWVudCIsImNoYW5nZWROb2RlcyIsIm1pc3NpbmdDaGlsZHJlbiIsInJlY3Vyc2UiLCJjaGlsZE5hbWUiLCJjYWNoaW5nU3RyYXRlZ3kiLCJhdXRvTWVyZ2UiLCJjb21tb25JdGVtIiwibG9jYWxJdGVtIiwicGFyZW50Tm9kZSIsImRlbGV0ZVJlbW90ZVRyZWVzIiwiY2hhbmdlZE9ianMyIiwic3ViUGF0aHMiLCJjb2xsZWN0U3ViUGF0aHMiLCJjaGFuZ2VkTm9kZXMyIiwiYm9keU9ySXRlbXNNYXAiLCJwYXRoc0Zyb21Sb290QXJyIiwiY29sbGVjdE1pc3NpbmdDaGlsZHJlbiIsInRvQmVTYXZlZCIsInN1Y2Nlc3NmdWwiLCJ1bkF1dGgiLCJub3RGb3VuZCIsImNoYW5nZWQiLCJuZXR3b3JrUHJvYmxlbXMiLCJzZXJpZXMiLCJjb21wbGV0ZUZldGNoIiwiZGF0YUZyb21GZXRjaCIsImNvcnJ1cHRTZXJ2ZXJJdGVtc01hcCIsIm1hcmtDaGlsZHJlbiIsInVwZGF0ZUNvbW1vblRpbWVzdGFtcCIsImludGVycHJldFN0YXR1cyIsImhhbmRsZUdldFJlc3BvbnNlIiwiY29tcGxldGVQdXNoIiwiZGVhbFdpdGhGYWlsdXJlIiwidGFzayIsImhhbmRsZVJlc3BvbnNlIiwiY29tcGxldGVkIiwiY29sbGVjdFRhc2tzIiwiaGFzVGFza3MiLCJkb25lIiwibnVtVG9IYXZlIiwibnVtQWRkZWQiLCJudW1Ub0FkZCIsImRvVGFzayIsImZpbmlzaFRhc2siLCJhbHNvQ2hlY2tSZWZyZXNoIiwiY29sbGVjdERpZmZUYXNrcyIsIm51bURpZmZzIiwiY29sbGVjdFJlZnJlc2hUYXNrcyIsImVudiIsImlzQnJvd3NlciIsImhhbmRsZUNoYW5nZSIsImlzRm9yZWdyb3VuZCIsImhhbmRsZVZpc2liaWxpdHkiLCJzdGFydFN5bmMiLCJzdG9wU3luYyIsIkRFRkFVTFRfREIiLCJJbmRleGVkREIiLCJkYXRhYmFzZSIsImRiIiwiZ2V0c1J1bm5pbmciLCJwdXRzUnVubmluZyIsImNoYW5nZXNRdWV1ZWQiLCJjaGFuZ2VzUnVubmluZyIsImNvbW1pdFNsb3duZXNzV2FybmluZyIsIm1pc3NlcyIsImZyb21DYWNoZSIsImdldE5vZGVzRnJvbURiIiwibWF5YmVGbHVzaCIsImZsdXNoQ2hhbmdlc1F1ZXVlZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNldE5vZGVzSW5EYiIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJyZXRyaWV2ZWROb2RlcyIsIm9uc3VjY2VzcyIsIm9uY29tcGxldGUiLCJvbmFib3J0Iiwibm9kZXNTdG9yZSIsInN0YXJ0VGltZSIsImNhbGxiYWNrIiwiZGJOYW1lIiwiY2xlYW4iLCJvdGhlciIsIm9wZW5DdXJzb3IiLCJtaWdyYXRlIiwiY29udGludWUiLCJjbG9zZURCIiwicmVxIiwiaW5kZXhlZERCIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkYXRhYmFzZU5hbWUiLCJkZWxldGVEYXRhYmFzZSIsInBvb3JJbmRleGVkRGJTdXBwb3J0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY2hlY2siLCJOT0RFU19QUkVGSVgiLCJpc1JlbW90ZVN0b3JhZ2VLZXkiLCJMb2NhbFN0b3JhZ2UiLCJJbk1lbW9yeVN0b3JhZ2UiXSwibWFwcGluZ3MiOiI7Q0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLGdCQUFpQixHQUFJSCxHQUNGLGlCQUFaQyxRQUNkQSxRQUF1QixjQUFJRCxJQUUzQkQsRUFBb0IsY0FBSUMsSUFSMUIsQ0FTR0ssTUFBTSxXQUNULE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUCxRQUduQyxJQUFJQyxFQUFTSSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVCxRQUFTLElBVVYsT0FOQVUsRUFBUUgsR0FBVUksS0FBS1YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU00sR0FHL0RMLEVBQU9RLEdBQUksRUFHSlIsRUFBT0QsUUEwRGYsT0FyREFNLEVBQW9CTSxFQUFJRixFQUd4QkosRUFBb0JPLEVBQUlSLEVBR3hCQyxFQUFvQlEsRUFBSSxTQUFTZCxFQUFTZSxFQUFNQyxHQUMzQ1YsRUFBb0JXLEVBQUVqQixFQUFTZSxJQUNsQ0csT0FBT0MsZUFBZW5CLEVBQVNlLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN0QixHQUNYLG9CQUFYdUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlbkIsRUFBU3VCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZW5CLEVBQVMsYUFBYyxDQUFFeUIsT0FBTyxLQVF2RG5CLEVBQW9Cb0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFuQixFQUFvQm1CLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBeEIsRUFBb0JnQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT25CLEVBQW9CUSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSdkIsRUFBb0IyQixFQUFJLFNBQVNoQyxHQUNoQyxJQUFJZSxFQUFTZixHQUFVQSxFQUFPMkIsV0FDN0IsV0FBd0IsT0FBTzNCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFLLEVBQW9CUSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSVixFQUFvQlcsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekc3QixFQUFvQmdDLEVBQUksR0FJakJoQyxFQUFvQkEsRUFBb0JpQyxFQUFJLEksK0ZDckR4QyxFQUFBQyxTQUFZQyxJQUNBLGlCQUFaLEVBQ1RDLFFBQVFELE1BQU1BLEdBRWRDLFFBQVFELE1BQU1BLEVBQU1FLFFBQVNGLEVBQU1HLFFBSTFCLEVBQUFDLGNBQXFDLG9CQUFiLE9BQTJCQyxPQUEwQixpQkFBVEMsS0FBb0JBLEtBQU9DLEVBRS9GLEVBQUFDLGlCQUFtQixJQUNGLG9CQUFiLE9BQTJCSCxPQUEwQixpQkFBVEMsS0FBb0JBLEtBQU9DLEVBSzNFLEVBQUFFLE9BQVMsSUFBSUMsS0FDeEIsTUFBTUMsRUFBU0QsRUFBSyxHQU9wQixPQU5nQkUsTUFBTWpCLFVBQVVrQixNQUFNM0MsS0FBS3dDLEVBQU0sR0FDekNJLFNBQVEsU0FBVUMsR0FDeEIsSUFBSyxNQUFNekIsS0FBT3lCLEVBQ2hCSixFQUFPckIsR0FBT3lCLEVBQU96QixNQUdsQnFCLEdBR0ksRUFBQUssaUJBQW9CQyxJQUMvQixHQUFhLEtBQVRBLEVBQ0YsTUFBTyxJQUVULElBQUtBLEVBQ0gsS0FBTSxrQkFHUixPQUFPQSxFQUFLQyxRQUFRLE9BQVEsS0FDekJBLFFBQVEsYUFBYyxLQUdkLEVBQUFDLFNBQVlGLEdBQ0ksTUFBcEJBLEVBQUtHLFFBQVEsR0FHVCxFQUFBQyxXQUFjSixJQUNqQixFQUFBRSxTQUFTRixHQUdOLEVBQUFLLFNBQVlMLElBQ3ZCLE1BQU1NLEVBQVFOLEVBQUtPLE1BQU0sS0FDekIsT0FBSSxFQUFBTCxTQUFTRixHQUNKTSxFQUFNQSxFQUFNRSxPQUFTLEdBQUssSUFFMUJGLEVBQU1BLEVBQU1FLE9BQVMsSUFJbkIsRUFBQUMsVUFBYVQsR0FDakJBLEVBQUtDLFFBQVEsT0FBUSxLQUN6Qk0sTUFBTSxLQUFLRyxJQUFJQyxvQkFBb0JDLEtBQUssS0FDeENYLFFBQVEsS0FBTSxPQUdOLEVBQUFZLFFBQVdyQyxJQUN0QixJQUFLLE1BQU1ILEtBQU8zQixLQUNhLG1CQUFqQjhCLEVBQU9ILEtBQ2pCRyxFQUFPSCxHQUFPRyxFQUFPSCxHQUFLQyxLQUFLRSxLQUt4QixFQUFBc0MsTUFBUSxDQUFDQyxFQUFRQyxFQUFRQyxFQUFPLE1BQzNDLElBQUk1QyxFQUVKLFVBQVcsVUFBZSxFQUN4QixPQUFPLEVBR1QsR0FBbUIsaUJBQVIsR0FBbUMsa0JBQVIsR0FBb0MsaUJBQVIsRUFDaEUsT0FBTzBDLElBQU1DLEVBR2YsR0FBbUIsbUJBQVIsRUFDVCxPQUFPRCxFQUFFRyxhQUFlRixFQUFFRSxXQVk1QixHQVRJSCxhQUFhSSxhQUFlSCxhQUFhRyxjQUczQ0osRUFBSSxJQUFJSyxXQUFXTCxHQUNuQkMsRUFBSSxJQUFJSSxXQUFXSixJQUtqQkQsYUFBYXBCLE1BQU8sQ0FDdEIsR0FBSW9CLEVBQUVQLFNBQVdRLEVBQUVSLE9BQ2pCLE9BQU8sRUFHVCxJQUFLLElBQUkxRCxFQUFJLEVBQUdLLEVBQUk0RCxFQUFFUCxPQUFRMUQsRUFBSUssRUFBR0wsSUFDbkMsSUFBSyxFQUFBZ0UsTUFBTUMsRUFBRWpFLEdBQUlrRSxFQUFFbEUsR0FBSW1FLEdBQ3JCLE9BQU8sTUFHTixDQUVMLElBQUs1QyxLQUFPMEMsRUFDVixHQUFJQSxFQUFFcEMsZUFBZU4sTUFBVUEsS0FBTzJDLEdBQ3BDLE9BQU8sRUFLWCxJQUFLM0MsS0FBTzJDLEVBQUcsQ0FDYixJQUFLQSxFQUFFckMsZUFBZU4sR0FDcEIsU0FHRixLQUFNQSxLQUFPMEMsR0FDWCxPQUFPLEVBR1QsSUFBSU0sRUFFSixHQUF3QixpQkFBWkwsRUFBRTNDLEdBQW9CLENBQ2hDLEdBQUk0QyxFQUFLSyxRQUFRTixFQUFFM0MsS0FBUyxFQUcxQixTQUdGZ0QsRUFBVUosRUFBS3JCLFFBQ2Z5QixFQUFRRSxLQUFLUCxFQUFFM0MsSUFHakIsSUFBSyxFQUFBeUMsTUFBTUMsRUFBRTFDLEdBQU0yQyxFQUFFM0MsR0FBTWdELEdBQ3pCLE9BQU8sR0FLYixPQUFPLEdBR0ksRUFBQUcsVUFBYUMsSUFDeEIsUUFBWUMsSUFBUkQsRUFFRyxDQUNMLE1BQU1FLEVBQVFDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVVMLElBRXhDLE9BeEtKLFNBQVNNLEVBQWlCQyxFQUFnQkMsR0FDeEMsR0FBd0IsaUJBQWIsSUFBeUJ0QyxNQUFNdUMsUUFBUUYsSUFBc0IsT0FBWEEsRUFHN0QsSUFBSyxNQUFNRyxLQUFTSCxFQUNsQixHQUErQixpQkFBbkJBLEVBQU9HLElBQTBDLE9BQWxCSCxFQUFPRyxHQUNoRCxHQUFpQyx5QkFBN0JILEVBQU9HLEdBQU9qQixXQUF1QyxDQUN2RGUsRUFBT0UsR0FBUyxJQUFJaEIsWUFBWWEsRUFBT0csR0FBT0MsWUFDOUMsTUFBTUMsRUFBUyxJQUFJQyxVQUFVTixFQUFPRyxJQUNyQixJQUFJRyxVQUFVTCxFQUFPRSxJQUM3QkksSUFBSUYsUUFFWE4sRUFBaUJDLEVBQU9HLEdBQVFGLEVBQU9FLElBMkozQ0osQ0FBaUJOLEVBQUtFLEdBQ2ZBLElBSUUsRUFBQWEsY0FBaUJ4QyxJQUM1QixNQUFNeUMsRUFBUSxDQUFDekMsR0FDVE0sRUFBUU4sRUFBS0MsUUFBUSxNQUFPLElBQUlNLE1BQU0sS0FFNUMsS0FBT0QsRUFBTUUsT0FBUyxHQUNwQkYsRUFBTW9DLE1BQ05ELEVBQU1sQixLQUFLakIsRUFBTU0sS0FBSyxLQUFPLEtBRS9CLE9BQU82QixHQUdJLEVBQUFFLHNCQUF3QixLQUNuQyxNQUFNQyxFQUFVLEVBQUFyRCxtQkFFaEIsS0FBTSxpQkFBa0JxRCxHQUN0QixPQUFPLEVBR1QsSUFHRSxPQUZBQSxFQUFRQyxhQUFhQyxRQUFRLFdBQVksS0FDekNGLEVBQVFDLGFBQWFFLFdBQVcsYUFDekIsRUFDUCxNQUFPaEUsR0FDUCxPQUFPLElBV0UsRUFBQWlFLHdCQUEyQjNFLElBQ3RDLE1BQU11RSxFQUFVLEVBQUFyRCxtQkFFaEIsSUFDRSxPQUFPcUMsS0FBS0MsTUFBTWUsRUFBUUMsYUFBYUksUUFBUTVFLElBQy9DLE1BQU82RSxNQWNFLEVBQUFDLHdCQUEwQixDQUFDQyxFQUErQkMsT0FFMURBLEdBQVlBLEVBQVNDLE1BQU0sbUJBQXNCLDZCQUE2QkMsS0FBS0gsSUFTbkYsRUFBQUksdUJBQXlCLENBQUNDLEVBQTBCQyxJQUN4RCxJQUFJQyxRQUFTQyxJQUNsQixHQUFvQixvQkFBVEMsS0FBc0IsQ0FDL0IsTUFBTUMsRUFBUyxJQUFJQyxFQUFPLElBQUkzQyxXQUFXcUMsSUFDekNHLEVBQVFFLEVBQU81QyxTQUFTd0MsUUFDbkIsQ0FDTCxJQUFJTSxFQUNKLE1BQU1DLEVBQUssRUFBQTlFLGNBSVgsR0FEQThFLEVBQUdDLFlBQWNELEVBQUdDLGFBQWVELEVBQUdFLHVCQUNSLElBQW5CRixFQUFHQyxZQUE2QixDQUN6QyxNQUFNRSxFQUFLLElBQUlILEVBQUdDLFlBQ2xCRSxFQUFHQyxPQUFPWixHQUNWTyxFQUFPSSxFQUFHRSxlQUVWTixFQUFPLElBQUlILEtBQUssQ0FBQ0osSUFHbkIsTUFBTWMsRUFBYSxJQUFJQyxXQUNvQixtQkFBaENELEVBQVdFLGlCQUNwQkYsRUFBV0UsaUJBQWlCLFdBQVcsU0FBVUMsR0FDL0NkLEVBQVFjLEVBQUloRixPQUFPaUYsV0FHckJKLEVBQVdLLFVBQVksU0FBVUYsR0FDL0JkLEVBQVFjLEVBQUloRixPQUFPaUYsU0FHdkJKLEVBQVdNLFdBQVdiLEVBQU1OLE1BVXJCLEVBQUFvQixTQUFZQyxJQUN2QixNQUFNbkMsRUFBVSxFQUFBckQsbUJBQ2hCLE1BQUksU0FBVXFELEVBQ0xBLEVBQWMsS0FBRW1DLEdBRWhCaEIsRUFBT2lCLEtBQUtELEdBQUs3RCxTQUFTLFdBYXJDLHVCQUE0QitELEVBQWtCQyxHQUM1Q0EsRUFBVXJGLFFBQVFzRixJQUNoQjNILE9BQU80SCxvQkFBb0JELEVBQVN6RyxXQUFXbUIsUUFBUXhDLElBQ3JERyxPQUFPQyxlQUFld0gsRUFBWXZHLFVBQVdyQixFQUFNRyxPQUFPNkgseUJBQXlCRixFQUFTekcsVUFBV3JCLFcsZ01DblQ3RyxnQkFVQSxzQkFBK0JvQyxHQUN6QixVQUFPNkYsU0FFVHRHLFFBQVF1RyxPQUFPOUYsSyxrS0NibkIsZ0JBS0EsZ0JBUUUsVUFBVStGLEdBQ1JBLEVBQWlCM0YsUUFBUTRGLEdBQVUvSSxLQUFLZ0osVUFBVUQsSUFNcEQsaUJBQWtCRSxFQUFtQkMsR0FFbkMsR0FBMkIsaUJBQWhCLEVBQ1QsTUFBTSxJQUFJQyxNQUFNLHlDQUVsQixHQUF5QixtQkFBZCxFQUNULE1BQU0sSUFBSUEsTUFBTSx5Q0FFbEIsVUFBSSx3Q0FBeUNGLEdBQzdDakosS0FBS29KLGVBQWVILEdBQ3BCakosS0FBS3FKLFVBQVVKLEdBQVdwRSxLQUFLcUUsR0FNakMsR0FBSUQsRUFBbUJDLEdBQ3JCLE9BQU9sSixLQUFLK0gsaUJBQWlCa0IsRUFBV0MsR0FNMUMsb0JBQXFCRCxFQUFtQkMsR0FDdENsSixLQUFLb0osZUFBZUgsR0FDcEIsTUFBTUssRUFBS3RKLEtBQUtxSixVQUFVSixHQUFXbkYsT0FDckMsSUFBSyxJQUFJMUQsRUFBSSxFQUFHQSxFQUFJa0osRUFBSWxKLElBQ3RCLEdBQUlKLEtBQUtxSixVQUFVSixHQUFXN0ksS0FBTzhJLEVBRW5DLFlBREFsSixLQUFLcUosVUFBVUosR0FBV00sT0FBT25KLEVBQUcsR0FNMUMsTUFBTzZJLEtBQXNCbEcsR0FDM0IvQyxLQUFLb0osZUFBZUgsR0FDcEJqSixLQUFLcUosVUFBVUosR0FBVy9GLFFBQVFDLFFBQVMrRixJQUN6Q0EsRUFBUU0sTUFBTXhKLEtBQU0rQyxLQUl4QixlQUFnQmtHLEdBQ2QsS0FBTUEsS0FBYWpKLEtBQUtxSixXQUN0QixNQUFNLElBQUlGLE1BQU0sa0JBQW9CRixHQUl4QyxlQUFnQkEsRUFBbUJqRyxHQUNqQ0EsRUFBT3lHLEdBQUdSLEVBQVlTLElBQ3BCMUosS0FBSzJKLE1BQU1WLEVBQVdTLEtBSTFCLFVBQVdULFFBQ3FCLElBQW5CakosS0FBS3FKLFlBQ2RySixLQUFLcUosVUFBWSxJQUVuQnJKLEtBQUtxSixVQUFVSixHQUFhLE0sOEVDekVoQyxNQUFNVyxFQUFTLENBQ2JDLE9BQU8sRUFDUEMsYUFBYyxDQUNaQyxPQUFVLEVBQ1ZySCxRQUFVLEVBQ1ZzSCxRQUFVLEVBQ1ZDLFVBQVUsR0FFWkMsd0JBQW9CbEYsRUFDcEI0RCxTQUFTLEVBQ1R0SSxRQUFTLEdBR1Q2Six1QkFBd0IsSUFDeEJDLGdCQUFpQixHQUNqQkMsaUJBQWtCLElBQ2xCQyxjQUFjLEVBQ2RDLGVBQWdCLElBQ2hCQyxhQUFjLEtBR2hCLFVBQWVaLEcsOEVDekJmLE1BQXFCYSxVQUEwQnRCLE1BRzdDLFlBQWE1RyxFQUFrQm1JLEVBQTJCLElBQ3hEQyxRQUNBM0ssS0FBS1csS0FBTyxlQUdWWCxLQUFLdUMsYUFEZ0IsSUFBWkEsRUFDTSx3Q0FFQUEsT0FHVyxJQUFqQm1JLEVBQVFFLE9BQ2pCNUssS0FBSzRLLEtBQU9GLEVBQVFFLE1BR3RCNUssS0FBS3dDLE9BQVEsSUFBSzJHLE9BQVMzRyxPQWpCL0IsYSxjQ0FBLElBQUlxSSxFQUdKQSxFQUFJLFdBQ0gsT0FBTzdLLEtBREosR0FJSixJQUVDNkssRUFBSUEsR0FBSyxJQUFJQyxTQUFTLGNBQWIsR0FDUixNQUFPdEUsR0FFYyxpQkFBWDlELFNBQXFCbUksRUFBSW5JLFFBT3JDN0MsRUFBT0QsUUFBVWlMLEcsa0tDbkJqQixnQkFDQSxPQUNBLFVBa0JBLElBQUlFLEVBRUosU0FBU0MsRUFBZUMsR0FFdEIsTUFBTUMsRUFBV0QsR0FBT0UsRUFBVUMsY0FBY0MsS0FDMUNDLEVBQVdKLEVBQVN0RyxRQUFRLEtBQ2xDLElBQWlCLElBQWIwRyxFQUFrQixPQUN0QixNQUFNQyxFQUFjTCxFQUFTTSxVQUFVRixFQUFRLEdBRS9DLE9BQUtDLEVBQVlFLFNBQVMsS0FFbkJGLEVBQVkxSCxNQUFNLEtBQUs2SCxRQUFPLFNBQVNDLEVBQVFDLEdBQ3BELE1BQU1DLEVBQUtELEVBQUkvSCxNQUFNLEtBRXJCLEdBQWMsVUFBVmdJLEVBQUcsSUFBa0JBLEVBQUcsR0FBR2pGLE1BQU0sZUFBZ0IsQ0FFbkQsSUFBSWtGLEVBQWFDLG1CQUFtQkYsRUFBRyxJQUN2QyxNQUFNRyxFQUFjRixFQUFXckksT0FBT3FJLEVBQVdsSCxRQUFRLGlCQUM1QmYsTUFBTSxLQUFLLEdBQ1hBLE1BQU0sS0FBSyxHQUV4QzhILEVBQW9CLFlBQUl6RyxLQUFLQyxNQUFNOEcsS0FBS0QsSUFHeENGLEVBQWFBLEVBQVd2SSxRQUFRLElBQUkySSxPQUFPLGlCQUFtQkYsR0FBYyxJQUV4RUYsRUFBV2hJLE9BQVMsSUFDdEI2SCxFQUFjLE1BQUlHLFFBR3BCSCxFQUFPSSxtQkFBbUJGLEVBQUcsS0FBT0UsbUJBQW1CRixFQUFHLElBRzVELE9BQU9GLElBQ04sU0F6QkgsRUE2Q0YsTUFBcUJSLEVBR25CLGlCQUFrQmdCLEdBQWUsUUFBRUMsRUFBTyxNQUFFQyxFQUFLLFlBQUVDLEVBQVcsU0FBRUMsSUFLOUQsR0FKQSxVQUFJLHlCQUEwQkgsRUFBUyxXQUFZQyxFQUFPLGlCQUFrQkMsRUFBYSxjQUFlQyxJQUluRyxFQUFBdEcseUJBQXFELGtCQUExQmtHLEVBQWNLLFFBQTZCLENBQ3pFRixHQUFlQSxFQUFZMUgsUUFBUSxLQUFPLEVBQUksSUFBTSxJQUVwRCxNQUFNNkgsRUFBZ0IsQ0FDcEJDLFlBQWFQLEVBQWNuQyxPQUFPMEMsWUFDbENyQixLQUFNYyxFQUFjbkMsT0FBT3FCLEtBQzNCc0IsV0FBWVIsRUFBY25DLE9BQU8yQyxXQUNqQ0MsV0FBWVQsRUFBY25DLE9BQU80QyxZQUduQ04sR0FBZSxlQUFpQixFQUFBbEUsU0FBU2xELEtBQUtFLFVBQVVxSCxJQUcxRCxNQUFNeEIsRUF0Q1YsU0FBd0JtQixFQUFpQkUsRUFBcUJELEVBQWVFLEdBQzNFLE1BQU1qQixFQUFVZ0IsRUFBWTFILFFBQVEsS0FDcEMsSUFBSXFHLEVBQU1tQixFQVlWLE9BVkFuQixHQUFPbUIsRUFBUXhILFFBQVEsS0FBTyxFQUFJLElBQU0sSUFDeENxRyxHQUFPLGdCQUFrQmhILG1CQUFtQnFJLEVBQVkvSSxRQUFRLE9BQVEsS0FDeEUwSCxHQUFPLFVBQVloSCxtQkFBbUJvSSxHQUN0Q3BCLEdBQU8sY0FBZ0JoSCxtQkFBbUJzSSxJQUV4QixJQUFkakIsR0FBbUJBLEVBQVEsSUFBTWdCLEVBQVl4SSxTQUMvQ21ILEdBQU8sVUFBWWhILG1CQUFtQnFJLEVBQVlkLFVBQVVGLEVBQVEsS0FFdEVMLEdBQU8sdUJBRUFBLEVBd0JPNEIsQ0FBY1QsRUFBU0UsRUFBYUQsRUFBT0UsR0FJbkQsRUFBQTlKLGNBQXVCLFFBQ3pCMEksRUFDRzJCLFdBQVc3QixFQUFLcUIsRUFBYSxxREFDN0JTLEtBQU1DLElBQ0xiLEVBQWNuQyxPQUFPaUQsVUFBVSxDQUFFQyxNQUFPRixFQUFXRyxpQkFLekRoQyxFQUFVaUMsWUFBWW5DLEdBdUR4QixtQkFBb0JDLEdBQ2xCLEdBQXdCLGlCQUFiQSxFQUNUbUMsU0FBU25DLFNBQVNHLEtBQU9ILE1BQ3BCLElBQXdCLGlCQUFiQSxFQUdoQixLQUFNLG9CQUFzQkEsRUFGNUJtQyxTQUFTbkMsU0FBV0EsR0FNeEIsdUJBQ0UsTUFBNEIsb0JBQWYsU0F5RGYsbUJBQW9CaUIsR0FDbEJBLEVBQWNtQixvQkFBb0Isa0JBQW1CdkMsSUE5SnpELFlBQ1MsRUFBQXdDLG9CQUFxQixFQXlDckIsRUFBQW5DLFlBQWMsV0FDbkIsT0FBT2lDLFNBQVNuQyxVQU1YLEVBQUE0QixXQUFhLFNBQVU3QixFQUFLcUIsRUFBYTVCLEdBQzlDLE9BQU8sSUFBSXpELFFBQVEsQ0FBQ0MsRUFBU3NHLEtBRTNCLE1BQU1DLEVBQVlDLEtBQUt6QyxFQUFLLFNBQVVQLEdBRXRDLElBQUsrQyxHQUFhQSxFQUFVRSxPQUMxQixPQUFPSCxFQUFPLG1DQUdoQixTQUFTSSxJQUNQLE9BQU9KLEVBQU8sOEJBb0JoQkMsRUFBVTFGLGlCQUFpQixhQWpCM0IsU0FBMEIyQixHQUN4QixHQUF1QyxJQUFuQ0EsRUFBTXVCLElBQUlyRyxRQUFRMEgsR0FDcEIsT0FHRm1CLEVBQVVILG9CQUFvQixPQUFRTSxHQUN0Q0gsRUFBVUksUUFFVixNQUFNYixFQUF5QmhDLEVBQWN0QixFQUFNdUIsS0FFbkQsT0FBSytCLEVBSUU5RixFQUFROEYsR0FITlEsRUFBTywwQkFPbEJDLEVBQVUxRixpQkFBaUIsT0FBUTZGLE1BdUJoQyxFQUFBRSxTQUFXLFNBQVUzQixHQUMxQixNQUFNUixFQUFTWCxJQUNmLElBQUlFLEVBRUFTLElBQ0ZULEVBQVdDLEVBQVVDLGNBQ3JCRixFQUFTNkMsS0FBTyxJQUdsQmhELEVBQW1CLFdBQ2pCLElBQUlpRCxHQUFpQixFQUVyQixHQUFLckMsRUFBTCxDQUtBLEdBQUlBLEVBQU90SixNQUNULEtBQXFCLGtCQUFqQnNKLEVBQU90SixNQUNILElBQUksVUFBa0Isc0NBQXVDLENBQUV1SSxLQUFNLGtCQUVyRSxJQUFJLFVBQWtCLHlCQUF5QmUsRUFBT3RKLFNBTTVEc0osRUFBT3NDLGFBQ1Q5QixFQUFjbkMsT0FBT2lELFVBQVV0QixFQUFPc0MsYUFHcEN0QyxFQUFPd0IsZUFDVGhCLEVBQWNuQyxPQUFPaUQsVUFBVSxDQUFFQyxNQUFPdkIsRUFBT3dCLGVBQy9DYSxHQUFpQixHQUdmckMsRUFBT3VDLGdCQUNUL0IsRUFBY2dDLFFBQVF4QyxFQUFPdUMsZUFDN0JGLEdBQWlCLEdBR2ZyQyxFQUFPeUMsUUFDVGxELEVBQVdDLEVBQVVDLGNBQ3JCRCxFQUFVaUMsWUFBWWxDLEVBQVNHLEtBQUt4SCxNQUFNLEtBQUssR0FBRyxJQUFJOEgsRUFBT3lDLFFBRzFESixHQUNIN0IsRUFBY25DLE9BQU9xRSwyQkFsQ3JCbEMsRUFBY25DLE9BQU9xRSx1QkFzQ3pCbEMsRUFBYzFDLEdBQUcsa0JBQW1Cc0IsSyxrS0NwT3hDLGlCQUNBLFdBQ0EsV0FDQSxVQUNBLFVBQ0EsT0FLQSxTQUFTdUQsRUFBWUMsRUFBU0MsR0FDNUIsR0FBOEIsTUFBMUJBLEVBQUtBLEVBQUsxSyxPQUFTLEdBQ3JCLEtBQU0saUJBQW1CMEssRUFHZCxNQUFUQSxJQUVGeE8sS0FBS3lPLFNBQVluTCxJQUNLLE1BQVpBLEVBQUssR0FBYSxHQUFLLEtBQU9BLEdBTzFDdEQsS0FBS3VPLFFBQVVBLEVBUWZ2TyxLQUFLd08sS0FBT0EsRUFLWixNQUFNNUssRUFBUTVELEtBQUt3TyxLQUFLM0ssTUFBTSxLQUMxQkQsRUFBTUUsT0FBUyxFQUNqQjlELEtBQUswTyxXQUFhOUssRUFBTSxHQUV4QjVELEtBQUswTyxXQUFhLE9BR3BCMU8sS0FBSzJPLFVBQVUsQ0FBQyxXQUNoQjNPLEtBQUt5SixHQUFLekosS0FBS3lKLEdBQUc3SCxLQUFLNUIsTUFDdkJ1TyxFQUFRSyxTQUFTNU8sS0FBS3dPLEtBQU14TyxLQUFLNk8sWUFBWWpOLEtBQUs1QixPQUdwRHNPLEVBQVdRLE1BQVEsVUFFbkJSLEVBQVd0TSxVQUFZLENBV3JCcUssTUFBTyxTQUFVL0ksR0FDZixPQUFPLElBQUlnTCxFQUFXdE8sS0FBS3VPLFFBQVN2TyxLQUFLeU8sU0FBU25MLEtBYXBEeUwsV0FBWSxTQUFVekwsRUFBYzBMLEdBQ2xDLEdBQXNCLGlCQUFYLEVBQ1QxTCxFQUFPLFFBQ0YsR0FBSUEsRUFBS1EsT0FBUyxHQUErQixNQUExQlIsRUFBS0EsRUFBS1EsT0FBUyxHQUMvQyxPQUFPbUQsUUFBUXVHLE9BQU8saUJBQW1CbEssR0FFM0MsT0FBT3RELEtBQUt1TyxRQUFRdE4sSUFBSWpCLEtBQUt5TyxTQUFTbkwsR0FBTzBMLEdBQVFqQyxNQUNuRCxTQUFVN0wsR0FDUixPQUF5QixNQUFqQkEsRUFBRStOLFdBQXNCLEdBQUsvTixFQUFFZ08sU0FlN0NDLE9BQVEsU0FBVTdMLEVBQWMwTCxHQUM5QixHQUFzQixpQkFBWCxFQUNUMUwsRUFBTyxRQUNGLEdBQUlBLEVBQUtRLE9BQVMsR0FBK0IsTUFBMUJSLEVBQUtBLEVBQUtRLE9BQVMsR0FDL0MsT0FBT21ELFFBQVF1RyxPQUFPLGlCQUFtQmxLLEdBRzNDLE9BQU90RCxLQUFLdU8sUUFBUXROLElBQUlqQixLQUFLeU8sU0FBU25MLEdBQU8wTCxHQUFRakMsS0FBTTdMLElBQ3pELEdBQXFCLE1BQWpCQSxFQUFFK04sV0FDSixNQUFPLEdBRVQsR0FBd0IsaUJBQVovTixFQUFNLEtBQWdCLENBQ2hDLE1BQU1rTyxFQUFPdE8sT0FBT3NPLEtBQUtsTyxFQUFFZ08sTUFDM0IsR0FBb0IsSUFBaEJFLEVBQUt0TCxPQUdQLE1BQU8sR0FHVCxNQUFNdUwsRUFBUUQsRUFBS3BMLElBQUtyQyxHQUNmM0IsS0FBS3VPLFFBQVF0TixJQUFJakIsS0FBS3lPLFNBQVNuTCxFQUFPM0IsR0FBTXFOLEdBQ2hEakMsTUFBSyxTQUFVbE0sR0FDZCxHQUF3QixpQkFBWkEsRUFBTSxLQUNoQixJQUNFQSxFQUFFcU8sS0FBT2hLLEtBQUtDLE1BQU10RSxFQUFFcU8sTUFDdEIsTUFBTzFJLElBSWEsaUJBQVozRixFQUFNLE9BQ2hCSyxFQUFFZ08sS0FBS3ZOLEdBQU9kLEVBQUVxTyxVQUl4QixPQUFPakksUUFBUXFJLElBQUlELEdBQU90QyxNQUFLLFdBQzdCLE9BQU83TCxFQUFFZ08sWUFrQmpCSyxRQUFTLFNBQVVqTSxFQUFjMEwsR0FDL0IsTUFBc0IsaUJBQVgsRUFDRi9ILFFBQVF1RyxPQUFPLDBEQUVqQnhOLEtBQUt1TyxRQUFRdE4sSUFBSWpCLEtBQUt5TyxTQUFTbkwsR0FBTzBMLEdBQVFqQyxNQUFLLFNBQVU3TCxHQUNsRSxNQUFPLENBQ0xzTyxLQUFNdE8sRUFBRWdPLEtBQ1JPLFlBQWF2TyxFQUFFdU8sWUFDZkMsU0FBVXhPLEVBQUV3TyxjQWNsQkMsVUFBVyxTQUFVaEosRUFBa0JyRCxFQUFjNEwsR0FDbkQsTUFBMEIsaUJBQWYsRUFDRmpJLFFBQVF1RyxPQUFPLGdFQUVGLGlCQUFYLEVBQ0Z2RyxRQUFRdUcsT0FBTyw0REFFRixpQkFBWCxHQUF5QyxpQkFBWCxFQUNoQ3ZHLFFBQVF1RyxPQUFPLDhGQUVuQnhOLEtBQUt1TyxRQUFRcUIsT0FBT0Msb0JBQW9CN1AsS0FBS3lPLFNBQVNuTCxHQUFPLE9BQ2hFaEIsUUFBUXdOLEtBQUssMkVBR1I5UCxLQUFLdU8sUUFBUXdCLElBQUkvUCxLQUFLeU8sU0FBU25MLEdBQU80TCxFQUFNdkksR0FBVW9HLEtBQU03TCxHQUM1QyxNQUFqQkEsRUFBRStOLFlBQXVDLE1BQWpCL04sRUFBRStOLFdBQ3JCL04sRUFBRXdPLFNBRUZ6SSxRQUFRdUcsT0FBTyxnQkFBa0J4TixLQUFLeU8sU0FBU25MLEdBQVEseUJBQTJCcEMsRUFBRStOLGVBa0JqR2UsVUFBVyxTQUFVMU0sRUFBYzBMLEdBQ2pDLE1BQXNCLGlCQUFYLEVBQ0YvSCxRQUFRdUcsT0FBTyw0REFFakJ4TixLQUFLdU8sUUFBUXROLElBQUlqQixLQUFLeU8sU0FBU25MLEdBQU8wTCxHQUFRakMsS0FBTTdMLElBQ3pELEdBQXdCLGlCQUFaQSxFQUFNLEtBQ2hCLE9BQU9BLEVBQUVnTyxLQUNKLEdBQXdCLGlCQUFaaE8sRUFBTSxLQUN2QixJQUNFLE9BQU9nRSxLQUFLQyxNQUFNakUsRUFBRWdPLE1BQ3BCLE1BQU8xSSxHQUNQLEtBQU0sbUJBQXFCeEcsS0FBS3lPLFNBQVNuTCxRQUV0QyxRQUF3QixJQUFacEMsRUFBTSxNQUFzQyxNQUFqQkEsRUFBRStOLFdBQzlDLE9BQU9oSSxRQUFRdUcsT0FBTyxrQkFBb0J4TixLQUFLeU8sU0FBU25MLE9Bb0I5RDJNLFlBQWEsU0FBVUMsRUFBbUI1TSxFQUFjeEIsR0FDdEQsR0FBMkIsaUJBQWhCLEVBQ1QsT0FBT21GLFFBQVF1RyxPQUFPLG1FQUV4QixHQUFzQixpQkFBWCxFQUNULE9BQU92RyxRQUFRdUcsT0FBTyw4REFFeEIsR0FBd0IsaUJBQWIsRUFDVCxPQUFPdkcsUUFBUXVHLE9BQU8saUVBR3hCeE4sS0FBS21RLFlBQVlyTyxFQUFRb08sR0FFekIsSUFDRSxNQUFNRSxFQUFtQnBRLEtBQUtxUSxTQUFTdk8sR0FDdkMsSUFBS3NPLEVBQWlCRSxNQUNwQixPQUFPckosUUFBUXVHLE9BQU80QyxHQUV4QixNQUFPRyxHQUNQLE9BQU90SixRQUFRdUcsT0FBTytDLEdBR3hCLE9BQU92USxLQUFLdU8sUUFBUXdCLElBQUkvUCxLQUFLeU8sU0FBU25MLEdBQU80QixLQUFLRSxVQUFVdEQsR0FBUyxtQ0FBbUNpTCxLQUFNN0wsR0FDdkYsTUFBakJBLEVBQUUrTixZQUF1QyxNQUFqQi9OLEVBQUUrTixXQUNyQi9OLEVBQUV3TyxTQUVGekksUUFBUXVHLE9BQU8sZ0JBQWtCeE4sS0FBS3lPLFNBQVNuTCxHQUFRLHlCQUEyQnBDLEVBQUUrTixjQVlqR3VCLE9BQVEsU0FBVWxOLEdBQ2hCLE1BQXNCLGlCQUFYLEVBQ0YyRCxRQUFRdUcsT0FBTywwREFFbkJ4TixLQUFLdU8sUUFBUXFCLE9BQU9DLG9CQUFvQjdQLEtBQUt5TyxTQUFTbkwsR0FBTyxPQUNoRWhCLFFBQVF3TixLQUFLLDRFQUdSOVAsS0FBS3VPLFFBQVFrQyxPQUFPelEsS0FBS3lPLFNBQVNuTCxNQVUzQ29OLFdBQVksU0FBVXBOLEdBQ3BCLEdBQXNCLGlCQUFYLEVBQ1QsS0FBTSw0REFFUixPQUFJdEQsS0FBS3VPLFFBQVFvQyxXQUNmck4sRUFBTyxFQUFBUyxVQUFVL0QsS0FBS3lPLFNBQVNuTCxJQUN4QnRELEtBQUt1TyxRQUFRdkUsT0FBT3FCLEtBQU8vSCxRQUVsQyxHQWdCSnVHLE1BQU8sU0FBVXZHLEVBQWNzTixFQUFxQyxPQUNsRSxHQUFvQixpQkFBVHROLEVBQ1QsS0FBTSx1REFHUixHQUF3QixpQkFBYnNOLEVBQ1QsS0FBTSx3RUFHUixHQUFpQixVQUFiQSxHQUNXLFNBQWJBLEdBQ2EsUUFBYkEsRUFDQSxLQUFNLG9GQUtSLE9BRkE1USxLQUFLdU8sUUFBUXNDLFFBQVFoTCxJQUFJN0YsS0FBS3lPLFNBQVNuTCxHQUFPc04sR0FFdkM1USxNQVNUOFEsTUFBTyxTQUFVeE4sR0FDZixPQUFPdEQsS0FBS3VPLFFBQVF4RSxNQUFNK0csTUFBTXhOLElBWWxDeU4sWUFBYSxTQUFVQyxFQUFZQyxFQUFrQkMsR0FDbkQsSUFBSUMsRUFFQ0QsRUFJSEMsRUFBTUYsR0FITkMsRUFBU0QsRUFDVEUsRUFBTW5SLEtBQUtvUixnQkFBZ0JKLElBSzdCMUMsRUFBV1EsTUFBTXVDLFFBQVFyUixLQUFLME8sV0FBWXNDLEVBQU9HLEVBQUtELElBVXhEYixTQUFVLFNBQVV2TyxHQUNsQixNQUFNb1AsRUFBUzVDLEVBQVdRLE1BQU13QyxVQUFVeFAsRUFBTyxhQUNqRCxHQUFJb1AsRUFDRixPQUFPLFVBQUlLLGVBQWV6UCxFQUFRb1AsR0FFbEMsTUFBTSxJQUFJLFVBQWVwUCxFQUFPLGNBU3BDMFAsUUFBUyxDQUNQQyxjQUFjLEVBQ2R4USxJQUFLLFdBQ0gsT0FBT3FOLEVBQVdRLE1BQU00QyxRQUFRMVIsS0FBSzBPLGNBU3pDMEMsZ0JBQWlCLFNBQVVKLEdBQ3pCLE1BQU8sd0NBQTBDL00sbUJBQW1CakUsS0FBSzBPLFlBQWMsSUFBTXpLLG1CQUFtQitNLElBUWxIYixZQUFhLFNBQVVyTyxFQUFnQmtQLEdBQ3JDbFAsRUFBTyxZQUFjd00sRUFBV1EsTUFBTTZDLGFBQWEzUixLQUFLME8sV0FBYSxJQUFNc0MsSUFBVWhSLEtBQUtvUixnQkFBZ0JKLElBUTVHdkMsU0FBVSxTQUFVbkwsR0FDbEIsT0FBT3RELEtBQUt3TyxNQUFRbEwsR0FBUSxLQVE5QnVMLFlBQWEsU0FBVW5GLEdBQ2pCLFVBQU9JLGFBQWFKLEVBQU1rSSxVQUM1QixDQUFDLE1BQU8sTUFBTyxjQUFjek8sU0FBUSxTQUFVME8sR0FDN0MsS0FBTW5JLEVBQU1tSSxFQUFrQixnQkFDeEIsNkJBQTZCQyxLQUFLcEksRUFBTW1JLEVBQWtCLGtCQUNaLGlCQUF0Q25JLEVBQU1tSSxFQUFrQixTQUNsQyxJQUNFbkksRUFBTW1JLEVBQWtCLFNBQVczTSxLQUFLQyxNQUFNdUUsRUFBTW1JLEVBQWtCLFVBQ3RFLE1BQU9yTCxRQU1meEcsS0FBSzJKLE1BQU0sU0FBVUQsTUFNM0I0RSxFQUFXUixTQUFXLGFBSXRCLEVBQUFpRSxZQUFZekQsRUFBWSxDQUFDLFlBRXpCLFVBQWVBLEcsMmVDL2NmLGdCQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsT0E2Q0EsSUFBSTBELEVBQ0osTUFBTUMsRUFBZSwyQkFRZkMsRUFBZSxDQUNuQixnQ0FOYSxFQU9iLGdDQU5hLEVBT2IsZ0NBTmEsRUFPYixpRUFWZSxHQWFqQixJQUFJQyxFQUVKLEdBQTJELG1CQUE5Q3ZQLEdBQVVGLFFBQThCLGdCQUNuRHlQLEVBQW9CLFNBQVVyUSxHQUM1QixPQUFPQSxHQUFXQSxhQUFtQmMsR0FBVUYsUUFBZTBQLHFCQUUzRCxDQUNMLE1BQU1DLEVBQW1CLENBQ3ZCek0sVUFBV2xCLFdBQVk0TixXQUFZQyxZQUNuQ0MsV0FBWUMsWUFBYUMsYUFBY0MsY0FFekNSLEVBQW9CLFNBQVVyUSxHQUM1QixJQUFLLElBQUkxQixFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDckIsR0FBSTBCLGFBQWtCdVEsRUFBaUJqUyxHQUNyQyxPQUFPLEVBR1gsT0FBTyxHQWtCWCxTQUFTd1MsRUFBV3ZLLEdBQ2xCLE1BQXFCLGlCQUFWLEVBQ0ZBLEVBRUcsTUFBUkEsRUFDSyxJQUdGLElBQU1BLEVBQU0sSUFHckIsU0FBU3dLLEVBQWF4SyxHQUNwQixNQUFxQixpQkFBVixFQUNGQSxFQUdGQSxFQUFJOUUsUUFBUSxlQUFnQixJQXdDckMsTUFBTXVQLEVBQWEsU0FBb0JDLEdBV3JDLEdBVkEvUyxLQUFLK1MsR0FBS0EsRUFDVi9TLEtBQUsyUSxXQUFZLEVBT2pCM1EsS0FBSzJPLFVBQVUsQ0FBQyxZQUFhLGtCQUV6QnFELEVBQWlCLENBQ25CLE1BQU1nQixFQUFXLEVBQUExTSx3QkFBd0IyTCxHQUNyQ2UsR0FDRkMsV0FBVyxLQUNUalQsS0FBS2lOLFVBQVUrRixJQUNkLEdBSVBoVCxLQUFLa1QsZUFBaUIsR0FFbEJsVCxLQUFLMlEsV0FDUHNDLFdBQVdqVCxLQUFLMkosTUFBTS9ILEtBQUs1QixNQUFPLEVBQUcsY0FJekM4UyxFQUFXOVEsVUFBWSxDQXFDckJtUixTQUFVLFNBQWdCQyxFQUFnQmpDLEVBQWFqRSxFQUF1Qm1HLEVBQWlCbkUsRUFBZW9FLEVBQWtCQyxHLHlDQUM5SCxHQTVFSixTQUFrQ0gsRUFBZ0JqQyxHQUNoRCxPQUFlLFFBQVhpQyxHQUErQixXQUFYQSxJQUNmLEVBQUE1UCxTQUFTMk4sR0EwRVpxQyxDQUF5QkosRUFBUWpDLEdBQ25DLE9BQU9sSyxRQUFRdUcsT0FBTyxhQUFhNEYscUJBR3JDLElBQUkxRCxFQVdKLE9BVEl4QyxJQUFVLFVBQVVLLHFCQUN0QjhGLEVBQXVCLGNBQUksVUFBWW5HLEdBR3pDbE4sS0FBSytTLEdBQUdwSixNQUFNLFlBQWEsQ0FDekJ5SixPQUFRQSxFQUNSNVAsU0FBVSxFQUFBQSxTQUFTMk4sS0FHZDJCLEVBQVdXLFFBQVFMLEVBQVFqQyxFQUFLLENBQ3JDakMsS0FBTUEsRUFDTm1FLFFBQVNBLEVBQ1RLLGFBQWMsZ0JBQ2IzRyxLQUFNNEcsSUFXUCxHQVZLM1QsS0FBSzRULFNBQ1I1VCxLQUFLNFQsUUFBUyxFQUNkNVQsS0FBSytTLEdBQUdwSixNQUFNLG1CQUVoQjNKLEtBQUsrUyxHQUFHcEosTUFBTSxZQUFhLENBQ3pCeUosT0FBUUEsRUFDUjVQLFNBQVUsRUFBQUEsU0FBUzJOLEdBQ25CMEMsU0FBUyxJQTNHT0MsRUE4R0FILEVBQVNHLE9BN0d4QixDQUFDLElBQUssSUFBSyxJQUFLLEtBQUtsUCxRQUFRa1AsSUFBVyxFQXlIekMsT0FYQSxVQUFJLHFDQUFzQ0gsRUFBU0csUUFFakRwRSxFQURFNEQsRUFDU1QsRUFBWWMsRUFBU0ksa0JBQWtCLGNBRXZDL08sRUFHVyxNQUFwQjJPLEVBQVNHLFFBQ1g5VCxLQUFLK1MsR0FBR3BKLE1BQU0sUUFBUyxJQUFJLFdBR3RCMUMsUUFBUUMsUUFBUSxDQUFDK0gsV0FBWTBFLEVBQVNHLE9BQVFwRSxTQUFVQSxJQUMxRCxHQS9IYixTQUEwQm9FLEdBQ3hCLE1BQU8sQ0FBQyxJQUFLLElBQUssS0FBS2xQLFFBQVFrUCxJQUFXLEVBOEgzQkUsQ0FBZ0JMLEVBQVNHLFNBQ2IsTUFBcEJILEVBQVNHLFFBQTZCLFFBQVhWLEVBRzVCLE9BRkExRCxFQUFXbUQsRUFBWWMsRUFBU0ksa0JBQWtCLFNBQ2xELFVBQUksa0NBQW1DckUsR0FDaEN6SSxRQUFRQyxRQUFRLENBQUMrSCxXQUFZMEUsRUFBU0csT0FBUXBFLFNBQVVBLElBQzFELENBQ0wsTUFBTS9JLEVBQVdnTixFQUFTSSxrQkFBa0IsZ0JBRTFDckUsRUFERTRELEVBQ1NULEVBQVljLEVBQVNJLGtCQUFrQixTQUVsQixNQUFwQkosRUFBU0csT0FBa0JQLE9BQWV2TyxFQUd4RCxNQUFNaVAsRUE5SmQsU0FBMkJ0TixHQUN6QixJQUNJdU4sRUFEQUQsRUFBVSxRQVNkLE9BTkl0TixJQUNGdU4sRUFBZXZOLEVBQVNDLE1BQU0saUJBQzFCc04sSUFDRkQsRUFBVUMsRUFBYSxLQUdwQkQsRUFvSmVFLENBQWlCeE4sR0FFakMsT0FBSSxFQUFBRix3QkFBd0JrTixFQUFTQSxTQUFVaE4sSUFDN0MsVUFBSSxtRUFBb0UrSSxHQUNqRXpJLFFBQVFDLFFBQVEsQ0FDckIrSCxXQUFZMEUsRUFBU0csT0FDckI1RSxLQUFNeUUsRUFBU0EsU0FDZmxFLFlBQWE5SSxFQUNiK0ksU0FBVUEsS0FHTCxFQUFBNUksdUJBQXVCNk0sRUFBU0EsU0FBVU0sR0FDOUNsSCxLQUFNcUgsSUFDTCxVQUFJLGtDQUFtQzFFLEdBQ2hDekksUUFBUUMsUUFBUSxDQUNyQitILFdBQVkwRSxFQUFTRyxPQUNyQjVFLEtBQU1rRixFQUNOM0UsWUFBYTlJLEVBQ2IrSSxTQUFVQSxNQTFKMUIsSUFBd0JvRSxHQStKakJ6UixJQUNHckMsS0FBSzRULFNBQ1A1VCxLQUFLNFQsUUFBUyxFQUNkNVQsS0FBSytTLEdBQUdwSixNQUFNLG9CQUVoQjNKLEtBQUsrUyxHQUFHcEosTUFBTSxZQUFhLENBQ3pCeUosT0FBUUEsRUFDUjVQLFNBQVUsRUFBQUEsU0FBUzJOLEdBQ25CMEMsU0FBUyxJQUdKNU0sUUFBUXVHLE9BQU9uTCxTQXlCMUI0SyxVQUFXLFNBQVUrRixHQUNuQixHQUF3QixpQkFBYkEsRUFDVCxNQUFNLElBQUk3SixNQUFNLG9FQUVrQixJQUF6QjZKLEVBQVN0RyxjQUNsQjFNLEtBQUswTSxZQUFjc0csRUFBU3RHLGtCQUVELElBQWxCc0csRUFBUzNILE9BQ2xCckwsS0FBS3FMLEtBQU8ySCxFQUFTM0gsV0FFWSxJQUF4QjJILEVBQVNyRyxhQUNsQjNNLEtBQUsyTSxXQUFhcUcsRUFBU3JHLGlCQUVDLElBQW5CcUcsRUFBUzlGLFFBQ2xCbE4sS0FBS2tOLE1BQVE4RixFQUFTOUYsWUFFVyxJQUF4QjhGLEVBQVNwRyxhQUNsQjVNLEtBQUs0TSxXQUFhb0csRUFBU3BHLGlCQUdFLElBQXBCNU0sS0FBSzJNLGFBQ2QzTSxLQUFLcVUsWUFBY25DLEVBQWFsUyxLQUFLMk0sYUE3UzFCLEVBOFNYM00sS0FBS3NVLGFBQWV0VSxLQUFLcVUsYUFqVGhCLEdBbVRQclUsS0FBS3FMLE1BQVFyTCxLQUFLa04sT0FDcEJsTixLQUFLMlEsV0FBWSxFQUNqQjNRLEtBQUs0VCxRQUFTLEVBQ2Q1VCxLQUFLMkosTUFBTSxjQUVYM0osS0FBSzJRLFdBQVksRUFFZnFCLElBQ0Y3TCxhQUFhOEwsR0FBZ0IvTSxLQUFLRSxVQUFVLENBQzFDc0gsWUFBYTFNLEtBQUswTSxZQUNsQnJCLEtBQU1yTCxLQUFLcUwsS0FDWHNCLFdBQVkzTSxLQUFLMk0sV0FDakJPLE1BQU9sTixLQUFLa04sTUFDWk4sV0FBWTVNLEtBQUs0TSxlQUt2QnlCLG9CQUFxQixXQUNkck8sS0FBSzJRLFdBQ1IzUSxLQUFLMkosTUFBTSxrQkFJZjFJLElBQUssU0FBVXFDLEVBQWNvSCxFQUFvQyxJQUMvRCxJQUFLMUssS0FBSzJRLFVBQ1IsT0FBTzFKLFFBQVF1RyxPQUFPLHdCQUEwQmxLLEVBQU8sS0FHekQsTUFBTStQLEVBQVUsR0FZaEIsT0FYSXJULEtBQUtzVSxjQUNINUosRUFBUTZKLGNBQ1ZsQixFQUFRLGlCQUFtQlQsRUFBVWxJLEVBQVE2SixjQVMxQ3ZVLEtBQUttVCxTQUFTLE1BQU9uVCxLQUFLcUwsS0FBTyxFQUFBdEgsVUFBVVQsR0FBT3RELEtBQUtrTixNQUFPbUcsT0FDbkVyTyxFQUFXaEYsS0FBS3NVLGFBQWN0VSxLQUFLa1QsZUFBZTVQLElBQ2pEeUosS0FBTTdMLElBQ0wsSUFBSyxFQUFBc0MsU0FBU0YsR0FDWixPQUFPMkQsUUFBUUMsUUFBUWhHLEdBRXpCLElBQUlzVCxFQUFXLEdBQ2YsUUFBd0IsSUFBWnRULEVBQU0sS0FDaEIsSUFDRUEsRUFBRWdPLEtBQU9oSyxLQUFLQyxNQUFNakUsRUFBRWdPLE1BQ3RCLE1BQU8xSSxHQUNQLE9BQU9TLFFBQVF1RyxPQUFPLHlCQUEyQnhOLEtBQUtxTCxLQUFPLEVBQUF0SCxVQUFVVCxHQUFRLGdCQUluRixHQUFxQixNQUFqQnBDLEVBQUUrTixZQUEwQyxpQkFBWi9OLEVBQU0sS0FBZ0IsQ0FFeEQsR0FBbUMsSUFBL0JKLE9BQU9zTyxLQUFLbE8sRUFBRWdPLE1BQU1wTCxPQUV0QjVDLEVBQUUrTixXQUFhLFNBQ1YsR0FoU2UscURBREZDLEVBaVNXaE8sRUFBRWdPLE1BaFMzQixhQUNtQixpQkFBbkJBLEVBQWEsTUErUnFCLENBRXRDLElBQUssTUFBTXVGLEtBQVF2VCxFQUFFZ08sS0FBS3dGLE1BQ3hCMVUsS0FBS2tULGVBQWU1UCxFQUFPbVIsR0FBUXZULEVBQUVnTyxLQUFLd0YsTUFBTUQsR0FBTUUsS0FFeERILEVBQVd0VCxFQUFFZ08sS0FBS3dGLFdBR2xCNVQsT0FBT3NPLEtBQUtsTyxFQUFFZ08sTUFBTS9MLFFBQVN4QixJQUMzQjNCLEtBQUtrVCxlQUFlNVAsRUFBTzNCLEdBQU9ULEVBQUVnTyxLQUFLdk4sR0FDekM2UyxFQUFTN1MsR0FBTyxDQUFDLEtBQVFULEVBQUVnTyxLQUFLdk4sTUFJcEMsT0FEQVQsRUFBRWdPLEtBQU9zRixFQUNGdk4sUUFBUUMsUUFBUWhHLEdBRXZCLE9BQU8rRixRQUFRQyxRQUFRaEcsR0FqVGpDLElBQThCZ08sS0FzVDVCYSxJQUFLLFNBQVV6TSxFQUFjNEwsRUFBZU8sRUFBcUIvRSxFQUFzRCxJQUNySCxJQUFLMUssS0FBSzJRLFVBQ1IsT0FBTzFKLFFBQVF1RyxPQUFPLHdCQUEwQmxLLEVBQU8sTUFFbkRtTSxFQUFZN0ksTUFBTSxjQUFpQnNJLGFBQWdCekssYUFBZTBOLEVBQWtCakQsTUFDeEZPLEdBQWUsb0JBRWpCLE1BQU00RCxFQUFVLENBQUMsZUFBZ0I1RCxHQVNqQyxPQVJJelAsS0FBS3NVLGVBQ0g1SixFQUFRa0ssVUFDVnZCLEVBQVEsWUFBY1QsRUFBVWxJLEVBQVFrSyxVQUV0Q2xLLEVBQVE2SixjQUNWbEIsRUFBUSxpQkFBbUJULEVBQVVsSSxFQUFRNkosZUFHMUN2VSxLQUFLbVQsU0FBUyxNQUFPblQsS0FBS3FMLEtBQU8sRUFBQXRILFVBQVVULEdBQU90RCxLQUFLa04sTUFDNURtRyxFQUFTbkUsRUFBTWxQLEtBQUtzVSxlQUd4QixPQUFVLFNBQVVoUixFQUFjb0gsRUFBZ0MsSUFDaEUsSUFBSzFLLEtBQUsyUSxVQUNSLE1BQU0sSUFBSXhILE1BQU0sd0JBQTBCN0YsRUFBTyxLQUU5Q29ILElBQ0hBLEVBQVUsSUFFWixNQUFNMkksRUFBVSxHQU1oQixPQUxJclQsS0FBS3NVLGNBQ0g1SixFQUFRa0ssVUFDVnZCLEVBQVEsWUFBY1QsRUFBVWxJLEVBQVFrSyxVQUdyQzVVLEtBQUttVCxTQUFTLFNBQVVuVCxLQUFLcUwsS0FBTyxFQUFBdEgsVUFBVVQsR0FBT3RELEtBQUtrTixNQUMvRG1HLE9BQ0FyTyxFQUFXaEYsS0FBS3NVLGdCQUt0QnhCLEVBQVdYLGtCQUFvQkEsRUFJL0JXLEVBQVdXLFFBQVUsU0FBZ0JMLEVBQWdCbkksRUFBYVAsRyx5Q0FDaEUsTUFBcUIsbUJBQVZtSyxNQUNGL0IsRUFBV2dDLGNBQWMxQixFQUFRbkksRUFBS1AsR0FDVixtQkFBbkJxSyxlQUNUakMsRUFBV2tDLFlBQVk1QixFQUFRbkksRUFBS1AsSUFFM0MsVUFBSSx1RUFDR3pELFFBQVF1RyxPQUFPLDRFQUsxQnNGLEVBQVdnQyxjQUFnQixTQUFVMUIsRUFBZ0JuSSxFQUFhUCxHQUNoRSxJQUFJdUssRUFDSixNQUFNQyxFQUFrQixHQUN4QixJQUFJQyxFQUMyQixtQkFBcEJDLGtCQUNURCxFQUFrQixJQUFJQyxpQkFFeEIsTUFBTUMsRUFBb0NSLE1BQU01SixFQUFLLENBQ25EbUksT0FBUUEsRUFDUkMsUUFBUzNJLEVBQVEySSxRQUNqQm5FLEtBQU14RSxFQUFRd0UsS0FDZG9HLE9BQVFILEVBQWtCQSxFQUFnQkcsWUFBU3RRLElBQ2xEK0gsS0FBTTRHLElBbUJQLE9BbEJBLFVBQUkscUJBQXNCQSxHQUUxQkEsRUFBU04sUUFBUWxRLFFBQVEsQ0FBQzlCLEVBQWVrVSxLQUN2Q0wsRUFBZ0JLLEVBQVdDLGVBQWlCblUsSUFHOUM0VCxFQUFlLENBQ2JRLFdBQVksRUFDWjNCLE9BQVFILEVBQVNHLE9BQ2pCNEIsV0FBWS9CLEVBQVMrQixXQUNyQi9CLGNBQVUzTyxFQUNWK08sa0JBQW9Cd0IsR0FDWEwsRUFBZ0JLLEVBQVdDLGdCQUFrQixLQUd0RDlCLGFBQWNoSixFQUFRZ0osYUFDdEJpQyxZQUFhMUssR0FFUFAsRUFBUWdKLGNBQ2QsSUFBSyxjQUNILE9BQU9DLEVBQVM1TSxjQUNsQixJQUFLLE9BQ0gsT0FBTzRNLEVBQVNyTSxPQUNsQixJQUFLLE9BQ0gsT0FBT3FNLEVBQVNpQyxPQUNsQixVQUFLNVEsRUFDTCxJQUFLLEdBQ0wsSUFBSyxPQUNILE9BQU8yTyxFQUFTa0MsT0FDbEIsUUFDRSxNQUFNLElBQUkxTSxNQUFNLHFFQUVuQjRELEtBQU0rSSxJQUNQYixFQUFhdEIsU0FBV21DLEVBQ25CcEwsRUFBUWdKLGNBQXlDLFNBQXpCaEosRUFBUWdKLGVBQ25DdUIsRUFBYWMsYUFBZUQsR0FFdkJiLElBR0hlLEVBQW9DLElBQUkvTyxRQUFRLENBQUNDLEVBQVNzRyxLQUM5RHlGLFdBQVcsS0FDVHpGLEVBQU8sV0FDSDJILEdBQ0ZBLEVBQWdCYyxTQUVqQixVQUFPMUwsa0JBR1osT0FBT3RELFFBQVFpUCxLQUFLLENBQUNiLEVBQWdCVyxLQUd2Q2xELEVBQVdrQyxZQUFjLFNBQVU1QixFQUFRbkksRUFBS1AsR0FDOUMsT0FBTyxJQUFJekQsUUFBUSxDQUFDQyxFQUFTc0csS0FFM0IsVUFBSSxlQUFnQjRGLEVBQVFuSSxHQUU1QixJQUFJa0wsR0FBVyxFQUVmLE1BQU1DLEVBQVFuRCxXQUFXLEtBQ3ZCa0QsR0FBVyxFQUNYM0ksRUFBTyxZQUNOLFVBQU9qRCxnQkFFSjhMLEVBQU0sSUFBSXRCLGVBT2hCLEdBTkFzQixFQUFJM0ksS0FBSzBGLEVBQVFuSSxHQUFLLEdBRWxCUCxFQUFRZ0osZUFDVjJDLEVBQUkzQyxhQUFlaEosRUFBUWdKLGNBR3pCaEosRUFBUTJJLFFBQ1YsSUFBSyxNQUFNMVIsS0FBTytJLEVBQVEySSxRQUN4QmdELEVBQUlDLGlCQUFpQjNVLEVBQUsrSSxFQUFRMkksUUFBUTFSLElBSTlDMFUsRUFBSUUsT0FBUyxLQUNQSixJQUdKSyxhQUFhSixHQUNibFAsRUFBUW1QLEtBR1ZBLEVBQUlJLFFBQVdwVSxJQUNUOFQsSUFHSkssYUFBYUosR0FDYjVJLEVBQU9uTCxLQUdULElBQUk2TSxFQUFPeEUsRUFBUXdFLEtBRUcsaUJBQVgsSUFBd0JpRCxFQUFrQmpELElBQVNBLGFBQWdCekssY0FDNUV5SyxFQUFPLElBQUl4SyxXQUFXd0ssSUFFeEJtSCxFQUFJSyxLQUFLeEgsTUFJYnBPLE9BQU9DLGVBQWUrUixFQUFXOVEsVUFBVyxjQUFlLENBQ3pEZixJQUFLLFdBQ0gsR0FBSWpCLEtBQUsyTSxXQUFZLENBQ25CLE1BQU1nSyxFQUFPM1csS0FBSzJNLFdBQVcvRixNQUFNLHFDQUNuQyxPQUFPK1AsRUFBT0EsRUFBSyxHQUFLLGNBUTlCN0QsRUFBV2hGLFNBQVcsU0FBVTNCLEdBQzlCNkYsRUFBa0IsRUFBQS9MLHdCQUNsQmtHLEVBQWNuQyxPQUFTLElBQUk4SSxFQUFXM0csR0FDdENuTSxLQUFLNFQsUUFBUyxHQUdoQmQsRUFBVzhELGNBQWdCLFdBQ3pCLE1BQXdCLG1CQUFWL0IsT0FBa0QsbUJBQW5CRSxnQkFHL0NqQyxFQUFXK0QsWUFBYyxXQUNuQjdFLFVBQ0s3TCxhQUFhOEwsSUFLeEIsRUFBQUYsWUFBWWUsRUFBWSxDQUFDLFlBRXpCLFVBQWVBLEksK0ZDcm9CZixNQUFxQmdFLFVBQWtCM04sTUFHckMsWUFBYTROLEdBQ1hwTSxRQUNBM0ssS0FBS1csS0FBTyxZQUNaWCxLQUFLdUMsUUFBVSxnQkFDYyxpQkFBbEJ3VSxFQUNUL1csS0FBS3VDLFNBQVd3VSxHQUVoQi9XLEtBQUt1QyxTQUFXd1UsRUFBY3hVLFFBQzlCdkMsS0FBS3dDLE1BQVF1VSxFQUFjdlUsTUFDM0J4QyxLQUFLK1csY0FBZ0JBLElBWjNCLGEsa0tDQUEsZ0JBQ0EsVUFDQSxVQUNBLE9Bc0JBLE1BQWVDLEVBQWYsY0FNVSxLQUFBQyxxQkFBc0IsRUFDdEIsS0FBQUMsbUJBQXFCLEdBbUI3QixJQUFLNVQsRUFBYzBMLEVBQWdCbUksR0FFakMsTUFBd0IsaUJBQWIsRUFFRm5YLEtBQUtvWCxTQUFTLEVBQUF0UixjQUFjeEMsSUFDaEN5SixLQUFNc0ssSUFDTCxNQUFNQyxFQUFlQyxFQUFVRixFQUFLL1QsSUFDcEMsT0FBSWtVLEVBQVdILEVBQU1ySSxHQUNabUksRUFBZ0I3VCxHQUNkZ1UsRUFDRixDQUFDckksV0FBWSxJQUFLQyxLQUFNb0ksRUFBS3BJLE1BQVFvSSxFQUFLOUMsU0FBVS9FLFlBQWE2SCxFQUFLN0gsYUFFdEUsQ0FBQ1IsV0FBWSxPQUluQmpQLEtBQUtvWCxTQUFTLENBQUM5VCxJQUNuQnlKLEtBQU1zSyxJQUNMLE1BQU1DLEVBQU9DLEVBQVVGLEVBQUsvVCxJQUM1QixHQUFJZ1UsRUFBTSxDQUNSLEdBQUksRUFBQTlULFNBQVNGLEdBQ1gsSUFBSyxNQUFNbEQsS0FBS2tYLEVBQUs5QyxTQUVmOEMsRUFBSzlDLFNBQVN2UyxlQUFlN0IsS0FBMkIsSUFBckJrWCxFQUFLOUMsU0FBU3BVLFdBQzVDa1gsRUFBSzlDLFNBQVNwVSxHQUkzQixNQUFPLENBQUM2TyxXQUFZLElBQUtDLEtBQU1vSSxFQUFLcEksTUFBUW9JLEVBQUs5QyxTQUFVL0UsWUFBYTZILEVBQUs3SCxhQUU3RSxNQUFPLENBQUNSLFdBQVksT0FNOUIsSUFBSTNMLEVBQWM0TCxFQUFXTyxHQUMzQixNQUFNMUosRUFBUSxFQUFBRCxjQUFjeEMsR0FvQzVCLE9BQU90RCxLQUFLeVgsYUFBYTFSLEdBbEN6QixTQUF1QjJSLEVBQVdDLEdBQ2hDLElBQ0UsSUFBSyxJQUFJdlgsRUFBSSxFQUFHd1gsRUFBTUYsRUFBVTVULE9BQVExRCxFQUFJd1gsRUFBS3hYLElBQUssQ0FDcEQsTUFBTXlYLEVBQVdILEVBQVV0WCxHQUMzQixJQUNJMFgsRUFEQVIsRUFBT0ssRUFBTUUsR0FRakIsR0FMS1AsSUFDSEssRUFBTUUsR0FBWVAsRUFBT1MsRUFBU0YsSUFJMUIsSUFBTnpYLEVBQ0YwWCxFQUFXUCxFQUFVRCxHQUNyQkEsRUFBS3ZOLE1BQVEsQ0FDWG1GLEtBQU1BLEVBQ05PLFlBQWFBLEVBQ2J1SSxhQUFlRixFQUFXQSxFQUFTNUksVUFBT2xLLEVBQzFDaVQsb0JBQXNCSCxFQUFXQSxFQUFTckksaUJBQWN6SyxPQUl2RCxDQUVIc1MsRUFBT1ksRUFBNkJaLEVBRG5CSSxFQUFVdFgsRUFBSSxHQUFHb0wsVUFBVXFNLEVBQVMvVCxVQUl6RCxPQUFPNlQsRUFDUCxNQUFPblIsR0FFUCxNQURBLFVBQUksa0NBQW1DbVIsRUFBT25SLEdBQ3hDQSxNQU9aLE9BQU9sRCxHQUNMLE1BQU15QyxFQUFRLEVBQUFELGNBQWN4QyxHQUU1QixPQUFPdEQsS0FBS3lYLGFBQWExUixHQUFPLFNBQVUyUixFQUFXQyxHQUNuRCxJQUFLLElBQUl2WCxFQUFJLEVBQUd3WCxFQUFNRixFQUFVNVQsT0FBUTFELEVBQUl3WCxFQUFLeFgsSUFBSyxDQUNwRCxNQUFNeVgsRUFBV0gsRUFBVXRYLEdBQ3JCa1gsRUFBT0ssRUFBTUUsR0FDbkIsSUFBSUMsRUFFSixHQUFLUixFQUtMLEdBQVUsSUFBTmxYLEVBRUYwWCxFQUFXUCxFQUFVRCxHQUNyQkEsRUFBS3ZOLE1BQVEsQ0FDWG1GLE1BQU0sRUFDTjhJLGFBQWVGLEVBQVdBLEVBQVM1SSxVQUFPbEssRUFDMUNpVCxvQkFBc0JILEVBQVdBLEVBQVNySSxpQkFBY3pLLE9BRXJELENBRUFzUyxFQUFLdk4sUUFDUnVOLEVBQUt2TixNQUFRLEVBQUFqRixVQUFVd1MsRUFBS2EsU0FFOUIsTUFBTUMsRUFBV1YsRUFBVXRYLEVBQUksR0FBR29MLFVBQVVxTSxFQUFTL1QsUUFHckQsVUFGT3dULEVBQUt2TixNQUFNeUssU0FBUzRELEdBRXZCdFgsT0FBTzRILG9CQUFvQjRPLEVBQUt2TixNQUFNeUssVUFBVTFRLE9BQVMsRUFFM0QsV0F0QkZ4QixRQUFRRCxNQUFNLG1DQUFxQ3dWLEdBMEJ2RCxPQUFPRixLQUlYLE1BQU1yVSxHQUVKLE9BQU90RCxLQUFLcVksdUJBQXVCL1UsR0FBTXlKLEtBQU1oSCxHQUN0Qy9GLEtBQUtvWCxTQUFTclIsSUFDcEJnSCxLQUFNNEssSUFDUCxJQUFLLE1BQU1FLEtBQVlGLEVBQU8sQ0FDNUIsTUFBTUwsRUFBT0ssRUFBTUUsR0FFZlAsR0FBUUEsRUFBS2EsUUFBVWIsRUFBS3ZOLE9BQzlCL0osS0FBS3NZLFlBQVksQ0FDZmhWLEtBQU1nVSxFQUFLaFUsS0FDWHNPLE9BQVEsUUFDUjJHLFVBQStCLElBQXBCakIsRUFBS3ZOLE1BQU1tRixVQUFpQmxLLEVBQVlzUyxFQUFLdk4sTUFBTW1GLEtBQzlEc0osVUFBZ0MsSUFBckJsQixFQUFLYSxPQUFPakosVUFBaUJsSyxFQUFZc1MsRUFBS2EsT0FBT2pKLE9BR3BFeUksRUFBTUUsUUFBWTdTLEVBR3BCLE9BQU9oRixLQUFLeVksU0FBU2QsS0FJakIsWUFBWTVTLEdBQ2QsVUFBTytFLGFBQWEvRSxFQUFJNk0sU0FDMUI1UixLQUFLMkosTUFBTSxTQUFVNUUsR0FJekIsY0FDTyxVQUFPK0UsYUFBYUMsT0FJekIvSixLQUFLMFksWUFBYXBCLElBRWhCLEdBQUksRUFBQTVULFdBQVc0VCxFQUFLaFUsTUFBTyxDQUN6QixNQUFNcVYsRUFBU3BCLEVBQVVELEdBQ3JCcUIsR0FDRjNZLEtBQUtzWSxZQUFZLENBQ2ZoVixLQUFNZ1UsRUFBS2hVLEtBQ1hzTyxPQUFRLFFBQ1IyRyxjQUFVdlQsRUFDVjRULG9CQUFnQjVULEVBQ2hCd1QsU0FBVUcsRUFBT3pKLEtBQ2pCMkosZUFBZ0JGLEVBQU9sSixpQkFJNUIxQyxLQUFLLEtBQ04vTSxLQUFLMkosTUFBTSx1QkFLZixPQUFPbVAsR0FDTDlZLEtBQUs4WSxZQUFjQSxFQUdyQixRQUFReEIsR0FnQk4sTUFmc0IsaUJBQVgsR0FBd0JBLEVBQUthLFNBQ3RDYixFQUFLYSxPQUFTLEdBQ2EsaUJBQWZiLEVBQVMsS0FDVSxNQUF6QkEsRUFBS2hVLEtBQUtHLFFBQVEsSUFBcUMsaUJBQWY2VCxFQUFTLE9BQ25EQSxFQUFLYSxPQUFPM0QsU0FBVzhDLEVBQUtwSSxPQUl6Qm9JLEVBQUt2TixRQUNSdU4sRUFBS3ZOLE1BQVEsSUFFZnVOLEVBQUt2TixNQUFNbUYsS0FBT29JLEVBQUtwSSxLQUN2Qm9JLEVBQUt2TixNQUFNMEYsWUFBYzZILEVBQUs3SCxjQUczQjZILEVBSUQsYUFBYXZSLEVBQWlCZ1QsR0FDcEMsT0FBTyxJQUFJOVIsUUFBUSxDQUFDQyxFQUFTc0csS0FDM0J4TixLQUFLZ1osZUFBZWpULEVBQU9nVCxFQUFlLENBQ3hDN1IsUUFBU0EsRUFDVHNHLE9BQVFBLE1BS04sZUFBZXpILEVBQU9nVCxFQUFlRSxHQUN2Q2paLEtBQUtpWCxvQkFDUGpYLEtBQUtrWCxtQkFBbUJyUyxLQUFLLENBQzNCa0IsTUFBT0EsRUFDUG1ULEdBQUlILEVBQ0pFLFFBQVNBLEtBSVhqWixLQUFLaVgscUJBQXNCLEVBRzdCalgsS0FBS29YLFNBQVNyUixHQUFPZ0gsS0FBTTRLLElBQ3pCLE1BQU13QixFQUFnQixFQUFBclUsVUFBVTZTLEdBQzFCN04sRUFBZSxHQUVyQjZOLEVBQVFvQixFQUFjaFQsRUFBTzRSLEdBRTdCLElBQUssTUFBTXJVLEtBQVFxVSxFQUFPLENBQ3hCLE1BQU1MLEVBQU9LLEVBQU1yVSxHQUNmLEVBQUFjLE1BQU1rVCxFQUFNNkIsRUFBYzdWLFdBQ3JCcVUsRUFBTXJVLEdBQ0osRUFBQUksV0FBV0osS0FFakIsRUFBQWMsTUFBTWtULEVBQUt2TixNQUFNbUYsS0FBTW9JLEVBQUt2TixNQUFNaU8sZUFDbkNWLEVBQUt2TixNQUFNMEYsY0FBZ0I2SCxFQUFLdk4sTUFBTWtPLHFCQUV0Q25PLEVBQWFqRixLQUFLLENBQ2hCdkIsS0FBTUEsRUFDTnNPLE9BQVEsU0FDUjJHLFNBQVVqQixFQUFLdk4sTUFBTWlPLGFBQ3JCUSxVQUE4QixJQUFwQmxCLEVBQUt2TixNQUFNbUYsVUFBaUJsSyxFQUFZc1MsRUFBS3ZOLE1BQU1tRixLQUM3RDBKLGVBQWdCdEIsRUFBS3ZOLE1BQU1rTyxvQkFDM0JZLGVBQWdCdkIsRUFBS3ZOLE1BQU0wRixxQkFHeEI2SCxFQUFLdk4sTUFBTWlPLG9CQUNYVixFQUFLdk4sTUFBTWtPLHFCQUl0QmpZLEtBQUt5WSxTQUFTZCxHQUFPNUssS0FBSyxLQUN4Qi9NLEtBQUtvWixrQkFBa0J0UCxHQUN2Qm1QLEVBQVEvUixRQUFRLENBQUMrSCxXQUFZLFVBRTlCbEMsS0FBSyxJQUNDOUYsUUFBUUMsVUFDYm1TLElBQ0ZKLEVBQVF6TCxPQUFPNkwsS0FDZHRNLEtBQUssS0FDTi9NLEtBQUtpWCxxQkFBc0IsRUFDM0IsTUFBTXFDLEVBQVV0WixLQUFLa1gsbUJBQW1CcUMsUUFDcENELEdBQ0Z0WixLQUFLZ1osZUFBZU0sRUFBUXZULE1BQU91VCxFQUFRSixHQUFJSSxFQUFRTCxZQUtyRCxrQkFBa0JPLEdBQ3hCLElBQUssSUFBSXBaLEVBQUksRUFBR3dYLEVBQU00QixFQUFPMVYsT0FBUTFELEVBQUl3WCxFQUFLeFgsSUFDNUNKLEtBQUtzWSxZQUFZa0IsRUFBT3BaLElBQ3BCSixLQUFLOFksYUFDUDlZLEtBQUs4WSxZQUFZVSxFQUFPcFosR0FBR2tELE1BS3pCLHVCQUF1QkEsR0FDN0IsT0FBSSxFQUFBRSxTQUFTRixHQUNKdEQsS0FBS29YLFNBQVMsQ0FBQzlULElBQU95SixLQUFNNEssSUFDakMsTUFBTThCLEVBQVcsQ0FBQ25XLEdBQ1pxVixFQUFTcEIsRUFBVUksRUFBTXJVLElBR3pCK0wsRUFEWXZPLE9BQU9zTyxLQUFLdUosRUFBT25FLFVBQ2J4USxJQUFLb1UsR0FDcEJwWSxLQUFLcVksdUJBQXVCL1UsRUFBTzhVLEdBQVVyTCxLQUFNaEgsSUFDeEQsSUFBSyxJQUFJM0YsRUFBSSxFQUFHd1gsRUFBTTdSLEVBQU1qQyxPQUFRMUQsRUFBSXdYLEVBQUt4WCxJQUMzQ3FaLEVBQVM1VSxLQUFLa0IsRUFBTTNGLE9BSTFCLE9BQU82RyxRQUFRcUksSUFBSUQsR0FBT3RDLEtBQUssSUFDdEIwTSxLQUlKeFMsUUFBUUMsUUFBUSxDQUFDNUQsSUFLNUIsZ0JBQ0UsTUFBTyxDQUNMaVUsVUFBV0EsRUFDWFEsU0FBVUEsRUFDVlAsV0FBWUEsSUFNbEIsU0FBU0QsRUFBVUQsR0FDakIsR0FBc0IsaUJBQVgsR0FBOEMsaUJBQWZBLEVBQVMsS0FHbkQsR0FBSSxFQUFBOVQsU0FBUzhULEVBQUtoVSxNQUFPLENBQ3ZCLEdBQUlnVSxFQUFLdk4sT0FBU3VOLEVBQUt2TixNQUFNeUssU0FDM0IsT0FBTzhDLEVBQUt2TixNQUVkLEdBQUl1TixFQUFLYSxRQUFVYixFQUFLYSxPQUFPM0QsU0FDN0IsT0FBTzhDLEVBQUthLFdBRVQsQ0FDTCxHQUFJYixFQUFLdk4sTUFBTyxDQUNkLEdBQUl1TixFQUFLdk4sTUFBTW1GLE1BQVFvSSxFQUFLdk4sTUFBTTBGLFlBQ2hDLE9BQU82SCxFQUFLdk4sTUFFZCxJQUF3QixJQUFwQnVOLEVBQUt2TixNQUFNbUYsS0FDYixPQUdKLEdBQUlvSSxFQUFLYSxRQUFVYixFQUFLYSxPQUFPakosTUFBUW9JLEVBQUthLE9BQU8xSSxZQUNqRCxPQUFPNkgsRUFBS2EsT0FNZCxHQUFJYixFQUFLcEksTUFBUW9JLEVBQUs3SCxZQUNwQixNQUFPLENBQ0xQLEtBQU1vSSxFQUFLcEksS0FDWE8sWUFBYTZILEVBQUs3SCxjQU0xQixTQUFTK0gsRUFBV0csRUFBZ0IzSSxHQUNsQyxJQUFLLE1BQU0xTCxLQUFRcVUsRUFBTyxDQUN4QixHQUFJQSxFQUFNclUsSUFBU3FVLEVBQU1yVSxHQUFNMEcsT0FDN0IsT0FBTyxFQUVULE1BQU0wUCxFQUFjbkMsRUFBVUksRUFBTXJVLElBQ3BDLEdBQUlvVyxHQUFlQSxFQUFZQyxZQUFjLElBQUlDLE1BQU9DLFVBQWFILEVBQVlDLFdBQWEzSyxFQUM1RixPQUFPLEVBQ0YsSUFBSzBLLEVBQ1YsT0FBTyxFQUdYLE9BQU8sRUFJVCxTQUFTM0IsRUFBU3pVLEdBQ2hCLE1BQU1nVSxFQUFlLENBQUNoVSxLQUFNQSxFQUFNNlUsT0FBUSxJQUsxQyxPQUhJLEVBQUEzVSxTQUFTRixLQUNYZ1UsRUFBS2EsT0FBTzNELFNBQVcsSUFFbEI4QyxFQUdULFNBQVNZLEVBQTZCWixFQUFjYyxHQWlCbEQsT0FoQktkLEVBQUthLFNBQ1JiLEVBQUthLE9BQVMsQ0FDWjNELFNBQVUsS0FHVDhDLEVBQUthLE9BQU8zRCxXQUNmOEMsRUFBS2EsT0FBTzNELFNBQVcsSUFFcEI4QyxFQUFLdk4sUUFDUnVOLEVBQUt2TixNQUFRLEVBQUFqRixVQUFVd1MsRUFBS2EsU0FFekJiLEVBQUt2TixNQUFNeUssV0FDZDhDLEVBQUt2TixNQUFNeUssU0FBVzhDLEVBQUthLE9BQU8zRCxVQUVwQzhDLEVBQUt2TixNQUFNeUssU0FBUzRELElBQVksRUFFekJkLEVBSVQsRUFBQXZGLFlBQVlpRixFQUFjLENBQUMsWUFFM0IsVUFBZUEsRyw4RUNwYWYsZ0JBVUUsY0FDRWhYLEtBQUs4WixRQUxQLG1CQWNBLGFBQ0UsT0FBT2haLE9BQU9zTyxLQUFLcFAsS0FBSytaLGNBQWMvVixJQUFLckMsSUFDbEMsQ0FBRWhCLEtBQU1nQixFQUFLSixLQUFNdkIsS0FBSytaLGFBQWFwWSxNQUloRCxxQkFDRSxPQUFPM0IsS0FBS2dhLE9BQU9oVyxJQUFLcUksR0FDZixHQUFHck0sS0FBS2lhLHVCQUF1QjVOLE1BQVVBLEVBQU05SyxRQUNyRDJDLEtBQUssS0FTVixNQUFPbUksRUFBb0I5SyxHQUN6QixHQUF1QixpQkFBWixJQUFnRCxJQUF4QjhLLEVBQU16SCxRQUFRLE1BQWdDLElBQWpCeUgsRUFBTXZJLE9BQ3BFLE1BQU0sSUFBSXFGLE1BQU0sOERBRWxCLElBQUs1SCxFQUFLcUYsTUFBTSxTQUNkLE1BQU0sSUFBSXVDLE1BQU0scUNBRWxCbkosS0FBS2thLGlCQUFpQjdOLEdBQ3RCck0sS0FBSytaLGFBQWExTixHQUFTOUssRUFTN0IsSUFBSzhLLEdBQ0gsT0FBT3JNLEtBQUsrWixhQUFhMU4sR0FTM0IsT0FBUUEsR0FDTixNQUFNOE4sRUFBeUIsR0FDL0IsSUFBSyxNQUFNeFosS0FBUVgsS0FBSytaLGFBQ3RCSSxFQUFTeFosR0FBUVgsS0FBSytaLGFBQWFwWixHQUVyQ1gsS0FBSzhaLGVBQ0VLLEVBQVM5TixHQUNoQixJQUFLLE1BQU0xTCxLQUFRd1osRUFDakJuYSxLQUFLb2EsTUFBTXpaLEVBQXFCd1osRUFBU3haLElBVzdDLGdCQUFpQjBMLEVBQW9COUssR0FDbkMsTUFBTThZLEVBQWFyYSxLQUFLaUIsSUFBSW9MLEdBQzVCLE9BQU9nTyxJQUF3QixNQUFUOVksR0FBK0IsT0FBZjhZLEdBVXhDLG9CQUFxQi9XLEVBQWMvQixHQUNqQyxHQUFJdkIsS0FBS3NhLGdCQUFnQixJQUFLL1ksR0FDNUIsT0FBTyxFQUdULE1BQU04SyxFQUFRck0sS0FBS3VhLGVBQWVqWCxHQUNsQyxRQUFTdEQsS0FBS3NhLGdCQUFnQmpPLEVBQU85SyxHQU12QyxRQUNFdkIsS0FBS3dhLFVBQVksR0FDakJ4YSxLQUFLK1osYUFBZSxHQU1kLGVBQWdCelcsR0FDdEIsR0FBZ0IsTUFBWkEsRUFBSyxHQUNQLE1BQU0sSUFBSTZGLE1BQU0sa0NBRWxCLE1BQU1zUixFQUFjblgsRUFBS0MsUUFBUSxZQUFhLElBQUlxRCxNQUFNLGdCQUN4RCxPQUFPNlQsRUFBY0EsRUFBWSxHQUFLLElBTWhDLGlCQUFrQkMsR0FDcEIsTUFBTzFhLEtBQUsrWixjQUE2QixNQUFiVyxFQUM5QjFhLEtBQUt3YSxVQUFZLENBQUMsS0FDUEUsS0FBWTFhLEtBQUsrWixlQUM1Qi9aLEtBQUt3YSxVQUFVM1YsS0FBSyxJQUFNNlYsRUFBVyxLQUNyQzFhLEtBQUt3YSxVQUFVM1YsS0FBSyxXQUFhNlYsRUFBVyxNQU94Qyx1QkFBd0JyTyxHQUM5QixHQUFtQixNQUFmQSxFQUFNMUwsTUFBZ0JYLEtBQUsyYSxZQUFhLENBQzFDLEdBQXlCLFlBQXJCM2EsS0FBSzJhLFlBQ1AsTUFBTyxHQUNGLEdBQUkzYSxLQUFLMmEsWUFBWS9ULE1BQU0sdUJBQ2hDLE1BQU8sT0FHWCxPQUFPeUYsRUFBTTFMLEtBUWYsZUFBZ0JpYSxHQUNkNWEsS0FBSzJhLFlBQWNDLEssa0tDaEx2QixhQUNBLFVBT0EsZ0JBT0UsY0FOQSxLQUFBQyxtQkFBK0IsR0FPN0I3YSxLQUFLOFosUUFXUCxJQUFLeFcsRUFBY3NOLEdBQ2pCLEdBQW9CLGlCQUFUdE4sRUFDVCxNQUFNLElBQUk2RixNQUFNLDJCQUVsQixJQUFLLEVBQUEzRixTQUFTRixHQUNaLE1BQU0sSUFBSTZGLE1BQU0sMkJBT2xCLElBQUt5SCxFQUFTaEssTUFBTSxzQkFDbEIsTUFBTSxJQUFJdUMsTUFBTSxnREFHbEJuSixLQUFLOGEsV0FBV3hYLEdBQVFzTixFQUVQLFFBQWJBLElBQ0U1USxLQUFLK2EsZ0JBQ1AvYSxLQUFLK2EsZ0JBQWdCelgsR0FFckJ0RCxLQUFLNmEsbUJBQW1CaFcsS0FBS3ZCLElBWW5DLE9BQVFBLEdBQ050RCxLQUFLNkYsSUFBSXZDLEVBQU0sT0FXakIsUUFBU0EsR0FDUHRELEtBQUs2RixJQUFJdkMsRUFBTSxTQVFqQixXQUFZNFYsR0FDVixVQUFJLHFDQUFzQ0EsRUFBSWxaLEtBQUs2YSxvQkFDbkQ3YSxLQUFLK2EsZ0JBQWtCN0IsRUFDdkIsSUFBSyxJQUFJOVksRUFBSSxFQUFHQSxFQUFJSixLQUFLNmEsbUJBQW1CL1csT0FBUTFELElBQ2xEOFksRUFBR2xaLEtBQUs2YSxtQkFBbUJ6YSxJQUU3QkosS0FBSzZhLG1CQUFxQixHQVU1QixVQUFXdlgsR0FDVCxZQUE4QjBCLElBQTFCaEYsS0FBSzhhLFdBQVd4WCxHQUNYdEQsS0FBSzhhLFdBQVd4WCxHQUNMLE1BQVRBLEVBQ0YsT0FFQXRELEtBQUtnYixVQUFVLEVBQUEzWCxpQkFBaUJDLElBTzNDLFFBQ0V0RCxLQUFLOGEsV0FBYSxHQVFwQixzQixrS0N4SEYsZ0JBQ0EsVUFDQSxVQUNBLE9BVU1HLEVBQVcsNkJBR1hoSixFQUFlLDRCQU1yQixJQUFJRCxFQVVKLFNBQVNrSixFQUF1QkMsR0FLOUIsTUFKNEIsTUFBeEJBLEVBQVMxWCxRQUFRLEtBQ25CMFgsRUFBV0EsRUFBUzFYLE9BQU8sRUFBRzBYLEVBQVNyWCxPQUFTLElBRzNDaUksbUJBQW1Cb1AsR0FXNUIsU0FBU0MsRUFBWTlYLEdBQ25CLE9BQU9BLEVBQUtDLFFBQVEsYUFBYyxJQVdwQyxTQUFTSSxFQUFVTCxHQUNqQixNQUFNTSxFQUFRTixFQUFLTyxNQUFNLEtBQ3pCLE1BQXdCLE1BQXBCUCxFQUFLRyxRQUFRLEdBQ1JHLEVBQU1BLEVBQU1FLE9BQU8sR0FBRyxJQUV0QkYsRUFBTUEsRUFBTUUsT0FBTyxHQVk5QixTQUFTdVgsRUFBaUIvWCxHQUN4QixPQUFPLEVBQUFTLFVBQVUsa0JBQWtCVCxLQVdyQyxTQUFTZ1ksRUFBY2pULEdBQ3JCLE9BQU9BLEVBQUk5RSxRQUFRLGlCQUFrQixNQVF2QyxNQUFNZ1ksRUFJSixZQUFZdk0sR0FGWixLQUFBd00sT0FBUyxHQUdQeGIsS0FBS2dQLE9BQVNBLEVBQ2RoUCxLQUFLd2IsT0FBUyxHQUdoQixJQUFLN1osR0FDSCxNQUFNOFMsRUFBT3pVLEtBQUt3YixPQUFPN1osR0FDbkI4WixHQUFNLElBQUk3QixNQUFPQyxVQUN2QixPQUFRcEYsR0FBUUEsRUFBS25ULEdBQU1tYSxFQUFNemIsS0FBS2dQLE9BQVd5RixFQUFLaUgsT0FBSTFXLEVBRzVELElBQUtyRCxFQUFLTixHQUNSckIsS0FBS3diLE9BQU83WixHQUFPLENBQ2pCK1osRUFBR3JhLEVBQ0hDLEdBQUcsSUFBSXNZLE1BQU9DLFlBbURwQixNQUFNOEIsRUFVSixZQUFZeFAsRUFBZUksR0FVekIsR0FmRixLQUFBb0UsV0FBWSxFQUNaLEtBQUFpRCxRQUFTLEVBS1A1VCxLQUFLMk8sVUFBVSxDQUFDLFlBQWEsa0JBRTdCM08sS0FBSytTLEdBQUs1RyxFQUNWbk0sS0FBS3VNLFNBQVdBLEVBRWhCdk0sS0FBSzRiLGFBQWUsSUFBSUwsRUFBWSxLQUVwQ3ZKLEVBQWtCLEVBQUEvTCx3QkFFZCtMLEVBQWdCLENBQ2xCLE1BQU1nQixFQUFXLEVBQUExTSx3QkFBd0IyTCxHQUNyQ2UsR0FDRmhULEtBQUtpTixVQUFVK0YsSUFnQnJCLFVBQVdBLFFBRTJCLElBQXpCQSxFQUFTdEcsY0FBK0IxTSxLQUFLME0sWUFBY3NHLEVBQVN0RyxrQkFFakQsSUFBbkJzRyxFQUFTOUYsUUFBeUJsTixLQUFLa04sTUFBUThGLEVBQVM5RixPQUVuRSxNQUFNMk8sRUFBdUIsV0FDdkI3SixHQUNGN0wsYUFBYUMsUUFBUTZMLEVBQWMvTSxLQUFLRSxVQUFVLENBQ2hEc0gsWUFBYTFNLEtBQUswTSxZQUNsQlEsTUFBT2xOLEtBQUtrTixVQUtaNE8sRUFBYyxXQUNsQjliLEtBQUsyUSxXQUFZLFNBQ1YzUSxLQUFLa04sTUFDUjhFLEdBQ0Y3TCxhQUFhRSxXQUFXNEwsSUFJeEJqUyxLQUFLa04sT0FDUGxOLEtBQUsyUSxXQUFZLEVBRWIzUSxLQUFLME0sYUFDUDFNLEtBQUsySixNQUFNLGFBQ1hrUyxFQUFxQnJTLE1BQU14SixPQUUzQkEsS0FBSytiLE9BQU9oUCxLQUFNZ1AsSUFDaEIvYixLQUFLME0sWUFBY3FQLEVBQUtDLEtBQUtDLGFBQzdCamMsS0FBSzJKLE1BQU0sYUFDWGtTLEVBQXFCclMsTUFBTXhKLFFBQzFCa2MsTUFBTSxLQUNQSixFQUFZdFMsTUFBTXhKLE1BQ2xCQSxLQUFLK1MsR0FBR3BKLE1BQU0sUUFBUyxJQUFJUixNQUFNLGtDQUlyQzJTLEVBQVl0UyxNQUFNeEosTUFPdEIsVUFDRUEsS0FBSytTLEdBQUdvSixXQUFXLGVBQ25CbmMsS0FBSytTLEdBQUdxSixVQUFVLENBQUVoUSxRQWpQUCw0Q0FpUDBCQyxNQWhQeEIsd0NBZ1AyQ0UsU0FBVXZNLEtBQUt1TSxXQVEzRSxzQkFDT3ZNLEtBQUsyUSxXQUNSM1EsS0FBSzJKLE1BQU0saUJBY2YsSUFBS3JHLEVBQU1vSCxHQUNULE9BQUksRUFBQWxILFNBQVNGLEdBQ0p0RCxLQUFLcWMsV0FBV2hCLEVBQWdCL1gsSUFFaEN0RCxLQUFLc2MsU0FBU2pCLEVBQWdCL1gsR0FBT29ILEdBa0JoRCxJQUFLcEgsRUFBTTRMLEVBQU1PLEVBQWEvRSxHQUM1QixNQUFNNlIsRUFBV2xCLEVBQWdCL1gsR0FFakMsU0FBU2taLEVBQVE3SSxHQUNmLEdBQUlBLEVBQVNHLFFBQVUsS0FBT0gsRUFBU0csT0FBUyxJQUFLLENBQ25ELE1BQU0ySSxFQUFPdlgsS0FBS0MsTUFBTXdPLEVBQVNvQyxjQUMzQjJHLEVBQW9CcEIsRUFBYW1CLEVBQUtFLE1BQzVDLE9BQU8xVixRQUFRQyxRQUFRLENBQUMrSCxXQUFZLElBQUtRLFlBQWFnTixFQUFLOVYsU0FBVStJLFNBQVVnTixJQUMxRSxPQUF3QixNQUFwQi9JLEVBQVNHLE9BQ1g3TSxRQUFRQyxRQUFRLENBQUMrSCxXQUFZLElBQUtTLFNBQVUsYUFFNUN6SSxRQUFRdUcsT0FBTywwQkFBNEJtRyxFQUFTRyxPQUFTLEtBQU9ILEVBQVNvQyxhQUFlLEtBSXZHLE9BQU8vVixLQUFLNGMsV0FBV0wsR0FBVXhQLEtBQU04UCxHQUNqQ0EsRUFDRW5TLEdBQW9DLE1BQXhCQSxFQUFRNkosWUFDZmlJLEVBQVEsQ0FBRTFJLE9BQVEsTUFFcEI5VCxLQUFLOGMsWUFBWUQsRUFBSU4sRUFBVXJOLEVBQU1PLEVBQWEvRSxHQUFTcUMsS0FBS3lQLEdBRWhFeGMsS0FBSytjLFlBQVlSLEVBQVVyTixFQUFNTyxHQUFhMUMsS0FBS3lQLElBZ0JoRSxPQUFRbFosRUFBTW9ILEdBQ1osTUFBTTZSLEVBQVdsQixFQUFnQi9YLEdBRWpDLE9BQU90RCxLQUFLNGMsV0FBV0wsR0FBVXhQLEtBQU04UCxHQUNoQ0EsRUFLRTdjLEtBQUtnZCxTQUFTSCxHQUFJOVAsS0FBTTBQLElBQzdCLElBQUlDLEVBSUosTUFIcUIsaUJBQVRELEdBQTRDLGlCQUFkQSxFQUFLRSxPQUM3Q0QsRUFBb0JwQixFQUFhbUIsRUFBS0UsT0FFcENqUyxHQUFXQSxFQUFRa0ssU0FBWWxLLEVBQVFrSyxVQUFZOEgsRUFDOUMsQ0FBQ3pOLFdBQVksSUFBS1MsU0FBVWdOLEdBRzlCMWMsS0FBS21ULFNBQVMsU0FBVThILEVBQVcsbUJBQXFCNEIsRUFBSSxJQUFJOVAsS0FBTTRHLEdBQ25ELE1BQXBCQSxFQUFTRyxRQUFzQyxNQUFwQkgsRUFBU0csT0FDL0IsQ0FBQzdFLFdBQVksS0FFYmhJLFFBQVF1RyxPQUFPLGtCQUFvQm1HLEVBQVNHLE9BQVMsS0FBT0gsRUFBU29DLGFBQWUsUUFoQnhGOU8sUUFBUUMsUUFBUSxDQUFDK0gsV0FBWSxPQThCMUMsT0FHRSxPQUFPalAsS0FBS21ULFNBQVMsTUFGVDhILHdEQUVxQixJQUFJbE8sTUFBSyxTQUFVa1EsR0FDbEQsSUFDRSxNQUFNbEIsRUFBTzdXLEtBQUtDLE1BQU04WCxFQUFLbEgsY0FDN0IsT0FBTzlPLFFBQVFDLFFBQVE2VSxHQUN2QixNQUFPdlYsR0FDUCxPQUFPUyxRQUFRdUcsT0FBT2hILE9BbUI1QixZQUFhcVcsRUFBSXZaLEVBQU00TCxFQUFNTyxFQUFhL0UsR0FDeEMsTUFBTXdTLEVBQVcsQ0FDZnZXLFNBQVU4SSxHQUVONEQsRUFBVSxDQUNkLGVBQWdCLG1DQU9sQixPQUpJM0ksR0FBV0EsRUFBUWtLLFVBQ3JCdkIsRUFBUSxZQUFjLElBQU0zSSxFQUFRa0ssUUFBVSxLQUd6QzVVLEtBQUttVCxTQUFTLE1BQU84SCxFQUFXLDBCQUE0QjRCLEVBQUssd0JBQXlCLENBQy9GM04sS0FBTWhLLEtBQUtFLFVBQVU4WCxHQUNyQjdKLFFBQVNBLElBQ1J0RyxLQUFNNEcsR0FDaUIsTUFBcEJBLEVBQVNHLE9BQ0osRUFFQTlULEtBQUttVCxTQUFTLE1BQU9RLEVBQVNJLGtCQUFrQixZQUFhLENBQ2xFN0UsS0FBTU8sRUFBWTdJLE1BQU0sc0JBQXdCMUIsS0FBS0UsVUFBVThKLEdBQVFBLEtBZ0IvRSxZQUFhNUwsRUFBTTRMLEVBQU1PLEdBQ3ZCLE9BQU96UCxLQUFLbWQsYUFBYTdaLEdBQU15SixLQUFNcVEsSUFDbkMsTUFDTUYsRUFBVyxDQUNmRyxNQUFPbkMsRUFGUXZYLEVBQVNMLElBR3hCcUQsU0FBVThJLEVBQ1Y2TixRQUFTLENBQUMsQ0FDUkMsS0FBTSxpQkFDTlYsR0FBSU8sS0FHUixPQUFPcGQsS0FBS21ULFNBQVMsT0FBUThILEVBQVcsOENBQStDLENBQ3JGL0wsS0FBTWhLLEtBQUtFLFVBQVU4WCxHQUNyQjdKLFFBQVMsQ0FDUCxlQUFnQixxQ0FFakJ0RyxLQUFNNEcsR0FDQTNULEtBQUttVCxTQUFTLE9BQVFRLEVBQVNJLGtCQUFrQixZQUFhLENBQ25FN0UsS0FBTU8sRUFBWTdJLE1BQU0sc0JBQXdCMUIsS0FBS0UsVUFBVThKLEdBQVFBLE9Ba0IvRSxTQUFVNUwsRUFBTW9ILEdBQ2QsT0FBTzFLLEtBQUs0YyxXQUFXdFosR0FBTXlKLEtBQU04UCxHQUMxQjdjLEtBQUtnZCxTQUFTSCxHQUFJOVAsS0FBTTBQLElBQzdCLElBQUlDLEVBS0osR0FKcUIsaUJBQVgsR0FBNkMsaUJBQWZELEVBQVMsT0FDL0NDLEVBQW9CcEIsRUFBYW1CLEVBQUtFLE9BR3BDalMsR0FBV0EsRUFBUTZKLGFBQWdCbUksSUFBc0JoUyxFQUFRNkosWUFDbkUsT0FBT3ROLFFBQVFDLFFBQVEsQ0FBQytILFdBQVksTUFHdEMsSUFBS3dOLEVBQUtlLFlBQWEsQ0FDckIsSUFBSWYsRUFBS2dCLGNBQWVoQixFQUFLZ0IsWUFBWSxhQU92QyxPQUFPeFcsUUFBUUMsUUFBUSxDQUFDK0gsV0FBWSxJQUFLQyxLQUFNLEdBQUlPLFlBQWFnTixFQUFLOVYsU0FBVStJLFNBQVVnTixJQUp6RkQsRUFBSzlWLFVBQVksb0JBQ2pCOFYsRUFBS2UsWUFBY2YsRUFBS2dCLFlBQVksYUFVeEMsT0FBT3pkLEtBQUttVCxTQUFTLE1BQU9zSixFQUFLZSxZQUhsQixDQUNiOUosYUFBYyxnQkFFc0MzRyxLQUFNNEcsR0FHbkQsRUFBQTdNLHVCQUF1QjZNLEVBQVNBLFNBQVUsU0FBUzVHLE1BQUssU0FBVWdKLEdBQ3ZFLElBQUk3RyxFQUFPNkcsRUFDWCxHQUFJMEcsRUFBSzlWLFNBQVNDLE1BQU0sc0JBQ3RCLElBQ0VzSSxFQUFPaEssS0FBS0MsTUFBTStKLEdBQ2xCLE1BQU0xSSxTQUdDLEVBQUFDLHdCQUF3QnNQLEVBQWMwRyxFQUFLOVYsWUFFcER1SSxFQUFPeUUsRUFBU0EsVUFHbEIsTUFBTyxDQUNMMUUsV0FBWSxJQUNaQyxLQUFNQSxFQUNOTyxZQUFhZ04sRUFBSzlWLFNBQ2xCK0ksU0FBVWdOLFVBa0J0QixXQUFZcFosR0FDVixPQUFPdEQsS0FBSzRjLFdBQVd0WixHQUFNeUosS0FBTThQLElBQ2pDLElBQUlyTixFQUFNa04sRUFBbUJsSSxFQUM3QixJQUFNcUksRUFDSixPQUFPNVYsUUFBUUMsUUFBUSxDQUFDK0gsV0FBWSxNQUd0QyxNQUFNeU8sRUFBUSxJQUFPYixFQUFLLGVBRTFCLE9BQU83YyxLQUFLbVQsU0FBUyxNQUFPOEgsRUFBVyxxQkFDMUJoWCxtQkFBbUJ5WixHQUMxQixXQUFhelosbUJBSEosc0RBSVQsbUJBQ0YsSUFDSDhJLEtBQU00RyxJQUNMLEdBQXdCLE1BQXBCQSxFQUFTRyxPQUNYLE9BQU83TSxRQUFRdUcsT0FBTyxnQ0FBa0NtRyxFQUFTRyxRQUduRSxJQUNFdEUsRUFBT3RLLEtBQUtDLE1BQU13TyxFQUFTb0MsY0FDM0IsTUFBTXZQLEdBQ04sT0FBT1MsUUFBUXVHLE9BQU8sc0NBR3hCZ0gsRUFBVyxHQUNYLElBQUssTUFBTUMsS0FBUWpGLEVBQUtrRixNQUN0QmdJLEVBQW9CcEIsRUFBYTdHLEVBQUtrSSxNQW5pQnZCLHVDQW9pQlhsSSxFQUFLOU4sVUFDUDNHLEtBQUs0YixhQUFhL1YsSUFBSXZDLEVBQU8sRUFBQVMsVUFBVTBRLEVBQUs0SSxPQUFTLElBQUs1SSxFQUFLb0ksSUFDL0RySSxFQUFTQyxFQUFLNEksTUFBUSxLQUFPLENBQzNCMUksS0FBTStILEtBR1IxYyxLQUFLNGIsYUFBYS9WLElBQUl2QyxFQUFPLEVBQUFTLFVBQVUwUSxFQUFLNEksT0FBUTVJLEVBQUtvSSxJQUN6RHJJLEVBQVNDLEVBQUs0SSxPQUFTLENBQ3JCMUksS0FBTStILEVBQ04sZUFBZ0JqSSxFQUFLOU4sU0FDckIsaUJBQWtCOE4sRUFBS2tKLFdBTTdCLE9BQU8xVyxRQUFRQyxRQUFRLENBQUMrSCxXQUFZLElBQUtDLEtBQU1zRixFQUFVL0UsWUFuakJ4QyxrQ0FtakJ1RUMsY0FBVTFLLFFBZXhHLGFBQWMxQixHQUNaLE1BQU1zYSxFQUFheEMsRUFBVzlYLEdBRTlCLE9BQU90RCxLQUFLNGMsV0FBV2dCLEdBQVk3USxLQUFNcVEsR0FDbkNBLEVBQ0tuVyxRQUFRQyxRQUFRa1csR0FFaEJwZCxLQUFLNmQsY0FBY0QsSUFlaEMsY0FBZXRhLEdBQ2IsT0FBT3RELEtBQUttZCxhQUFhN1osR0FBTXlKLEtBQU1xUSxHQUM1QnBkLEtBQUttVCxTQUFTLE9BQVE4SCxFQUFXLGtCQUFtQixDQUN6RC9MLEtBQU1oSyxLQUFLRSxVQUFVLENBQ25CaVksTUFBT25DLEVBQXNCdlgsRUFBU0wsSUFDdENxRCxTQTlsQmUscUNBK2xCZjJXLFFBQVMsQ0FBQyxDQUNSVCxHQUFJTyxNQUdSL0osUUFBUyxDQUNQLGVBQWdCLHFDQUVqQnRHLEtBQU00RyxJQUNQLE1BQU04SSxFQUFPdlgsS0FBS0MsTUFBTXdPLEVBQVNvQyxjQUNqQyxPQUFPOU8sUUFBUUMsUUFBUXVWLEVBQUtJLE9BYWxDLFdBQVl2WixHQUNWLElBQUl1WixFQUVKLE1BQWEsTUFBVHZaLEVBRUsyRCxRQUFRQyxRQUFRLFNBQ2IyVixFQUFLN2MsS0FBSzRiLGFBQWEzYSxJQUFJcUMsSUFFOUIyRCxRQUFRQyxRQUFRMlYsR0FJbEI3YyxLQUFLcWMsV0FBV2pCLEVBQVc5WCxJQUFPeUosS0FBSyxLQUM1QzhQLEVBQUs3YyxLQUFLNGIsYUFBYTNhLElBQUlxQyxHQUN0QnVaLEVBU0U1VixRQUFRQyxRQUFRMlYsR0FSRyxNQUFwQnZaLEVBQUtHLFFBQVEsR0FDUnpELEtBQUs2ZCxjQUFjdmEsR0FBTXlKLEtBQUssSUFDNUIvTSxLQUFLNGMsV0FBV3RaLElBR2xCMkQsUUFBUUMsWUFldkIsU0FBVTJWLEdBQ1IsT0FBTzdjLEtBQUttVCxTQUFTLE1BQU84SCxFQUFXLG1CQUFxQjRCLEVBQUksSUFBSTlQLE1BQUssU0FBVTRHLEdBQ2pGLE9BQXdCLE1BQXBCQSxFQUFTRyxPQUNKN00sUUFBUUMsUUFBUWhDLEtBQUtDLE1BQU13TyxFQUFTb0MsZUFFcEM5TyxRQUFRdUcsT0FBTyxpQ0FBbUNxUCxFQUFLLHlCQUEyQmxKLEVBQVNHLFdBZXhHLFNBQVVWLEVBQVFuSSxFQUFLUCxHQVNyQixPQVJNQSxFQUFRMkksVUFBVzNJLEVBQVEySSxRQUFVLElBQzNDM0ksRUFBUTJJLFFBQXVCLGNBQUksVUFBWXJULEtBQUtrTixNQUVwRGxOLEtBQUsrUyxHQUFHcEosTUFBTSxZQUFhLENBQ3pCeUosT0FBUUEsRUFDUjVQLFNBQVUsRUFBQUEsU0FBU3lILEtBR2QsVUFBV3dJLFFBQVFsVCxLQUFLUCxLQUFNb1QsRUFBUW5JLEVBQUtQLEdBQVNxQyxLQUFNc0osR0FFM0RBLEdBQXNCLE1BQWZBLEVBQUl2QyxZQUNiOVQsS0FBS21PLFdBR0FuTyxLQUFLNFQsU0FDUjVULEtBQUs0VCxRQUFTLEVBQ2Q1VCxLQUFLK1MsR0FBR3BKLE1BQU0sbUJBRWhCM0osS0FBSytTLEdBQUdwSixNQUFNLFlBQWEsQ0FDekJ5SixPQUFRQSxFQUNSNVAsU0FBVSxFQUFBQSxTQUFTeUgsR0FDbkI0SSxTQUFTLElBR0o1TSxRQUFRQyxRQUFRbVAsSUFFdkJoVSxJQUNFckMsS0FBSzRULFNBQ1A1VCxLQUFLNFQsUUFBUyxFQUNkNVQsS0FBSytTLEdBQUdwSixNQUFNLG9CQUVoQjNKLEtBQUsrUyxHQUFHcEosTUFBTSxZQUFhLENBQ3pCeUosT0FBUUEsRUFDUjVQLFNBQVUsRUFBQUEsU0FBU3lILEdBQ25CNEksU0FBUyxJQUdKNU0sUUFBUXVHLE9BQU9uTCxLQVcxQixnQkFBaUI4SixHQUNmLE1BQU12QyxFQUFTdUMsRUFBYzJSLFFBQVFDLFlBOW1CekMsSUFBeUJoTCxFQSttQmpCbkosSUFDRnVDLEVBQWM0UixZQUFjLElBQUlwQyxFQUFZeFAsRUFBZXZDLEVBQU8yQyxVQUNwQyxnQkFBMUJKLEVBQWNLLFVBQ2hCTCxFQUFjNlIsWUFBYzdSLEVBQWNuQyxPQUMxQ21DLEVBQWNuQyxPQUFTbUMsRUFBYzRSLGFBbm5CcEJoTCxFQXFuQkY1RyxHQXBuQmQ4Uiw0QkFDUGxMLEVBQUdrTCwwQkFBNEIsVUFBV2pjLFVBQVUwTyxXQUNwRCxVQUFXMU8sVUFBVTBPLFdBQWEsV0FDaEMsTUFBTSxJQUFJdkgsTUFBTSwwREE4bkJsQix1QkFDRSxPQUFPLEVBVVQsbUJBQW9CZ0QsR0E5bkJ0QixJQUEyQjRHLEVBK25CdkI1RyxFQUFjZ1EsZ0JBQVduWCxHQUNyQm1ILEVBQWM2UixjQUNoQjdSLEVBQWNuQyxPQUFTbUMsRUFBYzZSLG1CQUM5QjdSLEVBQWM2UixjQWxvQkFqTCxFQW9vQk41RyxHQW5vQlg4Uiw0QkFDUixVQUFXamMsVUFBVTBPLFdBQWFxQyxFQUFHa0wsaUNBQzlCbEwsRUFBR2tMLDRCQXNvQlosRUFBQWxNLFlBQVk0SixFQUFhLENBQUMsWUFFMUIsVUFBZUEsRyw4ZEM3eEJmLGdCQUNBLFVBQ0EsVUFDQSxXQUNBLFVBQ0EsVUFDQSxPQTBDQSxJQUFJM0osRUFDSixNQUNNQyxFQUFlLHdCQVdyQixTQUFTaU0sRUFBZ0I1YSxHQUN2QixPQUFPLEVBQUFTLFVBQVVvYSxrQkFBb0I3YSxHQUFNQyxRQUFRLE1BQU8sSUFHNUQsU0FBUzZhLEVBQWlCekssRUFBVTBLLEdBQ2xDLE9BQU8sSUFBSW5TLE9BQU8sSUFBTW1TLEVBQU9uYSxLQUFLLE9BQVMsV0FBVzJDLEtBQUs4TSxFQUFTMkssZUFHeEUsU0FBU0MsRUFBYy9PLEdBQ3JCLE9BQU9BLGFBQWdCL0ssYUFBZSxVQUFXME4sa0JBQWtCM0MsR0FNckUsTUFBTWdQLEVBaUJKLFlBQWF6TCxHQWdCWCxHQWZBL1MsS0FBSytTLEdBQUtBLEVBQ1YvUyxLQUFLMlEsV0FBWSxFQUNqQjNRLEtBQUs0VCxRQUFTLEVBQ2Q1VCxLQUFLeWUsbUJBQW9CLEVBRXpCemUsS0FBSzJPLFVBQVUsQ0FBQyxZQUFhLGtCQUU3QjNPLEtBQUt1TSxTQUFXd0csRUFBRytLLFFBQVFZLFFBQVFDLE9BQ25DM2UsS0FBSzRlLFVBQVksSUFBSSxVQUFjLE9BQ25DNWUsS0FBSzZlLGtCQUFvQixLQUN6QjdlLEtBQUs4ZSxtQkFBcUIsS0FDMUI5ZSxLQUFLK2UsVUFBWSxHQUVqQi9NLEVBQWtCLEVBQUEvTCx3QkFFZCtMLEVBQWdCLENBQ2xCLE1BQU1nQixFQUFXLEVBQUExTSx3QkFBd0IyTCxHQUNyQ2UsR0FDRmhULEtBQUtpTixVQUFVK0YsR0FFakJoVCxLQUFLK2UsVUFBWSxFQUFBelksd0JBQXdCLEdBQUcyTCxhQUEwQixHQUVwRWpTLEtBQUsyUSxXQUNQc0MsV0FBV2pULEtBQUsySixNQUFNL0gsS0FBSzVCLE1BQU8sRUFBRyxhQVF6QyxVQUVFQSxLQUFLK1MsR0FBR29KLFdBQVcsV0FDZm5jLEtBQUtrTixNQUNQOFIsRUFBT2hmLEtBQUsrUyxJQUVaL1MsS0FBSytTLEdBQUdxSixVQUFVLENBQUVoUSxRQWxGVCwyQ0FrRjRCQyxNQUFPLEdBQUlFLFNBQVV2TSxLQUFLdU0sV0FhckUsVUFBV3lHLFFBRTJCLElBQXpCQSxFQUFTdEcsY0FBK0IxTSxLQUFLME0sWUFBY3NHLEVBQVN0RyxrQkFFakQsSUFBbkJzRyxFQUFTOUYsUUFBeUJsTixLQUFLa04sTUFBUThGLEVBQVM5RixPQUVuRSxNQUFNMk8sRUFBdUIsV0FDdkI3SixHQUNGN0wsYUFBYUMsUUFBUTZMLEVBQWMvTSxLQUFLRSxVQUFVLENBQ2hEc0gsWUFBYTFNLEtBQUswTSxZQUNsQlEsTUFBT2xOLEtBQUtrTixVQUtaNE8sRUFBYyxXQUNsQjliLEtBQUsyUSxXQUFZLEVBQ2JxQixHQUNGN0wsYUFBYUUsV0FBVzRMLElBSXhCalMsS0FBS2tOLE9BQ1BsTixLQUFLMlEsV0FBWSxFQUNiM1EsS0FBSzBNLGFBQ1AxTSxLQUFLMkosTUFBTSxhQUNYa1MsRUFBcUJyUyxNQUFNeEosT0FFM0JBLEtBQUsrYixPQUFPaFAsS0FBSyxTQUFVZ1AsR0FDekIvYixLQUFLME0sWUFBY3FQLEVBQUtrRCxNQUN4QmpmLEtBQUsySixNQUFNLGFBQ1hrUyxFQUFxQnJTLE1BQU14SixPQUMzQjRCLEtBQUs1QixPQUFPa2MsTUFBTSxXQUNsQkosRUFBWXRTLE1BQU14SixNQUNsQkEsS0FBSytTLEdBQUdwSixNQUFNLFFBQVMsSUFBSVIsTUFBTSxnQ0FDakN2SCxLQUFLNUIsUUFHVDhiLEVBQVl0UyxNQUFNeEosTUFTdEIsc0JBQ09BLEtBQUsyUSxXQUNSM1EsS0FBSzJKLE1BQU0saUJBZ0JmLFdBQVlyRyxHQUNWLE1BQ000YixFQUFXbGYsS0FBSzRlLFVBRWhCTyxFQUFtQmxDLElBQ3ZCLElBQUkvTixFQUVKLEdBQW9CLE1BQWhCK04sRUFBS25KLFFBQWtDLE1BQWhCbUosRUFBS25KLE9BQzlCLE9BQU83TSxRQUFRdUcsT0FBTywrQkFBaUN5UCxFQUFLbkosUUFHOUQsSUFDRTVFLEVBQU9oSyxLQUFLQyxNQUFNOFgsRUFBS2xILGNBQ3ZCLE1BQU92UCxHQUNQLE9BQU9TLFFBQVF1RyxPQUFPaEgsR0FHeEIsR0FBb0IsTUFBaEJ5VyxFQUFLbkosT0FDUCxPQUFJc0ssRUFBZ0JsUCxFQUFNLENBQUMsT0FBUSxjQUUxQmpJLFFBQVFDLFFBQVEsSUFHbEJELFFBQVF1RyxPQUFPLElBQUlyRSxNQUFNLDBCQUE0QitGLEVBQUtvUCxnQkFHbkUsTUFBTWMsRUFBVWxRLEVBQUttUSxRQUFRM1QsT0FBTyxDQUFDMUgsRUFBS3lRLEtBQ3hDLE1BQU02SyxFQUF5QixXQUFqQjdLLEVBQUssUUFDYjJELEVBQVczRCxFQUFLOEssV0FBVzFiLE1BQU0sS0FBS1gsT0FBTyxHQUFHLElBQU1vYyxFQUFRLElBQU0sSUFPMUUsT0FOSUEsRUFDRnRiLEVBQUlvVSxHQUFZLENBQUV6RCxLQUFNdUssRUFBU2plLElBQUlxQyxFQUFLOFUsS0FFMUNwVSxFQUFJb1UsR0FBWSxDQUFFekQsS0FBTUYsRUFBSytLLEtBQzdCeGYsS0FBSzRlLFVBQVUvWSxJQUFJdkMsRUFBSzhVLEVBQVUzRCxFQUFLK0ssTUFFbEN4YixHQUNOLElBRUgsT0FBSWtMLEVBQUt1USxTQUNBQyxFQUFTeFEsRUFBS3lRLFFBQVE1UyxNQUFLLFNBQVU2UyxHQUMxQyxPQUFPOWUsT0FBTytlLE9BQU9ULEVBQVNRLE1BSTNCM1ksUUFBUUMsUUFBUWtZLElBR25CTSxFQUFZQyxJQUNoQixNQUNNaFUsRUFBUyxDQUNidUQsS0FBTSxDQUFFeVEsT0FBUUEsSUFHbEIsT0FBTzNmLEtBQUttVCxTQUFTLE9BTEQsMERBS3NCeEgsR0FBUW9CLEtBQUtvUyxJQUd6RCxPQUFPbmYsS0FBS21ULFNBQVMsT0F2RFQsaURBdURzQixDQUNoQ2pFLEtBQU0sQ0FDSjVMLEtBQU00YSxFQUFlNWEsTUFFdEJ5SixLQUFLb1MsR0FBaUJwUyxNQUFLLFNBQVVxUyxHQUN0QyxPQUFPblksUUFBUUMsUUFBUSxDQUNyQitILFdBQVksSUFDWkMsS0FBTWtRLEVBQ04zUCxZQUFhLGtDQUNiQyxTQUFVd1AsRUFBU2plLElBQUlxQyxRQWtCN0IsSUFBS0EsRUFBTW9ILEdBQ1QsSUFBTTFLLEtBQUsyUSxVQUFhLE9BQU8xSixRQUFRdUcsT0FBTyx3QkFBMEJsSyxFQUFPLEtBQy9FLE1BRU13YyxFQUFXOWYsS0FBSzRlLFVBQVUzZCxJQUFJcUMsR0FDcEMsR0FBaUIsT0FBYndjLEVBRUYsT0FBTzdZLFFBQVFDLFFBQVEsQ0FBQytILFdBQVksTUFFdEMsR0FBSXZFLEdBQVdBLEVBQVE2SixZQUFhLENBR2xDLElBQU12VSxLQUFLeWUsa0JBQ1QsT0FBT3plLEtBQUsrZixhQUFhaFQsS0FBSyxJQUNyQi9NLEtBQUtpQixJQUFJcUMsRUFBTW9ILElBSTFCLEdBQUlvVixHQUFhQSxJQUFhcFYsRUFBUTZKLFlBRXBDLE9BQU90TixRQUFRQyxRQUFRLENBQUMrSCxXQUFZLE1BS3hDLEdBQXdCLE1BQXBCM0wsRUFBS0csUUFBUSxHQUNmLE9BQU96RCxLQUFLcWMsV0FBVy9ZLEdBR3pCLE1BQU1xSSxFQUFTLENBQ2IwSCxRQUFTLENBQ1Asa0JBQW1Cbk8sS0FBS0UsVUFBVSxDQUFDOUIsS0FBTTRhLEVBQWU1YSxNQUUxRG9RLGFBQWMsZUFNaEIsT0FKSWhKLEdBQVdBLEVBQVE2SixjQUNyQjVJLEVBQU8wSCxRQUFRLGlCQUFtQjNJLEVBQVE2SixhQUdyQ3ZVLEtBQUttVCxTQUFTLE1BckNULGtEQXFDcUJ4SCxHQUFRb0IsS0FBS2tRLElBQzVDLE1BQU1uSixFQUFTbUosRUFBS25KLE9BQ3BCLElBQUkySSxFQUFNdk4sRUFBTThRLEVBQU1SLEVBQ3RCLE9BQWUsTUFBWDFMLEdBQTZCLE1BQVhBLEVBQ2I3TSxRQUFRQyxRQUFRLENBQUMrSCxXQUFZNkUsS0FFdEMySSxFQUFPUSxFQUFLbEosa0JBQWtCLHNCQUd2QixFQUFBak4sdUJBQXVCbVcsRUFBS3RKLFNBQVUsU0FBUzVHLEtBQUtnSixJQUN6RDdHLEVBQU82RyxFQUNRLE1BQVhqQyxJQUNGMkksRUFBT3ZOLEdBR1QsSUFDRXVOLEVBQU92WCxLQUFLQyxNQUFNc1gsR0FDbEIsTUFBTWpXLEdBQ04sT0FBT1MsUUFBUXVHLE9BQU9oSCxHQUd4QixHQUFlLE1BQVhzTixFQUNGLE9BQUlzSyxFQUFnQjNCLEVBQU0sQ0FBQyxPQUFRLGNBQzFCLENBQUN4TixXQUFZLEtBRWZoSSxRQUFRdUcsT0FBTyxJQUFJckUsTUFBTSxzQ0FBd0M3RixFQUFPLE9BQVNtWixFQUFLNkIsZ0JBUS9GLEdBTEEwQixFQUFPL0MsRUFBS2xKLGtCQUFrQixnQkFDOUJ5TCxFQUFNL0MsRUFBSytDLElBQ1h4ZixLQUFLNGUsVUFBVS9ZLElBQUl2QyxFQUFNa2MsR0FDekJ4ZixLQUFLaWdCLGVBQWUzYyxHQUVoQixFQUFBbUQsd0JBQXdCc1AsRUFBY2lLLEdBRXhDOVEsRUFBTytOLEVBQUt0SixjQUdaLElBQ0V6RSxFQUFPaEssS0FBS0MsTUFBTStKLEdBQ2xCOFEsRUFBTyxrQ0FDUCxNQUFNeFosSUFLVixNQUFPLENBQ0x5SSxXQUFZNkUsRUFDWjVFLEtBQU1BLEVBQ05PLFlBQWF1USxFQUNidFEsU0FBVThQLFFBc0JsQixJQUFLbGMsRUFBTTRMLEVBQU1PLEVBQWEvRSxHQUM1QixJQUFLMUssS0FBSzJRLFVBQ1IsTUFBTSxJQUFJeEgsTUFBTSx3QkFBMEI3RixFQUFPLEtBSW5ELE1BQU13YyxFQUFXOWYsS0FBSzRlLFVBQVUzZCxJQUFJcUMsR0FDcEMsR0FBSW9ILEdBQVdBLEVBQVFrSyxTQUNuQmtMLEdBQWFBLElBQWFwVixFQUFRa0ssUUFDcEMsT0FBTzNOLFFBQVFDLFFBQVEsQ0FBQytILFdBQVksSUFBS1MsU0FBVW9RLElBRXJELEdBQUlwVixHQUFvQyxNQUF4QkEsRUFBUTZKLGFBQ3BCdUwsR0FBMEIsUUFBYkEsRUFDZixPQUFPN1ksUUFBUUMsUUFBUSxDQUFDK0gsV0FBWSxJQUFLUyxTQUFVb1EsSUFPckQsSUFKTXJRLEVBQVk3SSxNQUFNLGFBQWdCMlgsRUFBYXJQLEtBQ25ETyxHQUFlLG9CQUdiUCxFQUFLcEwsT0FBUyxVQUVoQixPQUFPbUQsUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0seUNBR2xDLElBQUlsQixFQUNKLE1BQU1pWSxFQUFnQnhWLElBQVlBLEVBQVFrSyxTQUFvQyxNQUF4QmxLLEVBQVE2SixhQUN4RDRMLEVBQWUsQ0FDbkJqUixLQUFNQSxFQUNOTyxZQUFhQSxFQUNibk0sS0FBTUEsR0EwQlIsT0F0QkUyRSxFQURFaVksRUFDT2xnQixLQUFLb2dCLGFBQWE5YyxHQUFNeUosS0FBS21RLEdBQ2hDeFMsR0FBb0MsTUFBeEJBLEVBQVE2SixhQUF3QjJJLEVBRXZDalcsUUFBUUMsUUFBUSxDQUNyQitILFdBQVksSUFDWlMsU0FBVXdOLEVBQVNzQyxNQUluQjlVLEdBQVdBLEVBQVFrSyxTQUFXc0ksR0FBYUEsRUFBU3NDLE1BQVE5VSxFQUFRa0ssUUFDL0QzTixRQUFRQyxRQUFRLENBQ3JCK0gsV0FBWSxJQUNaUyxTQUFVd04sRUFBU3NDLE1BSWhCeGYsS0FBS3FnQixjQUFjRixJQUduQm5nQixLQUFLcWdCLGNBQWNGLEdBR3ZCbFksRUFBTzhFLEtBQUt1VCxJQUNqQnRnQixLQUFLaWdCLGVBQWUzYyxHQUNiZ2QsSUFpQlgsT0FBVWhkLEVBQU1vSCxHQUNkLElBQUsxSyxLQUFLMlEsVUFDUixNQUFNLElBQUl4SCxNQUFNLHdCQUEwQjdGLEVBQU8sS0FJbkQsTUFBTXdjLEVBQVc5ZixLQUFLNGUsVUFBVTNkLElBQUlxQyxHQUNwQyxPQUFJb0gsR0FBV0EsRUFBUWtLLFNBQVdrTCxHQUFhcFYsRUFBUWtLLFVBQVlrTCxFQUMxRDdZLFFBQVFDLFFBQVEsQ0FBRStILFdBQVksSUFBS1MsU0FBVW9RLElBR2xEcFYsR0FBV0EsRUFBUWtLLFFBQ2Q1VSxLQUFLb2dCLGFBQWE5YyxHQUFNeUosS0FBTW1RLEdBQy9CeFMsR0FBV0EsRUFBUWtLLFNBQVdzSSxHQUFhQSxFQUFTc0MsTUFBUTlVLEVBQVFrSyxRQUMvRDNOLFFBQVFDLFFBQVEsQ0FDckIrSCxXQUFZLElBQ1pTLFNBQVV3TixFQUFTc0MsTUFJaEJ4ZixLQUFLdWdCLGNBQWNqZCxJQUl2QnRELEtBQUt1Z0IsY0FBY2pkLEdBUTVCLGVBQWdCQSxHQUNWQSxFQUFLc0QsTUFBTSw0QkFBa0Q1QixJQUF6QmhGLEtBQUsrZSxVQUFVemIsSUFDckR0RCxLQUFLd2dCLE1BQU1sZCxHQVlmLE1BQU9BLEdBQ0wsTUFDTW9ILEVBQVUsQ0FDZHdFLEtBQU0sQ0FBQzVMLEtBQU00YSxFQUFlNWEsS0FHOUIsT0FBT3RELEtBQUttVCxTQUFTLE9BTFQsd0VBS3NCekksR0FBU3FDLEtBQU00RyxJQUMvQyxHQUF3QixNQUFwQkEsRUFBU0csUUFBc0MsTUFBcEJILEVBQVNHLE9BQ3RDLE9BQU83TSxRQUFRdUcsT0FBTyxJQUFJckUsTUFBTSwyQkFBNkJ3SyxFQUFTRyxTQUd4RSxJQUFJNUUsRUFFSixJQUNFQSxFQUFPaEssS0FBS0MsTUFBTXdPLEVBQVNvQyxjQUMzQixNQUFPdlAsR0FDUCxPQUFPUyxRQUFRdUcsT0FBTyxJQUFJckUsTUFBTSwwQkFBNEJ3SyxFQUFTb0MsZUFHdkUsT0FBd0IsTUFBcEJwQyxFQUFTRyxPQUNQc0ssRUFBZ0JsUCxFQUFNLENBQUMsK0JBQ2xCbFAsS0FBS3lnQixlQUFlbmQsR0FHdEIyRCxRQUFRdUcsT0FBTyxJQUFJckUsTUFBTSxjQUFnQitGLEVBQUtvUCxnQkFHaERyWCxRQUFRQyxRQUFRZ0ksRUFBS2pFLE9BQzNCOEIsS0FBTTJULElBQ1AxZ0IsS0FBSytlLFVBQVV6YixHQUFRb2QsRUFFbkIxTyxHQUNGN0wsYUFBYUMsUUFBUTZMLEVBQWEsVUFBVy9NLEtBQUtFLFVBQVVwRixLQUFLK2UsWUFHNUQ5WCxRQUFRQyxRQUFRd1osSUFDckJyZSxJQUNGQSxFQUFNRSxRQUFVLG9DQUFzQ2UsRUFBTyxjQUFnQmpCLEVBQU1FLFFBQzVFMEUsUUFBUXVHLE9BQU9uTCxLQVcxQixPQUdFLE9BQU9yQyxLQUFLbVQsU0FBUyxPQUZULHlEQUVzQixJQUFJcEcsTUFBSyxTQUFVNEcsR0FDbkQsSUFBSW9JLEVBQU9wSSxFQUFTb0MsYUFFcEIsSUFDRWdHLEVBQU83VyxLQUFLQyxNQUFNNFcsR0FDbEIsTUFBT3ZWLEdBQ1AsT0FBT1MsUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sK0RBQWlFNFMsSUFHbkcsT0FBTzlVLFFBQVFDLFFBQVEsQ0FDckIrWCxNQUFPbEQsRUFBS2tELFdBZWxCLFNBQVU3TCxFQUFRbkksRUFBS1AsR0FjckIsT0FiS0EsRUFBUTJJLFVBQVczSSxFQUFRMkksUUFBVSxJQUMxQzNJLEVBQVEySSxRQUF1QixjQUFJLFVBQVlyVCxLQUFLa04sTUFFeEIsaUJBQWpCeEMsRUFBUXdFLE1BQXNCcVAsRUFBYTdULEVBQVF3RSxRQUM1RHhFLEVBQVF3RSxLQUFPaEssS0FBS0UsVUFBVXNGLEVBQVF3RSxNQUN0Q3hFLEVBQVEySSxRQUFRLGdCQUFrQixtQ0FHcENyVCxLQUFLK1MsR0FBR3BKLE1BQU0sWUFBYSxDQUN6QnlKLE9BQVFBLEVBQ1I1UCxTQUFVLEVBQUFBLFNBQVN5SCxLQUdkLFVBQVd3SSxRQUFRbFQsS0FBS1AsS0FBTW9ULEVBQVFuSSxFQUFLUCxHQUFTcUMsS0FBS3NKLEdBRTFEQSxHQUFzQixNQUFmQSxFQUFJdkMsUUFDVDlULEtBQUs0VCxTQUNQNVQsS0FBSzRULFFBQVMsRUFDZDVULEtBQUsrUyxHQUFHcEosTUFBTSxvQkFFVHNKLFdBQVdqVCxLQUFLbVQsU0FBU0MsRUFBUW5JLEVBQUtQLEdBQVUsUUFFbEQxSyxLQUFLNFQsU0FDUjVULEtBQUs0VCxRQUFTLEVBQ2Q1VCxLQUFLK1MsR0FBR3BKLE1BQU0sbUJBRWhCM0osS0FBSytTLEdBQUdwSixNQUFNLFlBQWEsQ0FDekJ5SixPQUFRQSxFQUNSNVAsU0FBVSxFQUFBQSxTQUFTeUgsR0FDbkI0SSxTQUFTLElBR0o1TSxRQUFRQyxRQUFRbVAsSUFFeEJoVSxJQUNHckMsS0FBSzRULFNBQ1A1VCxLQUFLNFQsUUFBUyxFQUNkNVQsS0FBSytTLEdBQUdwSixNQUFNLG9CQUVoQjNKLEtBQUsrUyxHQUFHcEosTUFBTSxZQUFhLENBQ3pCeUosT0FBUUEsRUFDUjVQLFNBQVUsRUFBQUEsU0FBU3lILEdBQ25CNEksU0FBUyxJQUdKNU0sUUFBUXVHLE9BQU9uTCxLQVcxQixjQUFlVSxHQUdiLEdBQUkvQyxLQUFLOGUsbUJBQ1AsT0FBTzllLEtBQUs4ZSxtQkFHZCxNQUFNakssRUFBUzhLLElBQ2IsSUFDSWdCLEVBREExVixFQUFNLGlEQWNWLE1BWHNCLGlCQUFYMFUsR0FDVDFVLEdBQU8sWUFDUDBWLEVBQWMsQ0FBRWhCLFdBRWhCZ0IsRUFBYyxDQUNacmQsS0EvbUJVLGlCQWduQlZzZCxXQUFXLEVBQ1hDLGlCQUFpQixHQUlkN2dCLEtBQUttVCxTQUFTLE9BQVFsSSxFQUFLLENBQUVpRSxLQUFNeVIsSUFBZTVULEtBQUs0RyxJQUM1RCxHQUF3QixNQUFwQkEsRUFBU0csT0FFWCxPQURBOVQsS0FBSytTLEdBQUdwSixNQUFNLFFBQVMsSUFBSSxXQUNwQjFDLFFBQVFDLFFBQVFuRSxHQUd6QixHQUF3QixNQUFwQjRRLEVBQVNHLFFBQXNDLE1BQXBCSCxFQUFTRyxPQUN0QyxPQUFPN00sUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sNEJBQThCd0ssRUFBU0csU0FHekUsSUFBSWdOLEVBRUosSUFDRUEsRUFBZTViLEtBQUtDLE1BQU13TyxFQUFTb0MsY0FDbkMsTUFBT3ZQLEdBQ1AsT0FBT1MsUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sMEJBQTRCd0ssRUFBU29DLGVBR3ZFLEdBQXdCLE1BQXBCcEMsRUFBU0csT0FBZ0IsQ0FDM0IsSUFBSXNLLEVBQWdCMEMsRUFBYyxDQUFDLE9BQVEsY0FPekMsT0FBTzdaLFFBQVF1RyxPQUFPLElBQUlyRSxNQUFNLDBCQUE0QjJYLEVBQWF4QyxnQkFOekV3QyxFQUFlLENBQ2JuQixPQUFRLEtBQ1JOLFFBQVMsR0FDVEksVUFBVSxHQXlCaEIsR0FsQktFLEdBRUgzZixLQUFLNGUsVUFBVW1DLHdCQUdqQkQsRUFBYXpCLFFBQVFsYyxRQUFRNmQsSUFDM0IsTUFBTTFkLEVBQU8wZCxFQUFNekIsV0FBVzliLE9BenBCcEIsaUJBeXBCdUNLLFFBRTNCLFlBQWxCa2QsRUFBTSxTQUVSaGhCLEtBQUs0ZSxVQUFVbk8sT0FBT25OLEdBQ3RCdEQsS0FBSzRlLFVBQVVuTyxPQUFPbk4sRUFBTyxNQUNGLFNBQWxCMGQsRUFBTSxTQUNmaGhCLEtBQUs0ZSxVQUFVL1ksSUFBSXZDLEVBQU0wZCxFQUFNeEIsT0FJbkN4ZixLQUFLNmUsa0JBQW9CaUMsRUFBYW5CLE9BQ2xDbUIsRUFBYXJCLFNBQ2YsT0FBTzVLLEVBQU1pTSxFQUFhbkIsUUFFMUIzZixLQUFLNGUsVUFBVXFDLHNCQUNmamhCLEtBQUt5ZSxtQkFBb0IsSUFFMUJ2QyxNQUFNN1osR0FDTyxZQUFWQSxHQUF1QkEsYUFBaUI2ZSxjQUVuQ2phLFFBQVFDLFVBRVJELFFBQVF1RyxPQUFPbkwsS0FrQjVCLE9BYkFyQyxLQUFLOGUsbUJBQXFCakssRUFBTTdVLEtBQUs2ZSxtQkFBbUIzQyxNQUFNN1osSUFDdEMsaUJBQVosR0FBd0IsWUFBYUEsRUFDN0NBLEVBQU1FLFFBQVUsd0JBQTBCRixFQUFNRSxRQUVoREYsRUFBUSx3QkFBd0JBLElBRWxDckMsS0FBSzhlLG1CQUFxQixLQUNuQjdYLFFBQVF1RyxPQUFPbkwsS0FDckIwSyxLQUFLLEtBQ04vTSxLQUFLOGUsbUJBQXFCLEtBQ25CN1gsUUFBUUMsUUFBUW5FLEtBR2xCL0MsS0FBSzhlLG1CQVlkLGFBQWN4YixHQUNaLE1BQ01xZCxFQUFjLENBQ2xCcmQsS0FBTTRhLEVBQWU1YSxJQUd2QixPQUFPdEQsS0FBS21ULFNBQVMsT0FMVCxrREFLc0IsQ0FBRWpFLEtBQU15UixJQUFlNVQsS0FBTTRHLElBQzdELEdBQXdCLE1BQXBCQSxFQUFTRyxRQUFzQyxNQUFwQkgsRUFBU0csT0FDdEMsT0FBTzdNLFFBQVF1RyxPQUFPLElBQUlyRSxNQUFNLDJCQUE2QndLLEVBQVNHLFNBR3hFLElBQUlnTixFQUVKLElBQ0VBLEVBQWU1YixLQUFLQyxNQUFNd08sRUFBU29DLGNBQ25DLE1BQU92UCxHQUNQLE9BQU9TLFFBQVF1RyxPQUFPLElBQUlyRSxNQUFNLDBCQUE0QndLLEVBQVNvQyxlQUd2RSxPQUF3QixNQUFwQnBDLEVBQVNHLE9BQ1BzSyxFQUFnQjBDLEVBQWMsQ0FBQyxPQUFRLGNBQ2xDN1osUUFBUUMsVUFHVkQsUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sY0FBZ0IyWCxFQUFheEMsZ0JBR3hEclgsUUFBUUMsUUFBUTRaLEtBQ3RCL1QsVUFBSy9ILEVBQVkzQyxJQUNsQkEsRUFBTUUsUUFBVSxnREFBa0RlLEVBQU8sT0FBU2pCLEVBQU1FLFFBQ2pGMEUsUUFBUXVHLE9BQU9uTCxLQW9CMUIsY0FBZXNKLEdBQ2IsTUFDTTVJLEVBQU8sQ0FDWE8sS0FBTTRhLEVBQWV2UyxFQUFPckksTUFDNUIvQixLQUFNLENBQUUsT0FBUSxZQUFhNGYsWUFBUW5jLEdBQ3JDb2MsTUFBTSxHQU9SLE9BSkl6VixFQUFPaUosVUFDVDdSLEVBQUt4QixLQUFPLENBQUUsT0FBUSxTQUFVNGYsT0FBUXhWLEVBQU9pSixVQUcxQzVVLEtBQUttVCxTQUFTLE9BWFQsZ0RBV3NCLENBQ2hDakUsS0FBTXZELEVBQU91RCxLQUNibUUsUUFBUyxDQUNQLGVBQWdCLDJCQUNoQixrQkFBbUJuTyxLQUFLRSxVQUFVckMsTUFFbkNnSyxLQUFLNEcsSUFDTixHQUF3QixNQUFwQkEsRUFBU0csUUFBc0MsTUFBcEJILEVBQVNHLE9BQ3RDLE9BQU83TSxRQUFRQyxRQUFRLENBQUMrSCxXQUFZMEUsRUFBU0csU0FHL0MsSUFBSTVFLEVBQU95RSxFQUFTb0MsYUFFcEIsSUFDRTdHLEVBQU9oSyxLQUFLQyxNQUFNK0osR0FDbEIsTUFBTzFJLEdBQ1AsT0FBT1MsUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sdUJBQXlCK0YsSUFHM0QsT0FBd0IsTUFBcEJ5RSxFQUFTRyxPQUNQc0ssRUFBZ0JsUCxFQUFNLENBQUMsT0FBUSxhQUMxQmxQLEtBQUtvZ0IsYUFBYXpVLEVBQU9ySSxNQUFNeUosTUFBSyxTQUFVbVEsR0FDbkQsT0FBT2pXLFFBQVFDLFFBQVEsQ0FDckIrSCxXQUFZLElBQ1pTLFNBQVV3TixFQUFTc0MsU0FJbEJ2WSxRQUFRdUcsT0FBTyxJQUFJckUsTUFBTSxjQUFnQitGLEVBQUtvUCxpQkFHdkR0ZSxLQUFLNGUsVUFBVS9ZLElBQUk4RixFQUFPckksS0FBTTRMLEVBQUtzUSxLQUU5QnZZLFFBQVFDLFFBQVEsQ0FBRStILFdBQVkwRSxFQUFTRyxPQUFRcEUsU0FBVVIsRUFBS3NRLFNBY3pFLGNBQWVsYyxHQUNiLE1BQ01xZCxFQUFjLENBQUVyZCxLQUFNNGEsRUFBZTVhLElBRTNDLE9BQU90RCxLQUFLbVQsU0FBUyxPQUhULDRDQUdzQixDQUFFakUsS0FBTXlSLElBQWU1VCxLQUFNNEcsSUFDN0QsR0FBd0IsTUFBcEJBLEVBQVNHLFFBQXNDLE1BQXBCSCxFQUFTRyxPQUN0QyxPQUFPN00sUUFBUUMsUUFBUSxDQUFDK0gsV0FBWTBFLEVBQVNHLFNBRy9DLElBQUlnTixFQUFlbk4sRUFBU29DLGFBRTVCLElBQ0UrSyxFQUFlNWIsS0FBS0MsTUFBTTJiLEdBQzFCLE1BQU90YSxHQUNQLE9BQU9TLFFBQVF1RyxPQUFPLElBQUlyRSxNQUFNLDBCQUE0QjJYLElBRzlELE9BQXdCLE1BQXBCbk4sRUFBU0csT0FDUHNLLEVBQWdCMEMsRUFBYyxDQUFDLGNBQWUsY0FDekM3WixRQUFRQyxRQUFRLENBQUMrSCxXQUFZLE1BRS9CaEksUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sY0FBZ0IyWCxFQUFheEMsZ0JBR3hEclgsUUFBUUMsUUFBUSxDQUFDK0gsV0FBWSxRQUNuQ2xDLEtBQUs5RSxJQUNvQixNQUF0QkEsRUFBT2dILFlBQTRDLE1BQXRCaEgsRUFBT2dILGFBQ3RDalAsS0FBSzRlLFVBQVVuTyxPQUFPbk4sVUFDZnRELEtBQUsrZSxVQUFVemIsSUFFakIyRCxRQUFRQyxRQUFRZSxJQUNyQjVGLElBQ0ZBLEVBQU1FLFFBQVUsNkNBQStDZSxFQUFPLE9BQVNqQixFQUFNRSxRQUM5RTBFLFFBQVF1RyxPQUFPbkwsS0FhcEIsZUFBZ0JpQixHLHlDQUNwQixNQUNNb0gsRUFBVSxDQUNkd0UsS0FBTSxDQUNKNUwsS0FBTTRhLEVBQWU1YSxHQUNyQitkLGFBQWEsSUFJakIsT0FBT3JoQixLQUFLbVQsU0FBUyxPQVJULHNEQVFzQnpJLEdBQVNxQyxLQUFNNEcsSUFDL0MsR0FBd0IsTUFBcEJBLEVBQVNHLFFBQXNDLE1BQXBCSCxFQUFTRyxPQUN0QyxPQUFPN00sUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sNEJBQThCd0ssRUFBU0csU0FHekUsSUFBSTVFLEVBRUosSUFDRUEsRUFBT2hLLEtBQUtDLE1BQU13TyxFQUFTb0MsY0FDM0IsTUFBT3ZQLEdBQ1AsT0FBT1MsUUFBUXVHLE9BQU8sSUFBSXJFLE1BQU0sMEJBQTRCd0ssRUFBU29DLGVBR3ZFLE9BQXdCLE1BQXBCcEMsRUFBU0csT0FDSjdNLFFBQVF1RyxPQUFPLElBQUlyRSxNQUFNLGNBQWdCd0ssRUFBUzJLLGdCQUd0RHBQLEVBQUtvUyxNQUFNeGQsT0FJVG1ELFFBQVFDLFFBQVFnSSxFQUFLb1MsTUFBTSxHQUFHclcsS0FINUJoRSxRQUFRdUcsT0FBTyxJQUFJckUsTUFBTSx1QkFJakM5RyxJQUNEQSxFQUFNRSxRQUFVLG1EQUFxRGUsRUFBTyxPQUFTakIsRUFBTUUsUUFDcEYwRSxRQUFRdUcsT0FBT25MLFFBVzFCLGdCQUFpQjBRLEdBQ2ZmLEVBQWtCLEVBQUEvTCx3QkFDYjhNLEVBQUcrSyxRQUFRWSxVQUNkM0wsRUFBRzJMLFFBQVUsSUFBSUYsRUFBUXpMLElBRVIsWUFBZkEsRUFBR3ZHLFNBQ0x3UyxFQUFPak0sR0FZWCx1QkFDRSxPQUFPLEVBVVQsbUJBQW9CQSxJQXNJdEIsU0FBa0JBLElBekJsQixTQUFzQkEsR0FDaEJBLEVBQUdpTCxjQUNMakwsRUFBRy9JLE9BQVMrSSxFQUFHaUwsbUJBQ1JqTCxFQUFHaUwsY0F1Qlp1RCxDQUFheE8sR0F4R2YsU0FBb0JBLEdBQ2xCLElBQU1BLEVBQUd5TyxpQkFBb0IsT0FDN0J6TyxFQUFHME8sS0FBS0EsS0FBTzFPLEVBQUd5Tyx3QkFDWHpPLEVBQUd5TyxpQkFzR1ZFLENBQVczTyxHQTdDYixTQUEwQkEsR0FDeEIsSUFBTUEsRUFBR2tMLDBCQUE2QixPQUN0QyxVQUFXamMsVUFBVTBPLFdBQWFxQyxFQUFHa0wsaUNBQzlCbEwsRUFBR2tMLDBCQTJDVjBELENBQWlCNU8sR0FDakI2TyxFQUFnQjdPLEdBeklkOE8sQ0FBUzlPLEdBQ0xmLEdBQ0Y3TCxhQUFhRSxXQUFXNEwsR0FFMUJjLEVBQUdvSixnQkFBV25YLElBU2xCLFNBQVM4YyxFQUFTL08sS0FBT2hRLEdBQ25CZ1EsRUFBR3lPLG1CQUNQek8sRUFBR3lPLGlCQUFtQnpPLEVBQUcwTyxLQUFLQSxLQUFLN2YsS0FBS21SLEVBQUcwTyxNQUMzQzFPLEVBQUcwTyxLQUFLQSxLQUFPLFdBQ2IsT0FBT3poQixLQUFLMGUsUUFBUXFCLFdBQVdoTixLQUFPaFEsR0FDcENnSyxLQUFLZ0csRUFBR3lPLGtCQUFrQixTQUFVbkksR0FDbEN0RyxFQUFHcEosTUFBTSxRQUFTLElBQUksVUFBVTBQLElBQ2hDdEcsRUFBR3BKLE1BQU0saUJBRWIvSCxLQUFLbVIsSUFzQ1QsU0FBUzZPLEVBQWdCN08sR0FDbEJBLEVBQUdnUCx3QkFDUmhQLEVBQUdpUCxVQUFZalAsRUFBR2dQLDZCQUNYaFAsRUFBR2dQLHVCQXVEWixTQUFTL0MsRUFBT2pNLElBbkJoQixTQUFvQkEsR0FDZEEsRUFBR2lMLGNBQ1BqTCxFQUFHaUwsWUFBY2pMLEVBQUcvSSxPQUNwQitJLEVBQUcvSSxPQUFTK0ksRUFBRzJMLFNBaUJmdUQsQ0FBV2xQLEdBQ1BBLEVBQUcwTyxLQUNMSyxFQUFTL08sR0EvRWIsU0FBdUJBLEtBQU9oUSxHQUN4QmdRLEVBQUdnUCx3QkFDUGhQLEVBQUdnUCxzQkFBd0JoUCxFQUFHaVAsVUFDOUJqUCxFQUFHaVAsVUFBWSxLQUNiLElBQUlqUCxFQUFHME8sS0FLTCxNQUFNLElBQUl0WSxNQUFNLDBDQUpoQjJZLEVBQVMvTyxHQUNUQSxFQUFHZ1Asc0JBQXNCaFAsS0FBT2hRLEdBQ2hDNmUsRUFBZ0I3TyxLQTRFbEJtUCxDQUFjblAsR0FsRGxCLFNBQXlCQSxHQUNuQkEsRUFBR2tMLDRCQUNQbEwsRUFBR2tMLDBCQUE0QixVQUFXamMsVUFBVTBPLFdBQ3BELFVBQVcxTyxVQUFVME8sV0FBYSxXQUNoQyxNQUFNLElBQUl2SCxNQUFNLG1EQWdEbEJnWixDQUFlcFAsR0FjakIsRUFBQWhCLFlBQVl5TSxFQUFTLENBQUMsWUFFdEIsVUFBZUEsRyxrS0NubkNmLGlCQUNBLFVBQ0EsT0FHQSxJQUFJNEQsRUFBb0JwUSxFQU94QixJQUFJcVEsRUFBYSxHQWVqQixNQUFNQyxFQUFXLFNBQWtCNVYsR0FDakMsT0FBTyxJQUFJekYsUUFBUSxDQUFDQyxFQUFTc0csS0FFM0IsR0FBSWQsS0FBZTJWLEVBQ2pCLE9BQU9uYixFQUFRbWIsRUFBVzNWLElBUzVCLE9BTmtCLElBQUksVUFBVSxDQUM5QjZWLFVBQVUsRUFDVkMsY0FBYyxFQUNkQyxnQkFBaUIsTUFHRkMsT0FBT2hXLEdBQWEsU0FBVTJNLEVBQUsxRixHQUNsRCxHQUFJMEYsRUFDRixPQUFPN0wsRUFBTzZMLEdBQ1QsR0FBaUQsaUJBQXJDMUYsRUFBU2dQLElBQUlyQixNQUFNcFQsZUFDeUIsaUJBQTVDeUYsRUFBU2dQLElBQUlyQixNQUFNcFQsY0FBY3BLLFFBQ3hDNlAsRUFBU2dQLElBQUlyQixNQUFNcFQsY0FBY3BLLFFBQVUsRUFFckQsT0FEQSxVQUFJLG1DQUFxQzRJLEVBQWMsNkRBQThEeEgsS0FBS0UsVUFBVXVPLEVBQVNpQyxPQUN0SXBJLEVBQU8sd0JBQTBCZCxFQUFjLDhEQUd4RCxNQUFNcUcsRUFBS1ksRUFBU2dQLElBQUlyQixNQUFNcFQsY0FBYyxHQUN0QzlCLEVBQVUyRyxFQUFHbkcsV0FBVyxtREFDaEJtRyxFQUFHbkcsV0FBVyxpQkFDdEJELEVBQWFvRyxFQUFHbkcsV0FBVyx5Q0FDaEJtRyxFQUFHNkgsS0FjcEIsT0FYQXlILEVBQVczVixHQUFlLENBQ3hCckIsS0FBTTBILEVBQUcxSCxLQUNUc0IsV0FBWUEsRUFDWlAsUUFBU0EsRUFDVFEsV0FBWW1HLEVBQUduRyxZQUdib0YsSUFDRjdMLGFBekRhLDBCQXlEZ0JqQixLQUFLRSxVQUFVLENBQUV5RSxNQUFPd1ksS0FHaERuYixFQUFRbWIsRUFBVzNWLFdBS2hDNFYsRUFBU00sZUFBaUIsU0FBU3JnQixHQUNqQ3ZDLEtBQUtXLEtBQU8saUJBQ1pYLEtBQUt1QyxRQUFVQSxFQUNmdkMsS0FBS3dDLE9BQVEsSUFBSzJHLE9BQVMzRyxRQUVMUixVQUFZbEIsT0FBT1ksT0FBT3lILE1BQU1uSCxXQUN4RHNnQixFQUFTTSxlQUFlNWdCLFVBQVU2Z0IsWUFBY1AsRUFBU00sZUFFekROLEVBQVN4VSxTQUFXLFdBRWxCLEdBREFrRSxFQUFrQixFQUFBL0wsd0JBQ2QrTCxFQUNGLElBQ0UsTUFBTWdCLEVBQVc5TixLQUFLQyxNQUFNZ0IsYUE3RWIsMkJBOEVma2MsRUFBYXJQLEVBQVNuSixNQUN0QixNQUFNckQsTUFNWjhiLEVBQVMxTCxjQUFnQixXQUV2QixPQURBd0wsRUFBcUJ0aEIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLLEVBQUFrQyxjQUFlLGtCQUNsRTJmLEdBR1RFLEVBQVN6TCxZQUFjLFdBQ2pCN0UsVUFDSzdMLGFBNUZVLDJCQWlHckIsVUFBZW1jLEcsa0tDM0dmLGdCQUdBLE1BQU1RLEVBS0osY0FDRTlpQixLQUFLMk8sVUFBVSxDQUFDLGFBQWMsZUFFOUIzTyxLQUFLdUIsS0FBMEIsb0JBQWIsT0FBMkIsVUFBWSxPQUV2QyxZQUFkdkIsS0FBS3VCLE9BQ1B2QixLQUFLK2lCLDBCQUNMMVYsU0FBU3RGLGlCQUFpQi9ILEtBQUtnakIsc0JBQXVCaGpCLEtBQUtpakIsY0FBY3JoQixLQUFLNUIsT0FBTyxHQUNyRkEsS0FBS2lqQixpQkFJVCwwQkFDb0IsWUFBZGpqQixLQUFLdUIsWUFFc0IsSUFBcEI4TCxTQUFTNlYsUUFDbEJsakIsS0FBS21qQixlQUFpQixTQUN0Qm5qQixLQUFLZ2pCLHNCQUF3Qix5QkFDYSxJQUExQjNWLFNBQW9CLFdBQ3BDck4sS0FBS21qQixlQUFpQixZQUN0Qm5qQixLQUFLZ2pCLHNCQUF3Qiw0QkFDWSxJQUF6QjNWLFNBQW1CLFVBQ25Dck4sS0FBS21qQixlQUFpQixXQUN0Qm5qQixLQUFLZ2pCLHNCQUF3QiwyQkFDZ0IsSUFBN0IzVixTQUF1QixlQUN2Q3JOLEtBQUttakIsZUFBaUIsZUFDdEJuakIsS0FBS2dqQixzQkFBd0IsMkJBSWpDLGdCQUNNM1YsU0FBU3JOLEtBQUttakIsZ0JBQ2hCbmpCLEtBQUtvakIsZUFFTHBqQixLQUFLcWpCLGVBSVQsWUFDRSxNQUFxQixZQUFkcmpCLEtBQUt1QixLQUdkLFNBQ0UsTUFBcUIsU0FBZHZCLEtBQUt1QixLQUdkLGVBQ0V2QixLQUFLMkosTUFBTSxjQUdiLGVBQ0UzSixLQUFLMkosTUFBTSxjQUdiLG1CQUlBLHVCQWpFRixLQXVFQW9JLFlBQVkrUSxFQUFLLENBQUMsWUFFbEIsVUFBZUEsRyw0V0N4RWYsZ0JBQ0EsVUFDQSxPQVFBLFdBQ0EsVUFDQSxVQUNBLFdBQ0EsVUFDQSxXQUNBLFdBQ0EsV0FDQSxVQUNBLFVBQ0EsV0FHQSxVQU9NcmdCLEVBQWdCLEVBQUFJLG1CQUt0QixJQUFJbVAsRUFHSixTQUFTc1IsRUFBaUJwaUIsR0FJeEIsT0FIcUIsTUFBakJBLEVBQUUrTixZQUF3QyxNQUFqQi9OLEVBQUUrTixZQUM3QmpQLEtBQUsySixNQUFNLFFBQVMsSUFBSSxXQUVuQjFDLFFBQVFDLFFBQVFoRyxHQU16QixTQUFTcWlCLEVBQWdCQyxHQUN2QixNQUE0QixpQkFBYkEsR0FDUEEsRUFBVyxLQUNYQSxFQUFXLEtBY3JCLE1BQU1DLEVBeURKLFlBQWFDLEdBcERiLEtBQUFDLFNBQW1DLEdBS25DLEtBQUFDLFVBQWdCLEdBS2hCLEtBQUFDLGNBQXdDLENBQUVDLE9BQVEsSUFLbEQsS0FBQWhHLFFBQWtCLEdBd2NsQixLQUFBaUcsTUFBUSxVQUFTQyxhQUNqQixLQUFBQyxTQUFXLFVBQVNBLFNBQ3BCLEtBQUFDLFlBQWMsVUFBU0EsWUFDdkIsS0FBQUMsaUJBQW1CLFVBQVNBLGlCQUM1QixLQUFBQyxZQUFjLFVBQVNBLFlBQ3ZCLEtBQUFDLGFBQWUsVUFBU0EsYUFDeEIsS0FBQUMsZUFBaUIsVUFBU0EsZUFDMUIsS0FBQUMsbUJBQXFCLFVBQVNBLG1CQUM5QixLQUFBQyxjQUFnQixVQUFTQSxjQUN6QixLQUFBQyxXQUFhLFVBQVNBLFdBQ3RCLEtBQUFDLGtCQUFvQixVQUFTQSxrQkFDN0IsS0FBQUMseUJBQTJCLFVBQVNBLHlCQUNwQyxLQUFBQyxXQUFhLFVBQVNBLFdBQ3RCLEtBQUFDLFlBQWMsVUFBU0EsWUE3YUYsaUJBQVJuQixHQUFvQixFQUFBNWdCLE9BQU8sVUFBUTRnQixHQUU5QzFqQixLQUFLMk8sVUFBVSxDQUNiLFFBQVMsVUFBVyxhQUFjLFlBQWEsZUFDL0MsZ0JBQWlCLFdBQVksUUFBUyxrQkFDdEMsdUJBQXdCLGdCQUFpQixZQUN6QyxZQUFhLFlBQWEsa0JBQW1CLG1CQUcvQzNPLEtBQUs4a0IsUUFBUSxDQUNYN2pCLElBQUtqQixLQUFLK2tCLFlBQVksT0FDdEJoVixJQUFLL1AsS0FBSytrQixZQUFZLE9BQ3RCdFUsT0FBUXpRLEtBQUsra0IsWUFBWSxZQUczQi9TLEVBQWtCLEVBQUEvTCx3QkFFZCtMLElBQ0ZoUyxLQUFLOGQsUUFBVSxFQUFBeFgsd0JBQXdCLDJCQUE2QixHQUNwRXRHLEtBQUttYyxXQUFXaFcsYUFBYUksUUFBUSwwQkFBNEIsa0JBSW5FLE1BQU15ZSxFQUFTaGxCLEtBQUt5SixHQVFwQnpKLEtBQUt5SixHQUFLLFNBQVVSLEVBQW1CQyxHQUNyQyxHQUFJbEosS0FBS2lsQixXQUdQLE9BQU9oYyxHQUNMLElBQUssa0JBQ0hnSyxXQUFXL0osRUFBUyxHQUNwQixNQUNGLElBQUssUUFDQ2xKLEtBQUtnSyxRQUNQaUosV0FBVy9KLEVBQVMsR0FFdEIsTUFDRixJQUFLLFlBQ0NsSixLQUFLZ0ssUUFBVWhLLEtBQUtnSyxPQUFPMkcsV0FDN0JzQyxXQUFXL0osRUFBUyxHQUV0QixNQUNGLElBQUssZ0JBQ0NsSixLQUFLZ0ssU0FBV2hLLEtBQUtnSyxPQUFPMkcsV0FDOUJzQyxXQUFXL0osRUFBUyxHQU01QixPQUFPOGIsRUFBT3prQixLQUFLUCxLQUFNaUosRUFBV0MsSUFJdENsSixLQUFLK2pCLFFBS0wvakIsS0FBS2tsQixZQUFjLFdBQ2JsbEIsS0FBSytKLE9BQ1BrSixXQUFXalQsS0FBSytKLE1BQU1tYixZQUFZdGpCLEtBQUs1QixLQUFLK0osT0FBUSxJQUV0RG5JLEtBQUs1QixNQUVQQSxLQUFLeUosR0FBRyxRQUFTekosS0FBS2tsQixZQUFZdGpCLEtBQUs1QixPQUN2Q0EsS0FBS21sQixjQWdCUCxjQUNFLFVBQU83a0IsUUFBUTZDLFFBQVFuRCxLQUFLb2xCLFVBQVV4akIsS0FBSzVCLE9BZ0I3QyxVQUFXMEssR0FDVDFLLEtBQUs0UCxPQUFPeVYsZUFBZXJsQixLQUFLZ0ssT0FBTzJDLGlCQUNWLElBQWxCakMsRUFBUTJCLFFBQ2pCM0IsRUFBUTJCLE1BQVFyTSxLQUFLNFAsT0FBTzBWLGdCQUc5QjVhLEVBQVE0QixZQUFjN0osRUFBYzhpQixRQUFVLFVBQU9yYixtQkFBcUJzYixPQUFPLFVBQVVwYSxvQkFFM0QsSUFBckJWLEVBQVE2QixXQUNqQjdCLEVBQVE2QixTQUFXN0IsRUFBUTRCLFlBQVkxRixNQUFNLHVCQUF1QixJQUd0RSxVQUFVd1YsVUFBVXBjLEtBQU0wSyxHQU81QixZQUFhaUMsRUFBcUJMLEdBRWhDSyxFQUFhQSxHQUFjM00sS0FBS2dLLE9BQU8yQyxXQUN2Q0wsRUFBY0EsR0FBZWtaLE9BQU9uWSxTQUFTbkMsVUFFN0MsVUFBSSw4REFBZ0V5QixFQUFhLGtCQUFvQkwsR0FFckd0TSxLQUFLZ0ssT0FBT2lELFVBQVUsQ0FDcEJDLE1BQU8sVUFBVUsscUJBRW5CRixTQUFTbkMsU0FBU0csS0FBT2lCLEVBd0MzQixRQUFTSSxFQUFxQlEsR0FFNUIsR0FEQWxOLEtBQUttYyxXQUFXLGlCQUNaelAsRUFBWTlILFFBQVEsS0FBTyxFQUU3QixZQURBNUUsS0FBSzJKLE1BQU0sUUFBUyxJQUFJOFosRUFBY2IsZUFBZSx1Q0FJdkQsR0FBSW5nQixFQUFjOGlCLFFBQVMsQ0FDekIsR0FBeUMsaUJBQTlCLFVBQU9yYixtQkFFaEIsWUFEQWxLLEtBQUsySixNQUFNLFFBQVMsSUFBSThaLEVBQWNiLGVBQWUsbUVBR3ZELElBQUtuZ0IsRUFBYzhpQixRQUFRRSxhQUV6QixZQURBemxCLEtBQUsySixNQUFNLFFBQVMsSUFBSThaLEVBQWNiLGVBQWUsbUVBS3pENWlCLEtBQUtnSyxPQUFPaUQsVUFBVSxDQUNwQlAsWUFBYUEsSUFFZjFNLEtBQUsySixNQUFNLGNBRVgsTUFBTVUsRUFBbUI0SSxXQUFXLEtBQ2xDalQsS0FBSzJKLE1BQU0sUUFBUyxJQUFJOFosRUFBY2IsZUFBZSx5REFDcEQsVUFBT3ZZLGtCQUVWLFVBQVNxQyxHQUFhSyxLQUFNZ1AsSUFLMUIsR0FKQXZGLGFBQWFuTSxHQUNickssS0FBSzJKLE1BQU0sV0FDWG9TLEVBQUtyUCxZQUFjQSxFQUNuQjFNLEtBQUtnSyxPQUFPaUQsVUFBVThPLElBQ2hCL2IsS0FBS2dLLE9BQU8yRyxVQUNoQixHQUFJb0wsRUFBSzNQLFFBQ1AsUUFBcUIsSUFBVmMsRUFFVGxOLEtBQUtvYyxVQUFVLENBQUVoUSxRQUFTMlAsRUFBSzNQLGNBQzFCLElBQXFCLGlCQUFWYyxFQUtoQixNQUFNLElBQUkvRCxNQUFNLDBDQUhoQixVQUFJLG1FQUNKbkosS0FBS2dLLE9BQU9pRCxVQUFVLENBQUVDLE1BQU9BLFNBVWpDbE4sS0FBSzBsQixlQUdSLEtBQ0RsUCxhQUFhbk0sR0FDYnJLLEtBQUsySixNQUFNLFFBQVMsSUFBSThaLEVBQWNiLGVBQWUsMERBT3pELFlBQ0U1aUIsS0FBS2dLLE9BQU9pRCxVQUFVLENBQUVDLE1BQU8sT0FFVixrQkFBakJsTixLQUFLd00sUUFDUHhNLEtBQUttTyxRQUFRbk8sS0FBS2dLLE9BQU8wQyxhQUV6QjFNLEtBQUtnSyxPQUFPbUUsVUFVaEIsYUFDTW5PLEtBQUtnSyxRQUNQaEssS0FBS2dLLE9BQU9pRCxVQUFVLENBQ3BCUCxZQUFhLEtBQ2JyQixLQUFNLEtBQ05zQixXQUFZLEtBQ1pPLE1BQU8sS0FDUE4sV0FBWSxPQUdoQjVNLEtBQUs4a0IsUUFBUSxDQUNYN2pCLElBQUtqQixLQUFLK2tCLFlBQVksT0FDdEJoVixJQUFLL1AsS0FBSytrQixZQUFZLE9BQ3RCdFUsT0FBUXpRLEtBQUsra0IsWUFBWSxZQUUzQixNQUFNbGpCLEVBQUk3QixLQUFLNGpCLFVBQVU5ZixPQUN6QixJQUFJMUQsRUFBSSxFQUVSLE1BQU11bEIsRUFBVSxLQUNkdmxCLElBQ0lBLEdBQUt5QixJQUNQN0IsS0FBSytqQixRQUdML2pCLEtBQUsySixNQUFNLGtCQUlYOUgsRUFBSSxFQUNON0IsS0FBSzRqQixVQUFVemdCLFFBQVN5aUIsSUFDdEIsTUFBTUMsRUFBZ0JELEVBQVE1bEIsTUFDQSxpQkFBcEIsR0FBK0QsbUJBQXhCNmxCLEVBQWtCLEtBQ2pFQSxFQUFjOVksS0FBSzRZLEdBRW5CQSxNQUlKQSxJQVFKLFdBQVlHLEdBQ1Y5bEIsS0FBS3dNLFFBQVVzWixFQUNYOVQsSUFDRThULEVBQ0YzZixhQUFhQyxRQUFRLHdCQUF5QjBmLEdBRTlDM2YsYUFBYUUsV0FBVywwQkFpQjlCLFNBQVUvQyxFQUFjNEYsR0FDaEJsSixLQUFLNmpCLGNBQWNDLE9BQU94Z0IsS0FDOUJ0RCxLQUFLNmpCLGNBQWNDLE9BQU94Z0IsR0FBUSxJQUVwQ3RELEtBQUs2akIsY0FBY0MsT0FBT3hnQixHQUFNdUIsS0FBS3FFLEdBUXZDLFlBQ0UsVUFBT04sU0FBVSxFQVFuQixhQUNFLFVBQU9BLFNBQVUsRUFRbkIsT0FBUTdGLEdBQ04sVUFBSXlHLE1BQU1pYSxFQUFlMWdCLEdBVTNCLFdBQVkrYSxHQUNWLE1BQU1pSSxFQUFhLENBQUMsY0FBZSxXQUNuQyxHQUF1QixpQkFBWmpJLElBQXlCaGQsT0FBT3NPLEtBQUswTyxHQUFTa0ksTUFBTXBMLEdBQVFtTCxFQUFXdGEsU0FBU21QLElBRXpGLE9BREF0WSxRQUFRRCxNQUFNLG1EQUNQLEVBR1R2QixPQUFPc08sS0FBSzBPLEdBQVMzYSxRQUFReVgsSUFDM0IsTUFBTWpaLEVBQU1tYyxFQUFRbEQsR0FDcEIsR0FBS2paLEVBQUwsQ0FFQSxPQUFPaVosR0FDTCxJQUFLLFVBQ0g1YSxLQUFLOGQsUUFBaUIsUUFBSSxDQUFFYSxPQUFRaGQsUUFDUixJQUFqQjNCLEtBQUswZSxTQUNaMWUsS0FBSzBlLFFBQVFuUyxXQUFhNUssR0FDNUIsVUFBUW1NLFNBQVM5TixNQUVuQixNQUNGLElBQUssY0FDSEEsS0FBSzhkLFFBQXFCLFlBQUksQ0FBRXZSLFNBQVU1SyxRQUNWLElBQXJCM0IsS0FBSytkLGFBQ2QvZCxLQUFLK2QsWUFBWXhSLFdBQWE1SyxHQUM5QixVQUFZbU0sU0FBUzlOLE1BSTNCLE9BQU8sU0FsQllBLEtBQUs4ZCxRQUFRbEQsS0FxQjlCNUksR0FDRjdMLGFBQWFDLFFBQVEseUJBQTBCbEIsS0FBS0UsVUFBVXBGLEtBQUs4ZCxVQVd2RSxzQkFBdUIzTSxHQUNyQixHQUFtQixpQkFBUkEsSUFBcUJBLEVBQUl2SyxNQUFNLGlCQUN4QyxNQUFNLElBQUl1QyxNQUFNLDZDQUVsQixVQUFPZSxtQkFBcUJpSCxFQThCOUIsUUFBUzhVLEVBQU0vZixHQUNiLFNBQVNnZ0IsRUFBS0MsR0FDWixPQUFPLFlBQWFwakIsR0FDbEIsT0FBT29qQixFQUFLM2MsTUFBTXRELEVBQVNuRCxHQUN4QmdLLEtBQUt1VyxFQUFpQjFoQixLQUFLNUIsUUFHbENBLEtBQUtpQixJQUFNaWxCLEVBQUtELEVBQUtobEIsS0FDckJqQixLQUFLK1AsSUFBTW1XLEVBQUtELEVBQUtsVyxLQUNyQi9QLEtBQUt5USxPQUFTeVYsRUFBS0QsRUFBS3hWLFFBTzFCLFlBQWEyVixHQUNYLE1BQU8sSUFBSXJqQixLQUNULE1BQU1zakIsRUFBa0JwakIsTUFBTWpCLFVBQVVrQixNQUFNM0MsS0FBS3dDLEdBQ25ELE9BQU8sSUFBSWtFLFFBQVEsQ0FBQ0MsRUFBU3NHLEtBQzNCeE4sS0FBSzJqQixTQUFTOWUsS0FBSyxDQUNqQnVPLE9BQVFnVCxFQUNScmpCLEtBQU1zakIsRUFDTnBOLFFBQVMsQ0FDUC9SLFFBQVNBLEVBQ1RzRyxPQUFRQSxRQVdsQixrQkFDRXhOLEtBQUsyakIsU0FBU3hnQixRQUFTbWpCLElBQ3JCLElBQ0V0bUIsS0FBS3NtQixFQUFRbFQsV0FBV2tULEVBQVF2akIsTUFBTWdLLEtBQUt1WixFQUFRck4sUUFBUS9SLFFBQVNvZixFQUFRck4sUUFBUXpMLFFBQ3BGLE1BQU1oSCxHQUNOOGYsRUFBUXJOLFFBQVF6TCxPQUFPaEgsTUFHM0J4RyxLQUFLMmpCLFNBQVcsR0FXbEIsWUFBYTdoQixHQUNYQSxFQUFPMkgsR0FBRyxTQUFVekosS0FBS3VtQixlQUFlM2tCLEtBQUs1QixLQUFNLFdBT3JELGVBQWdCaUosRUFBbUJTLEdBQ2pDNUksT0FBT3NPLEtBQUtwUCxLQUFLNmpCLGNBQWM1YSxJQUFZOUYsUUFBU0csSUFDbEQsTUFBTWtqQixFQUFLbGpCLEVBQUtRLE9BQ1o0RixFQUFNcEcsS0FBS0csT0FBTyxFQUFHK2lCLEtBQVFsakIsR0FDL0J0RCxLQUFLNmpCLGNBQWM1YSxHQUFXM0YsR0FBTUgsUUFBUytGLElBQzNDLE1BQU11ZCxFQUFnQyxHQUN0QyxJQUFLLE1BQU05a0IsS0FBTytILEVBQVMrYyxFQUFHOWtCLEdBQU8rSCxFQUFNL0gsR0FDM0M4a0IsRUFBR0MsYUFBZWhkLEVBQU1wRyxLQUFLQyxRQUFRLElBQUkySSxPQUFPLElBQU01SSxHQUFPLElBQzdELElBQ0U0RixFQUFRdWQsR0FDUixNQUFNamdCLEdBQ05sRSxRQUFRRCxNQUFNLDRCQUE2Qm1FLEVBQUdBLEVBQUVoRSxPQUNoRHhDLEtBQUsySixNQUFNLFFBQVNuRCxRQW1COUIsTUFBT2xELEdBQ0wsR0FBcUIsaUJBQVgsRUFDUixLQUFNLHVEQUdSLElBQUt0RCxLQUFLNFAsT0FBT0Msb0JBQW9Cdk0sRUFBTSxLQUFNLENBQy9DLE1BQU1xakIsRUFBY3JqQixFQUFLQyxRQUFRLFdBQVksUUFDN0NqQixRQUFRd04sS0FBSyxvREFBdUQ2VyxFQUFjLHNEQUE0REEsRUFBYywrQkFFOUosT0FBTyxJQUFJLFVBQVczbUIsS0FBTXNELEdBUTlCLGtCQUNFLE9BQU8sVUFBT2tILGFBUWhCLGdCQUFpQmdaLEdBQ2YsSUFBS0QsRUFBZ0JDLEdBQ25CLE1BQU1BLEVBQVcsZ0NBRW5CLE1BQU1qTCxFQUFXLFVBQU8vTixhQUN4QixVQUFPQSxhQUFlZ1osRUFDdEJ4akIsS0FBSzJKLE1BQU0sdUJBQXdCLENBQUM0TyxTQUFVQSxFQUFVQyxTQUFVZ0wsSUFRcEUsNEJBQ0UsT0FBTyxVQUFPclosdUJBU2hCLDBCQUEyQnFaLEdBQ3pCLElBQUtELEVBQWdCQyxHQUNuQixNQUFNQSxFQUFXLGdDQUVuQixNQUFNakwsRUFBVyxVQUFPcE8sdUJBQ3hCLFVBQU9BLHVCQUF5QnFaLEVBQ2hDeGpCLEtBQUsySixNQUFNLHVCQUF3QixDQUFDNE8sU0FBVUEsRUFBVUMsU0FBVWdMLElBU3BFLHlCQUNFLE9BQU8sVUFBT2xaLGFBQWUsVUFBT0gsdUJBQXlCLFVBQU9LLGFBUXRFLG9CQUNFLE9BQU8sVUFBT0QsZUFRaEIsa0JBQW1CcWMsR0FDakIsR0FBdUIsaUJBQVpBLEVBQ1QsTUFBTUEsRUFBVSxrQ0FFbEIsVUFBT3JjLGVBQWlCcWMsRUFPMUIsWUFDTzVtQixLQUFLeWhCLE9BQVF6aEIsS0FBS3loQixLQUFLb0YsVUFFNUI3bUIsS0FBS3lKLEdBQUcsWUFBYSxLQUdmekosS0FBS3loQixPQUFTemhCLEtBQUt5aEIsS0FBS29GLFVBQ3RCN21CLEtBQUs4bUIsYUFDUHRRLGFBQWF4VyxLQUFLOG1CLFlBQ2xCOW1CLEtBQUs4bUIsZ0JBQWE5aEIsR0FFcEJoRixLQUFLOG1CLFdBQWE3VCxXQUFXalQsS0FBS3loQixLQUFLQSxLQUFLN2YsS0FBSzVCLEtBQUt5aEIsTUFBT3poQixLQUFLK21CLDZCQUl0RS9tQixLQUFLeWhCLEtBQUtBLFFBZVosWUFDRSxPQUFLLFVBQU81WCxPQUlaN0osS0FBS3loQixLQUFLb0YsU0FBVSxFQUNwQjdtQixLQUFLZ25CLGFBQWMsRUFDWmhuQixLQUFLeWhCLEtBQUtBLFNBTGZuZixRQUFRd04sS0FBSyxpREFDTjdJLFFBQVFDLFdBVW5CLFdBQ0VzUCxhQUFheFcsS0FBSzhtQixZQUNsQjltQixLQUFLOG1CLGdCQUFhOWhCLEVBRWRoRixLQUFLeWhCLEtBR1B6aEIsS0FBS3loQixLQUFLb0YsU0FBVSxFQU1wQjdtQixLQUFLZ25CLGFBQWMsRUFpQ3ZCLFVBQVdubkIsR0FDVCxNQUFNNk8sRUFBYTdPLEVBQU9jLEtBQ3BCc21CLEVBQWdCcG5CLEVBQU9xbkIsUUFhN0IsR0FYQXBtQixPQUFPQyxlQUFlZixLQUFNME8sRUFBWSxDQUN0QytDLGNBQWMsRUFDZHhRLElBQUssV0FDSCxNQUFNa21CLEVBQVdubkIsS0FBS29uQixZQUFZMVksRUFBWXVZLEdBSTlDLE9BSEFubUIsT0FBT0MsZUFBZWYsS0FBTTBPLEVBQVksQ0FDdENyTixNQUFPOGxCLElBRUZBLE1BSXNCLElBQTdCelksRUFBVzlKLFFBQVEsS0FBYSxDQUNsQyxNQUFNeWlCLEVBQWdCM1ksRUFBV25MLFFBQVEsWUFBWSxTQUFVcEIsR0FDN0QsT0FBT0EsRUFBRSxHQUFHcVQsaUJBR2QxVSxPQUFPQyxlQUFlZixLQUFNcW5CLEVBQWUsQ0FDekNwbUIsSUFBSyxXQUNILE9BQU9qQixLQUFLME8sT0FVcEIsWUFBYUEsRUFBb0J1WSxHQUMvQixHQUFJQSxFQUFlLENBS2pCLE9BSmVBLEVBQ2IsSUFBSSxVQUFXam5CLEtBQU0sSUFBTTBPLEVBQWEsS0FDeEMsSUFBSSxVQUFXMU8sS0FBTSxXQUFhME8sRUFBYSxNQUVuQzlPLFFBRWQsS0FBTSxtQkFBcUI4TyxHQXRxQnhCLEVBQUF2RCxVQUFZLFVBRVosRUFBQTJMLFVBQVksVUFDWixFQUFBd1EsYUFBZSxVQUNmLEVBQUExRSxlQUFpQixVQUFTQSxlQUMxQixFQUFBMkUsS0FBT0EsRUEycUJoQnptQixPQUFPQyxlQUFlMGlCLEVBQWN6aEIsVUFBVyxZQUFhLENBQzFEZixJQUFLLFdBQ0gsT0FBT2pCLEtBQUtnSyxPQUFPMkcsYUFTdkI3UCxPQUFPQyxlQUFlMGlCLEVBQWN6aEIsVUFBVyxTQUFVLENBQ3ZEZixJQUFLLFdBQ0gsTUFBTTJPLEVBQVMsSUFBSSxVQUluQixPQUhBOU8sT0FBT0MsZUFBZWYsS0FBTSxTQUFVLENBQ3BDcUIsTUFBT3VPLElBRUZBLEdBRVQ2QixjQUFjLElBZWhCM1EsT0FBT0MsZUFBZTBpQixFQUFjemhCLFVBQVcsVUFBVyxDQUN4RHlQLGNBQWMsRUFDZHhRLElBQUssV0FDSCxNQUFNNFAsRUFBVSxJQUFJLFVBSXBCLE9BSEEvUCxPQUFPQyxlQUFlZixLQUFNLFVBQVcsQ0FDckNxQixNQUFPd1AsSUFFRkEsS0FjWCxFQUFBa0IsWUFBWTBSLEVBQWUsQ0FBQyxZQUU1QixVQUFlQSxHLDhCQ3Q3QmY7Ozs7Ozs7QUFVQSxJQUFJK0QsRUFBUyxFQUFRLElBQ2pCQyxFQUFVLEVBQVEsSUFDbEJqaUIsRUFBVSxFQUFRLElBbUR0QixTQUFTa2lCLElBQ1AsT0FBT3JnQixFQUFPc2dCLG9CQUNWLFdBQ0EsV0FHTixTQUFTQyxFQUFjQyxFQUFNL2pCLEdBQzNCLEdBQUk0akIsSUFBZTVqQixFQUNqQixNQUFNLElBQUlna0IsV0FBVyw4QkFjdkIsT0FaSXpnQixFQUFPc2dCLHFCQUVURSxFQUFPLElBQUluakIsV0FBV1osSUFDakJpa0IsVUFBWTFnQixFQUFPckYsV0FHWCxPQUFUNmxCLElBQ0ZBLEVBQU8sSUFBSXhnQixFQUFPdkQsSUFFcEIrakIsRUFBSy9qQixPQUFTQSxHQUdUK2pCLEVBYVQsU0FBU3hnQixFQUFRMmdCLEVBQUtDLEVBQWtCbmtCLEdBQ3RDLEtBQUt1RCxFQUFPc2dCLHFCQUF5QjNuQixnQkFBZ0JxSCxHQUNuRCxPQUFPLElBQUlBLEVBQU8yZ0IsRUFBS0MsRUFBa0Jua0IsR0FJM0MsR0FBbUIsaUJBQVJra0IsRUFBa0IsQ0FDM0IsR0FBZ0MsaUJBQXJCQyxFQUNULE1BQU0sSUFBSTllLE1BQ1IscUVBR0osT0FBTytlLEVBQVlsb0IsS0FBTWdvQixHQUUzQixPQUFPMWYsRUFBS3RJLEtBQU1nb0IsRUFBS0MsRUFBa0Jua0IsR0FXM0MsU0FBU3dFLEVBQU11ZixFQUFNeG1CLEVBQU80bUIsRUFBa0Jua0IsR0FDNUMsR0FBcUIsaUJBQVZ6QyxFQUNULE1BQU0sSUFBSThtQixVQUFVLHlDQUd0QixNQUEyQixvQkFBaEIxakIsYUFBK0JwRCxhQUFpQm9ELFlBNkg3RCxTQUEwQm9qQixFQUFNTyxFQUFPQyxFQUFZdmtCLEdBR2pELEdBRkFza0IsRUFBTTFpQixXQUVGMmlCLEVBQWEsR0FBS0QsRUFBTTFpQixXQUFhMmlCLEVBQ3ZDLE1BQU0sSUFBSVAsV0FBVyw2QkFHdkIsR0FBSU0sRUFBTTFpQixXQUFhMmlCLEdBQWN2a0IsR0FBVSxHQUM3QyxNQUFNLElBQUlna0IsV0FBVyw2QkFJckJNLE9BRGlCcGpCLElBQWZxakIsUUFBdUNyakIsSUFBWGxCLEVBQ3RCLElBQUlZLFdBQVcwakIsUUFDSHBqQixJQUFYbEIsRUFDRCxJQUFJWSxXQUFXMGpCLEVBQU9DLEdBRXRCLElBQUkzakIsV0FBVzBqQixFQUFPQyxFQUFZdmtCLEdBR3hDdUQsRUFBT3NnQixxQkFFVEUsRUFBT08sR0FDRkwsVUFBWTFnQixFQUFPckYsVUFHeEI2bEIsRUFBT1MsRUFBY1QsRUFBTU8sR0FFN0IsT0FBT1AsRUF2SkVVLENBQWdCVixFQUFNeG1CLEVBQU80bUIsRUFBa0Jua0IsR0FHbkMsaUJBQVZ6QyxFQXdGYixTQUFxQndtQixFQUFNVyxFQUFReGhCLEdBQ1QsaUJBQWJBLEdBQXNDLEtBQWJBLElBQ2xDQSxFQUFXLFFBR2IsSUFBS0ssRUFBT29oQixXQUFXemhCLEdBQ3JCLE1BQU0sSUFBSW1oQixVQUFVLDhDQUd0QixJQUFJcmtCLEVBQXdDLEVBQS9CNEIsRUFBVzhpQixFQUFReGhCLEdBRzVCMGhCLEdBRkpiLEVBQU9ELEVBQWFDLEVBQU0vakIsSUFFUjZrQixNQUFNSCxFQUFReGhCLEdBRTVCMGhCLElBQVc1a0IsSUFJYitqQixFQUFPQSxFQUFLM2tCLE1BQU0sRUFBR3dsQixJQUd2QixPQUFPYixFQTVHRWUsQ0FBV2YsRUFBTXhtQixFQUFPNG1CLEdBc0puQyxTQUFxQkosRUFBTTlpQixHQUN6QixHQUFJc0MsRUFBT3doQixTQUFTOWpCLEdBQU0sQ0FDeEIsSUFBSTZTLEVBQTRCLEVBQXRCa1IsRUFBUS9qQixFQUFJakIsUUFHdEIsT0FBb0IsS0FGcEIrakIsRUFBT0QsRUFBYUMsRUFBTWpRLElBRWpCOVQsT0FDQStqQixHQUdUOWlCLEVBQUlna0IsS0FBS2xCLEVBQU0sRUFBRyxFQUFHalEsR0FDZGlRLEdBR1QsR0FBSTlpQixFQUFLLENBQ1AsR0FBNEIsb0JBQWhCTixhQUNSTSxFQUFJcUMsa0JBQWtCM0MsYUFBZ0IsV0FBWU0sRUFDcEQsTUFBMEIsaUJBQWZBLEVBQUlqQixTQSs4Q0xrbEIsRUEvOENrQ2prQixFQUFJakIsU0FnOUNyQ2tsQixFQS84Q0ZwQixFQUFhQyxFQUFNLEdBRXJCUyxFQUFjVCxFQUFNOWlCLEdBRzdCLEdBQWlCLFdBQWJBLEVBQUk2VixNQUFxQnBWLEVBQVFULEVBQUl5SyxNQUN2QyxPQUFPOFksRUFBY1QsRUFBTTlpQixFQUFJeUssTUF3OENyQyxJQUFnQndaLEVBcDhDZCxNQUFNLElBQUliLFVBQVUsc0ZBOUtiYyxDQUFXcEIsRUFBTXhtQixHQTRCMUIsU0FBUzZuQixFQUFZQyxHQUNuQixHQUFvQixpQkFBVEEsRUFDVCxNQUFNLElBQUloQixVQUFVLG9DQUNmLEdBQUlnQixFQUFPLEVBQ2hCLE1BQU0sSUFBSXJCLFdBQVcsd0NBNEJ6QixTQUFTSSxFQUFhTCxFQUFNc0IsR0FHMUIsR0FGQUQsRUFBV0MsR0FDWHRCLEVBQU9ELEVBQWFDLEVBQU1zQixFQUFPLEVBQUksRUFBb0IsRUFBaEJMLEVBQVFLLEtBQzVDOWhCLEVBQU9zZ0Isb0JBQ1YsSUFBSyxJQUFJdm5CLEVBQUksRUFBR0EsRUFBSStvQixJQUFRL29CLEVBQzFCeW5CLEVBQUt6bkIsR0FBSyxFQUdkLE9BQU95bkIsRUF3Q1QsU0FBU1MsRUFBZVQsRUFBTU8sR0FDNUIsSUFBSXRrQixFQUFTc2tCLEVBQU10a0IsT0FBUyxFQUFJLEVBQTRCLEVBQXhCZ2xCLEVBQVFWLEVBQU10a0IsUUFDbEQrakIsRUFBT0QsRUFBYUMsRUFBTS9qQixHQUMxQixJQUFLLElBQUkxRCxFQUFJLEVBQUdBLEVBQUkwRCxFQUFRMUQsR0FBSyxFQUMvQnluQixFQUFLem5CLEdBQWdCLElBQVhnb0IsRUFBTWhvQixHQUVsQixPQUFPeW5CLEVBK0RULFNBQVNpQixFQUFTaGxCLEdBR2hCLEdBQUlBLEdBQVU0akIsSUFDWixNQUFNLElBQUlJLFdBQVcsMERBQ2FKLElBQWFsakIsU0FBUyxJQUFNLFVBRWhFLE9BQWdCLEVBQVRWLEVBc0ZULFNBQVM0QixFQUFZOGlCLEVBQVF4aEIsR0FDM0IsR0FBSUssRUFBT3doQixTQUFTTCxHQUNsQixPQUFPQSxFQUFPMWtCLE9BRWhCLEdBQTJCLG9CQUFoQlcsYUFBNkQsbUJBQXZCQSxZQUFZMmtCLFNBQ3hEM2tCLFlBQVkya0IsT0FBT1osSUFBV0EsYUFBa0IvakIsYUFDbkQsT0FBTytqQixFQUFPOWlCLFdBRU0saUJBQVg4aUIsSUFDVEEsRUFBUyxHQUFLQSxHQUdoQixJQUFJNVEsRUFBTTRRLEVBQU8xa0IsT0FDakIsR0FBWSxJQUFSOFQsRUFBVyxPQUFPLEVBSXRCLElBREEsSUFBSXlSLEdBQWMsSUFFaEIsT0FBUXJpQixHQUNOLElBQUssUUFDTCxJQUFLLFNBQ0wsSUFBSyxTQUNILE9BQU80USxFQUNULElBQUssT0FDTCxJQUFLLFFBQ0wsVUFBSzVTLEVBQ0gsT0FBT3NrQixFQUFZZCxHQUFRMWtCLE9BQzdCLElBQUssT0FDTCxJQUFLLFFBQ0wsSUFBSyxVQUNMLElBQUssV0FDSCxPQUFhLEVBQU44VCxFQUNULElBQUssTUFDSCxPQUFPQSxJQUFRLEVBQ2pCLElBQUssU0FDSCxPQUFPMlIsRUFBY2YsR0FBUTFrQixPQUMvQixRQUNFLEdBQUl1bEIsRUFBYSxPQUFPQyxFQUFZZCxHQUFRMWtCLE9BQzVDa0QsR0FBWSxHQUFLQSxHQUFVd2lCLGNBQzNCSCxHQUFjLEdBTXRCLFNBQVNJLEVBQWN6aUIsRUFBVTBpQixFQUFPQyxHQUN0QyxJQUFJTixHQUFjLEVBY2xCLFNBTGNya0IsSUFBVjBrQixHQUF1QkEsRUFBUSxLQUNqQ0EsRUFBUSxHQUlOQSxFQUFRMXBCLEtBQUs4RCxPQUNmLE1BQU8sR0FPVCxTQUpZa0IsSUFBUjJrQixHQUFxQkEsRUFBTTNwQixLQUFLOEQsVUFDbEM2bEIsRUFBTTNwQixLQUFLOEQsUUFHVDZsQixHQUFPLEVBQ1QsTUFBTyxHQU9ULElBSEFBLEtBQVMsS0FDVEQsS0FBVyxHQUdULE1BQU8sR0FLVCxJQUZLMWlCLElBQVVBLEVBQVcsVUFHeEIsT0FBUUEsR0FDTixJQUFLLE1BQ0gsT0FBTzRpQixFQUFTNXBCLEtBQU0wcEIsRUFBT0MsR0FFL0IsSUFBSyxPQUNMLElBQUssUUFDSCxPQUFPRSxFQUFVN3BCLEtBQU0wcEIsRUFBT0MsR0FFaEMsSUFBSyxRQUNILE9BQU9HLEVBQVc5cEIsS0FBTTBwQixFQUFPQyxHQUVqQyxJQUFLLFNBQ0wsSUFBSyxTQUNILE9BQU9JLEVBQVkvcEIsS0FBTTBwQixFQUFPQyxHQUVsQyxJQUFLLFNBQ0gsT0FBT0ssRUFBWWhxQixLQUFNMHBCLEVBQU9DLEdBRWxDLElBQUssT0FDTCxJQUFLLFFBQ0wsSUFBSyxVQUNMLElBQUssV0FDSCxPQUFPTSxFQUFhanFCLEtBQU0wcEIsRUFBT0MsR0FFbkMsUUFDRSxHQUFJTixFQUFhLE1BQU0sSUFBSWxCLFVBQVUscUJBQXVCbmhCLEdBQzVEQSxHQUFZQSxFQUFXLElBQUl3aUIsY0FDM0JILEdBQWMsR0FTdEIsU0FBU2EsRUFBTTVsQixFQUFHekMsRUFBR3JCLEdBQ25CLElBQUlKLEVBQUlrRSxFQUFFekMsR0FDVnlDLEVBQUV6QyxHQUFLeUMsRUFBRTlELEdBQ1Q4RCxFQUFFOUQsR0FBS0osRUFtSVQsU0FBUytwQixFQUFzQi9pQixFQUFRNGhCLEVBQUtYLEVBQVlyaEIsRUFBVW9qQixHQUVoRSxHQUFzQixJQUFsQmhqQixFQUFPdEQsT0FBYyxPQUFRLEVBbUJqQyxHQWhCMEIsaUJBQWZ1a0IsR0FDVHJoQixFQUFXcWhCLEVBQ1hBLEVBQWEsR0FDSkEsRUFBYSxXQUN0QkEsRUFBYSxXQUNKQSxHQUFjLGFBQ3ZCQSxHQUFjLFlBRWhCQSxHQUFjQSxFQUNWZ0MsTUFBTWhDLEtBRVJBLEVBQWErQixFQUFNLEVBQUtoakIsRUFBT3RELE9BQVMsR0FJdEN1a0IsRUFBYSxJQUFHQSxFQUFhamhCLEVBQU90RCxPQUFTdWtCLEdBQzdDQSxHQUFjamhCLEVBQU90RCxPQUFRLENBQy9CLEdBQUlzbUIsRUFBSyxPQUFRLEVBQ1ovQixFQUFhamhCLEVBQU90RCxPQUFTLE9BQzdCLEdBQUl1a0IsRUFBYSxFQUFHLENBQ3pCLElBQUkrQixFQUNDLE9BQVEsRUFESi9CLEVBQWEsRUFVeEIsR0FMbUIsaUJBQVJXLElBQ1RBLEVBQU0zaEIsRUFBT2lCLEtBQUswZ0IsRUFBS2hpQixJQUlyQkssRUFBT3doQixTQUFTRyxHQUVsQixPQUFtQixJQUFmQSxFQUFJbGxCLFFBQ0UsRUFFSHdtQixFQUFhbGpCLEVBQVE0aEIsRUFBS1gsRUFBWXJoQixFQUFVb2pCLEdBQ2xELEdBQW1CLGlCQUFScEIsRUFFaEIsT0FEQUEsR0FBWSxJQUNSM2hCLEVBQU9zZ0IscUJBQ2lDLG1CQUFqQ2pqQixXQUFXMUMsVUFBVTRDLFFBQzFCd2xCLEVBQ0sxbEIsV0FBVzFDLFVBQVU0QyxRQUFRckUsS0FBSzZHLEVBQVE0aEIsRUFBS1gsR0FFL0MzakIsV0FBVzFDLFVBQVV1b0IsWUFBWWhxQixLQUFLNkcsRUFBUTRoQixFQUFLWCxHQUd2RGlDLEVBQWFsakIsRUFBUSxDQUFFNGhCLEdBQU9YLEVBQVlyaEIsRUFBVW9qQixHQUc3RCxNQUFNLElBQUlqQyxVQUFVLHdDQUd0QixTQUFTbUMsRUFBY0UsRUFBS3hCLEVBQUtYLEVBQVlyaEIsRUFBVW9qQixHQUNyRCxJQTBCSWhxQixFQTFCQXFxQixFQUFZLEVBQ1pDLEVBQVlGLEVBQUkxbUIsT0FDaEI2bUIsRUFBWTNCLEVBQUlsbEIsT0FFcEIsUUFBaUJrQixJQUFiZ0MsSUFFZSxVQURqQkEsRUFBV3dlLE9BQU94ZSxHQUFVd2lCLGdCQUNZLFVBQWJ4aUIsR0FDVixZQUFiQSxHQUF1QyxhQUFiQSxHQUF5QixDQUNyRCxHQUFJd2pCLEVBQUkxbUIsT0FBUyxHQUFLa2xCLEVBQUlsbEIsT0FBUyxFQUNqQyxPQUFRLEVBRVYybUIsRUFBWSxFQUNaQyxHQUFhLEVBQ2JDLEdBQWEsRUFDYnRDLEdBQWMsRUFJbEIsU0FBU3VDLEVBQU1DLEVBQUt6cUIsR0FDbEIsT0FBa0IsSUFBZHFxQixFQUNLSSxFQUFJenFCLEdBRUp5cUIsRUFBSUMsYUFBYTFxQixFQUFJcXFCLEdBS2hDLEdBQUlMLEVBQUssQ0FDUCxJQUFJVyxHQUFjLEVBQ2xCLElBQUszcUIsRUFBSWlvQixFQUFZam9CLEVBQUlzcUIsRUFBV3RxQixJQUNsQyxHQUFJd3FCLEVBQUtKLEVBQUtwcUIsS0FBT3dxQixFQUFLNUIsR0FBcUIsSUFBaEIrQixFQUFvQixFQUFJM3FCLEVBQUkycUIsSUFFekQsSUFEb0IsSUFBaEJBLElBQW1CQSxFQUFhM3FCLEdBQ2hDQSxFQUFJMnFCLEVBQWEsSUFBTUosRUFBVyxPQUFPSSxFQUFhTixPQUV0QyxJQUFoQk0sSUFBbUIzcUIsR0FBS0EsRUFBSTJxQixHQUNoQ0EsR0FBYyxPQUtsQixJQURJMUMsRUFBYXNDLEVBQVlELElBQVdyQyxFQUFhcUMsRUFBWUMsR0FDNUR2cUIsRUFBSWlvQixFQUFZam9CLEdBQUssRUFBR0EsSUFBSyxDQUVoQyxJQURBLElBQUk0cUIsR0FBUSxFQUNIQyxFQUFJLEVBQUdBLEVBQUlOLEVBQVdNLElBQzdCLEdBQUlMLEVBQUtKLEVBQUtwcUIsRUFBSTZxQixLQUFPTCxFQUFLNUIsRUFBS2lDLEdBQUksQ0FDckNELEdBQVEsRUFDUixNQUdKLEdBQUlBLEVBQU8sT0FBTzVxQixFQUl0QixPQUFRLEVBZVYsU0FBUzhxQixFQUFVTCxFQUFLckMsRUFBUTJDLEVBQVFybkIsR0FDdENxbkIsRUFBU0MsT0FBT0QsSUFBVyxFQUMzQixJQUFJRSxFQUFZUixFQUFJL21CLE9BQVNxbkIsRUFDeEJybkIsR0FHSEEsRUFBU3NuQixPQUFPdG5CLElBQ0h1bkIsSUFDWHZuQixFQUFTdW5CLEdBSlh2bkIsRUFBU3VuQixFQVNYLElBQUlDLEVBQVM5QyxFQUFPMWtCLE9BQ3BCLEdBQUl3bkIsRUFBUyxHQUFNLEVBQUcsTUFBTSxJQUFJbkQsVUFBVSxzQkFFdENya0IsRUFBU3duQixFQUFTLElBQ3BCeG5CLEVBQVN3bkIsRUFBUyxHQUVwQixJQUFLLElBQUlsckIsRUFBSSxFQUFHQSxFQUFJMEQsSUFBVTFELEVBQUcsQ0FDL0IsSUFBSW1yQixFQUFTQyxTQUFTaEQsRUFBTy9rQixPQUFXLEVBQUpyRCxFQUFPLEdBQUksSUFDL0MsR0FBSWlxQixNQUFNa0IsR0FBUyxPQUFPbnJCLEVBQzFCeXFCLEVBQUlNLEVBQVMvcUIsR0FBS21yQixFQUVwQixPQUFPbnJCLEVBR1QsU0FBU3FyQixFQUFXWixFQUFLckMsRUFBUTJDLEVBQVFybkIsR0FDdkMsT0FBTzRuQixFQUFXcEMsRUFBWWQsRUFBUXFDLEVBQUkvbUIsT0FBU3FuQixHQUFTTixFQUFLTSxFQUFRcm5CLEdBRzNFLFNBQVM2bkIsRUFBWWQsRUFBS3JDLEVBQVEyQyxFQUFRcm5CLEdBQ3hDLE9BQU80bkIsRUFxNkJULFNBQXVCcmpCLEdBRXJCLElBREEsSUFBSXVqQixFQUFZLEdBQ1B4ckIsRUFBSSxFQUFHQSxFQUFJaUksRUFBSXZFLFNBQVUxRCxFQUVoQ3dyQixFQUFVL21CLEtBQXlCLElBQXBCd0QsRUFBSXdqQixXQUFXenJCLElBRWhDLE9BQU93ckIsRUEzNkJXRSxDQUFhdEQsR0FBU3FDLEVBQUtNLEVBQVFybkIsR0FHdkQsU0FBU2lvQixFQUFhbEIsRUFBS3JDLEVBQVEyQyxFQUFRcm5CLEdBQ3pDLE9BQU82bkIsRUFBV2QsRUFBS3JDLEVBQVEyQyxFQUFRcm5CLEdBR3pDLFNBQVNrb0IsRUFBYW5CLEVBQUtyQyxFQUFRMkMsRUFBUXJuQixHQUN6QyxPQUFPNG5CLEVBQVduQyxFQUFjZixHQUFTcUMsRUFBS00sRUFBUXJuQixHQUd4RCxTQUFTbW9CLEVBQVdwQixFQUFLckMsRUFBUTJDLEVBQVFybkIsR0FDdkMsT0FBTzRuQixFQWs2QlQsU0FBeUJyakIsRUFBSzZqQixHQUc1QixJQUZBLElBQUl6ckIsRUFBRzByQixFQUFJQyxFQUNQUixFQUFZLEdBQ1B4ckIsRUFBSSxFQUFHQSxFQUFJaUksRUFBSXZFLFdBQ2pCb29CLEdBQVMsR0FBSyxLQURhOXJCLEVBR2hDSyxFQUFJNEgsRUFBSXdqQixXQUFXenJCLEdBQ25CK3JCLEVBQUsxckIsR0FBSyxFQUNWMnJCLEVBQUszckIsRUFBSSxJQUNUbXJCLEVBQVUvbUIsS0FBS3VuQixHQUNmUixFQUFVL21CLEtBQUtzbkIsR0FHakIsT0FBT1AsRUEvNkJXUyxDQUFlN0QsRUFBUXFDLEVBQUkvbUIsT0FBU3FuQixHQUFTTixFQUFLTSxFQUFRcm5CLEdBa0Y5RSxTQUFTa21CLEVBQWFhLEVBQUtuQixFQUFPQyxHQUNoQyxPQUFjLElBQVZELEdBQWVDLElBQVFrQixFQUFJL21CLE9BQ3RCMGpCLEVBQU84RSxjQUFjekIsR0FFckJyRCxFQUFPOEUsY0FBY3pCLEVBQUkzbkIsTUFBTXdtQixFQUFPQyxJQUlqRCxTQUFTRSxFQUFXZ0IsRUFBS25CLEVBQU9DLEdBQzlCQSxFQUFNNEMsS0FBS0MsSUFBSTNCLEVBQUkvbUIsT0FBUTZsQixHQUkzQixJQUhBLElBQUlySixFQUFNLEdBRU5sZ0IsRUFBSXNwQixFQUNEdHBCLEVBQUl1cEIsR0FBSyxDQUNkLElBUU04QyxFQUFZQyxFQUFXQyxFQUFZQyxFQVJyQ0MsRUFBWWhDLEVBQUl6cUIsR0FDaEIwc0IsRUFBWSxLQUNaQyxFQUFvQkYsRUFBWSxJQUFRLEVBQ3ZDQSxFQUFZLElBQVEsRUFDcEJBLEVBQVksSUFBUSxFQUNyQixFQUVKLEdBQUl6c0IsRUFBSTJzQixHQUFvQnBELEVBRzFCLE9BQVFvRCxHQUNOLEtBQUssRUFDQ0YsRUFBWSxNQUNkQyxFQUFZRCxHQUVkLE1BQ0YsS0FBSyxFQUV5QixNQUFWLEtBRGxCSixFQUFhNUIsRUFBSXpxQixFQUFJLE9BRW5Cd3NCLEdBQTZCLEdBQVpDLElBQXFCLEVBQW9CLEdBQWJKLEdBQ3pCLE1BQ2xCSyxFQUFZRixHQUdoQixNQUNGLEtBQUssRUFDSEgsRUFBYTVCLEVBQUl6cUIsRUFBSSxHQUNyQnNzQixFQUFZN0IsRUFBSXpxQixFQUFJLEdBQ1EsTUFBVixJQUFicXNCLElBQXNELE1BQVYsSUFBWkMsS0FDbkNFLEdBQTZCLEdBQVpDLElBQW9CLElBQW9CLEdBQWJKLElBQXNCLEVBQW1CLEdBQVpDLEdBQ3JELE9BQVVFLEVBQWdCLE9BQVVBLEVBQWdCLFNBQ3RFRSxFQUFZRixHQUdoQixNQUNGLEtBQUssRUFDSEgsRUFBYTVCLEVBQUl6cUIsRUFBSSxHQUNyQnNzQixFQUFZN0IsRUFBSXpxQixFQUFJLEdBQ3BCdXNCLEVBQWE5QixFQUFJenFCLEVBQUksR0FDTyxNQUFWLElBQWJxc0IsSUFBc0QsTUFBVixJQUFaQyxJQUFzRCxNQUFWLElBQWJDLEtBQ2xFQyxHQUE2QixHQUFaQyxJQUFvQixJQUFxQixHQUFiSixJQUFzQixJQUFtQixHQUFaQyxJQUFxQixFQUFvQixHQUFiQyxHQUNsRixPQUFVQyxFQUFnQixVQUM1Q0UsRUFBWUYsR0FNSixPQUFkRSxHQUdGQSxFQUFZLE1BQ1pDLEVBQW1CLEdBQ1ZELEVBQVksUUFFckJBLEdBQWEsTUFDYnhNLEVBQUl6YixLQUFLaW9CLElBQWMsR0FBSyxLQUFRLE9BQ3BDQSxFQUFZLE1BQXFCLEtBQVpBLEdBR3ZCeE0sRUFBSXpiLEtBQUtpb0IsR0FDVDFzQixHQUFLMnNCLEVBR1AsT0FRRixTQUFnQ0MsR0FDOUIsSUFBSXBWLEVBQU1vVixFQUFXbHBCLE9BQ3JCLEdBQUk4VCxHQUpxQixLQUt2QixPQUFPNE4sT0FBT3lILGFBQWF6akIsTUFBTWdjLE9BQVF3SCxHQUkzQyxJQUFJMU0sRUFBTSxHQUNObGdCLEVBQUksRUFDUixLQUFPQSxFQUFJd1gsR0FDVDBJLEdBQU9rRixPQUFPeUgsYUFBYXpqQixNQUN6QmdjLE9BQ0F3SCxFQUFXOXBCLE1BQU05QyxFQUFHQSxHQWRDLE9BaUJ6QixPQUFPa2dCLEVBdkJBNE0sQ0FBc0I1TSxHQTk4Qi9CMWdCLEVBQVF5SCxPQUFTQSxFQUNqQnpILEVBQVF1dEIsV0FvVFIsU0FBcUJycEIsSUFDZEEsR0FBVUEsSUFDYkEsRUFBUyxHQUVYLE9BQU91RCxFQUFPK2xCLE9BQU90cEIsSUF2VHZCbEUsRUFBUXl0QixrQkFBb0IsR0EwQjVCaG1CLEVBQU9zZ0IseUJBQXFEM2lCLElBQS9CcEMsRUFBTytrQixvQkFDaEMva0IsRUFBTytrQixvQkFRWCxXQUNFLElBQ0UsSUFBSTZDLEVBQU0sSUFBSTlsQixXQUFXLEdBRXpCLE9BREE4bEIsRUFBSXpDLFVBQVksQ0FBQ0EsVUFBV3JqQixXQUFXMUMsVUFBV3NyQixJQUFLLFdBQWMsT0FBTyxLQUN2RCxLQUFkOUMsRUFBSThDLE9BQ2lCLG1CQUFqQjlDLEVBQUkrQyxVQUN1QixJQUFsQy9DLEVBQUkrQyxTQUFTLEVBQUcsR0FBRzduQixXQUN2QixNQUFPYyxHQUNQLE9BQU8sR0FmUGduQixHQUtKNXRCLEVBQVE4bkIsV0FBYUEsSUFrRXJCcmdCLEVBQU9vbUIsU0FBVyxLQUdsQnBtQixFQUFPcW1CLFNBQVcsU0FBVWxELEdBRTFCLE9BREFBLEVBQUl6QyxVQUFZMWdCLEVBQU9yRixVQUNoQndvQixHQTJCVG5qQixFQUFPaUIsS0FBTyxTQUFVakgsRUFBTzRtQixFQUFrQm5rQixHQUMvQyxPQUFPd0UsRUFBSyxLQUFNakgsRUFBTzRtQixFQUFrQm5rQixJQUd6Q3VELEVBQU9zZ0Isc0JBQ1R0Z0IsRUFBT3JGLFVBQVUrbEIsVUFBWXJqQixXQUFXMUMsVUFDeENxRixFQUFPMGdCLFVBQVlyakIsV0FDRyxvQkFBWHZELFFBQTBCQSxPQUFPd3NCLFNBQ3hDdG1CLEVBQU9sRyxPQUFPd3NCLFdBQWF0bUIsR0FFN0J2RyxPQUFPQyxlQUFlc0csRUFBUWxHLE9BQU93c0IsUUFBUyxDQUM1Q3RzQixNQUFPLEtBQ1BvUSxjQUFjLEtBaUNwQnBLLEVBQU8rbEIsTUFBUSxTQUFVakUsRUFBTXlFLEVBQU01bUIsR0FDbkMsT0FyQkYsU0FBZ0I2Z0IsRUFBTXNCLEVBQU15RSxFQUFNNW1CLEdBRWhDLE9BREFraUIsRUFBV0MsR0FDUEEsR0FBUSxFQUNIdkIsRUFBYUMsRUFBTXNCLFFBRWZua0IsSUFBVDRvQixFQUl5QixpQkFBYjVtQixFQUNWNGdCLEVBQWFDLEVBQU1zQixHQUFNeUUsS0FBS0EsRUFBTTVtQixHQUNwQzRnQixFQUFhQyxFQUFNc0IsR0FBTXlFLEtBQUtBLEdBRTdCaEcsRUFBYUMsRUFBTXNCLEdBUW5CaUUsQ0FBTSxLQUFNakUsRUFBTXlFLEVBQU01bUIsSUFpQmpDSyxFQUFPNmdCLFlBQWMsU0FBVWlCLEdBQzdCLE9BQU9qQixFQUFZLEtBQU1pQixJQUszQjloQixFQUFPd21CLGdCQUFrQixTQUFVMUUsR0FDakMsT0FBT2pCLEVBQVksS0FBTWlCLElBaUgzQjloQixFQUFPd2hCLFNBQVcsU0FBbUJ2a0IsR0FDbkMsUUFBZSxNQUFMQSxJQUFhQSxFQUFFd3BCLFlBRzNCem1CLEVBQU8wbUIsUUFBVSxTQUFrQjFwQixFQUFHQyxHQUNwQyxJQUFLK0MsRUFBT3doQixTQUFTeGtCLEtBQU9nRCxFQUFPd2hCLFNBQVN2a0IsR0FDMUMsTUFBTSxJQUFJNmpCLFVBQVUsNkJBR3RCLEdBQUk5akIsSUFBTUMsRUFBRyxPQUFPLEVBS3BCLElBSEEsSUFBSTBwQixFQUFJM3BCLEVBQUVQLE9BQ05tcUIsRUFBSTNwQixFQUFFUixPQUVEMUQsRUFBSSxFQUFHd1gsRUFBTTJVLEtBQUtDLElBQUl3QixFQUFHQyxHQUFJN3RCLEVBQUl3WCxJQUFPeFgsRUFDL0MsR0FBSWlFLEVBQUVqRSxLQUFPa0UsRUFBRWxFLEdBQUksQ0FDakI0dEIsRUFBSTNwQixFQUFFakUsR0FDTjZ0QixFQUFJM3BCLEVBQUVsRSxHQUNOLE1BSUosT0FBSTR0QixFQUFJQyxHQUFXLEVBQ2ZBLEVBQUlELEVBQVUsRUFDWCxHQUdUM21CLEVBQU9vaEIsV0FBYSxTQUFxQnpoQixHQUN2QyxPQUFRd2UsT0FBT3hlLEdBQVV3aUIsZUFDdkIsSUFBSyxNQUNMLElBQUssT0FDTCxJQUFLLFFBQ0wsSUFBSyxRQUNMLElBQUssU0FDTCxJQUFLLFNBQ0wsSUFBSyxTQUNMLElBQUssT0FDTCxJQUFLLFFBQ0wsSUFBSyxVQUNMLElBQUssV0FDSCxPQUFPLEVBQ1QsUUFDRSxPQUFPLElBSWJuaUIsRUFBTzZtQixPQUFTLFNBQWlCQyxFQUFNcnFCLEdBQ3JDLElBQUswQixFQUFRMm9CLEdBQ1gsTUFBTSxJQUFJaEcsVUFBVSwrQ0FHdEIsR0FBb0IsSUFBaEJnRyxFQUFLcnFCLE9BQ1AsT0FBT3VELEVBQU8rbEIsTUFBTSxHQUd0QixJQUFJaHRCLEVBQ0osUUFBZTRFLElBQVhsQixFQUVGLElBREFBLEVBQVMsRUFDSjFELEVBQUksRUFBR0EsRUFBSSt0QixFQUFLcnFCLFNBQVUxRCxFQUM3QjBELEdBQVVxcUIsRUFBSy90QixHQUFHMEQsT0FJdEIsSUFBSXNELEVBQVNDLEVBQU82Z0IsWUFBWXBrQixHQUM1QnNxQixFQUFNLEVBQ1YsSUFBS2h1QixFQUFJLEVBQUdBLEVBQUkrdEIsRUFBS3JxQixTQUFVMUQsRUFBRyxDQUNoQyxJQUFJeXFCLEVBQU1zRCxFQUFLL3RCLEdBQ2YsSUFBS2lILEVBQU93aEIsU0FBU2dDLEdBQ25CLE1BQU0sSUFBSTFDLFVBQVUsK0NBRXRCMEMsRUFBSTlCLEtBQUszaEIsRUFBUWduQixHQUNqQkEsR0FBT3ZELEVBQUkvbUIsT0FFYixPQUFPc0QsR0E4Q1RDLEVBQU8zQixXQUFhQSxFQTBFcEIyQixFQUFPckYsVUFBVThyQixXQUFZLEVBUTdCem1CLEVBQU9yRixVQUFVcXNCLE9BQVMsV0FDeEIsSUFBSXpXLEVBQU01WCxLQUFLOEQsT0FDZixHQUFJOFQsRUFBTSxHQUFNLEVBQ2QsTUFBTSxJQUFJa1EsV0FBVyw2Q0FFdkIsSUFBSyxJQUFJMW5CLEVBQUksRUFBR0EsRUFBSXdYLEVBQUt4WCxHQUFLLEVBQzVCOHBCLEVBQUtscUIsS0FBTUksRUFBR0EsRUFBSSxHQUVwQixPQUFPSixNQUdUcUgsRUFBT3JGLFVBQVVzc0IsT0FBUyxXQUN4QixJQUFJMVcsRUFBTTVYLEtBQUs4RCxPQUNmLEdBQUk4VCxFQUFNLEdBQU0sRUFDZCxNQUFNLElBQUlrUSxXQUFXLDZDQUV2QixJQUFLLElBQUkxbkIsRUFBSSxFQUFHQSxFQUFJd1gsRUFBS3hYLEdBQUssRUFDNUI4cEIsRUFBS2xxQixLQUFNSSxFQUFHQSxFQUFJLEdBQ2xCOHBCLEVBQUtscUIsS0FBTUksRUFBSSxFQUFHQSxFQUFJLEdBRXhCLE9BQU9KLE1BR1RxSCxFQUFPckYsVUFBVXVzQixPQUFTLFdBQ3hCLElBQUkzVyxFQUFNNVgsS0FBSzhELE9BQ2YsR0FBSThULEVBQU0sR0FBTSxFQUNkLE1BQU0sSUFBSWtRLFdBQVcsNkNBRXZCLElBQUssSUFBSTFuQixFQUFJLEVBQUdBLEVBQUl3WCxFQUFLeFgsR0FBSyxFQUM1QjhwQixFQUFLbHFCLEtBQU1JLEVBQUdBLEVBQUksR0FDbEI4cEIsRUFBS2xxQixLQUFNSSxFQUFJLEVBQUdBLEVBQUksR0FDdEI4cEIsRUFBS2xxQixLQUFNSSxFQUFJLEVBQUdBLEVBQUksR0FDdEI4cEIsRUFBS2xxQixLQUFNSSxFQUFJLEVBQUdBLEVBQUksR0FFeEIsT0FBT0osTUFHVHFILEVBQU9yRixVQUFVd0MsU0FBVyxXQUMxQixJQUFJVixFQUF1QixFQUFkOUQsS0FBSzhELE9BQ2xCLE9BQWUsSUFBWEEsRUFBcUIsR0FDQSxJQUFyQjBxQixVQUFVMXFCLE9BQXFCK2xCLEVBQVU3cEIsS0FBTSxFQUFHOEQsR0FDL0MybEIsRUFBYWpnQixNQUFNeEosS0FBTXd1QixZQUdsQ25uQixFQUFPckYsVUFBVXlzQixPQUFTLFNBQWlCbnFCLEdBQ3pDLElBQUsrQyxFQUFPd2hCLFNBQVN2a0IsR0FBSSxNQUFNLElBQUk2akIsVUFBVSw2QkFDN0MsT0FBSW5vQixPQUFTc0UsR0FDc0IsSUFBNUIrQyxFQUFPMG1CLFFBQVEvdEIsS0FBTXNFLElBRzlCK0MsRUFBT3JGLFVBQVUwc0IsUUFBVSxXQUN6QixJQUFJcm1CLEVBQU0sR0FDTnNtQixFQUFNL3VCLEVBQVF5dEIsa0JBS2xCLE9BSklydEIsS0FBSzhELE9BQVMsSUFDaEJ1RSxFQUFNckksS0FBS3dFLFNBQVMsTUFBTyxFQUFHbXFCLEdBQUsvbkIsTUFBTSxTQUFTMUMsS0FBSyxLQUNuRGxFLEtBQUs4RCxPQUFTNnFCLElBQUt0bUIsR0FBTyxVQUV6QixXQUFhQSxFQUFNLEtBRzVCaEIsRUFBT3JGLFVBQVUrckIsUUFBVSxTQUFrQi9xQixFQUFRMG1CLEVBQU9DLEVBQUtpRixFQUFXQyxHQUMxRSxJQUFLeG5CLEVBQU93aEIsU0FBUzdsQixHQUNuQixNQUFNLElBQUltbEIsVUFBVSw2QkFnQnRCLFFBYmNuakIsSUFBVjBrQixJQUNGQSxFQUFRLFFBRUUxa0IsSUFBUjJrQixJQUNGQSxFQUFNM21CLEVBQVNBLEVBQU9jLE9BQVMsUUFFZmtCLElBQWQ0cEIsSUFDRkEsRUFBWSxRQUVFNXBCLElBQVo2cEIsSUFDRkEsRUFBVTd1QixLQUFLOEQsUUFHYjRsQixFQUFRLEdBQUtDLEVBQU0zbUIsRUFBT2MsUUFBVThxQixFQUFZLEdBQUtDLEVBQVU3dUIsS0FBSzhELE9BQ3RFLE1BQU0sSUFBSWdrQixXQUFXLHNCQUd2QixHQUFJOEcsR0FBYUMsR0FBV25GLEdBQVNDLEVBQ25DLE9BQU8sRUFFVCxHQUFJaUYsR0FBYUMsRUFDZixPQUFRLEVBRVYsR0FBSW5GLEdBQVNDLEVBQ1gsT0FBTyxFQVFULEdBQUkzcEIsT0FBU2dELEVBQVEsT0FBTyxFQVM1QixJQVBBLElBQUlnckIsR0FKSmEsS0FBYSxJQURiRCxLQUFlLEdBTVhYLEdBUEp0RSxLQUFTLElBRFRELEtBQVcsR0FTUDlSLEVBQU0yVSxLQUFLQyxJQUFJd0IsRUFBR0MsR0FFbEJhLEVBQVc5dUIsS0FBS2tELE1BQU0wckIsRUFBV0MsR0FDakNFLEVBQWEvckIsRUFBT0UsTUFBTXdtQixFQUFPQyxHQUU1QnZwQixFQUFJLEVBQUdBLEVBQUl3WCxJQUFPeFgsRUFDekIsR0FBSTB1QixFQUFTMXVCLEtBQU8ydUIsRUFBVzN1QixHQUFJLENBQ2pDNHRCLEVBQUljLEVBQVMxdUIsR0FDYjZ0QixFQUFJYyxFQUFXM3VCLEdBQ2YsTUFJSixPQUFJNHRCLEVBQUlDLEdBQVcsRUFDZkEsRUFBSUQsRUFBVSxFQUNYLEdBNkhUM21CLEVBQU9yRixVQUFVeUosU0FBVyxTQUFtQnVkLEVBQUtYLEVBQVlyaEIsR0FDOUQsT0FBb0QsSUFBN0NoSCxLQUFLNEUsUUFBUW9rQixFQUFLWCxFQUFZcmhCLElBR3ZDSyxFQUFPckYsVUFBVTRDLFFBQVUsU0FBa0Jva0IsRUFBS1gsRUFBWXJoQixHQUM1RCxPQUFPbWpCLEVBQXFCbnFCLEtBQU1ncEIsRUFBS1gsRUFBWXJoQixHQUFVLElBRy9ESyxFQUFPckYsVUFBVXVvQixZQUFjLFNBQXNCdkIsRUFBS1gsRUFBWXJoQixHQUNwRSxPQUFPbWpCLEVBQXFCbnFCLEtBQU1ncEIsRUFBS1gsRUFBWXJoQixHQUFVLElBa0QvREssRUFBT3JGLFVBQVUybUIsTUFBUSxTQUFnQkgsRUFBUTJDLEVBQVFybkIsRUFBUWtELEdBRS9ELFFBQWVoQyxJQUFYbW1CLEVBQ0Zua0IsRUFBVyxPQUNYbEQsRUFBUzlELEtBQUs4RCxPQUNkcW5CLEVBQVMsT0FFSixRQUFlbm1CLElBQVhsQixHQUEwQyxpQkFBWHFuQixFQUN4Q25rQixFQUFXbWtCLEVBQ1hybkIsRUFBUzlELEtBQUs4RCxPQUNkcW5CLEVBQVMsTUFFSixLQUFJNkQsU0FBUzdELEdBV2xCLE1BQU0sSUFBSWhpQixNQUNSLDJFQVhGZ2lCLEdBQWtCLEVBQ2Q2RCxTQUFTbHJCLElBQ1hBLEdBQWtCLE9BQ0RrQixJQUFiZ0MsSUFBd0JBLEVBQVcsVUFFdkNBLEVBQVdsRCxFQUNYQSxPQUFTa0IsR0FTYixJQUFJcW1CLEVBQVlyckIsS0FBSzhELE9BQVNxbkIsRUFHOUIsU0FGZW5tQixJQUFYbEIsR0FBd0JBLEVBQVN1bkIsS0FBV3ZuQixFQUFTdW5CLEdBRXBEN0MsRUFBTzFrQixPQUFTLElBQU1BLEVBQVMsR0FBS3FuQixFQUFTLElBQU9BLEVBQVNuckIsS0FBSzhELE9BQ3JFLE1BQU0sSUFBSWdrQixXQUFXLDBDQUdsQjlnQixJQUFVQSxFQUFXLFFBRzFCLElBREEsSUFBSXFpQixHQUFjLElBRWhCLE9BQVFyaUIsR0FDTixJQUFLLE1BQ0gsT0FBT2trQixFQUFTbHJCLEtBQU13b0IsRUFBUTJDLEVBQVFybkIsR0FFeEMsSUFBSyxPQUNMLElBQUssUUFDSCxPQUFPMm5CLEVBQVV6ckIsS0FBTXdvQixFQUFRMkMsRUFBUXJuQixHQUV6QyxJQUFLLFFBQ0gsT0FBTzZuQixFQUFXM3JCLEtBQU13b0IsRUFBUTJDLEVBQVFybkIsR0FFMUMsSUFBSyxTQUNMLElBQUssU0FDSCxPQUFPaW9CLEVBQVkvckIsS0FBTXdvQixFQUFRMkMsRUFBUXJuQixHQUUzQyxJQUFLLFNBRUgsT0FBT2tvQixFQUFZaHNCLEtBQU13b0IsRUFBUTJDLEVBQVFybkIsR0FFM0MsSUFBSyxPQUNMLElBQUssUUFDTCxJQUFLLFVBQ0wsSUFBSyxXQUNILE9BQU9tb0IsRUFBVWpzQixLQUFNd29CLEVBQVEyQyxFQUFRcm5CLEdBRXpDLFFBQ0UsR0FBSXVsQixFQUFhLE1BQU0sSUFBSWxCLFVBQVUscUJBQXVCbmhCLEdBQzVEQSxHQUFZLEdBQUtBLEdBQVV3aUIsY0FDM0JILEdBQWMsSUFLdEJoaUIsRUFBT3JGLFVBQVVpdEIsT0FBUyxXQUN4QixNQUFPLENBQ0xyVSxLQUFNLFNBQ05wTCxLQUFNdk0sTUFBTWpCLFVBQVVrQixNQUFNM0MsS0FBS1AsS0FBS2t2QixNQUFRbHZCLEtBQU0sS0E0R3hELFNBQVM4cEIsRUFBWWUsRUFBS25CLEVBQU9DLEdBQy9CLElBQUl3RixFQUFNLEdBQ1Z4RixFQUFNNEMsS0FBS0MsSUFBSTNCLEVBQUkvbUIsT0FBUTZsQixHQUUzQixJQUFLLElBQUl2cEIsRUFBSXNwQixFQUFPdHBCLEVBQUl1cEIsSUFBT3ZwQixFQUM3Qit1QixHQUFPM0osT0FBT3lILGFBQXNCLElBQVRwQyxFQUFJenFCLElBRWpDLE9BQU8rdUIsRUFHVCxTQUFTcEYsRUFBYWMsRUFBS25CLEVBQU9DLEdBQ2hDLElBQUl3RixFQUFNLEdBQ1Z4RixFQUFNNEMsS0FBS0MsSUFBSTNCLEVBQUkvbUIsT0FBUTZsQixHQUUzQixJQUFLLElBQUl2cEIsRUFBSXNwQixFQUFPdHBCLEVBQUl1cEIsSUFBT3ZwQixFQUM3Qit1QixHQUFPM0osT0FBT3lILGFBQWFwQyxFQUFJenFCLElBRWpDLE9BQU8rdUIsRUFHVCxTQUFTdkYsRUFBVWlCLEVBQUtuQixFQUFPQyxHQUM3QixJQUFJL1IsRUFBTWlULEVBQUkvbUIsU0FFVDRsQixHQUFTQSxFQUFRLEtBQUdBLEVBQVEsS0FDNUJDLEdBQU9BLEVBQU0sR0FBS0EsRUFBTS9SLEtBQUsrUixFQUFNL1IsR0FHeEMsSUFEQSxJQUFJd1gsRUFBTSxHQUNEaHZCLEVBQUlzcEIsRUFBT3RwQixFQUFJdXBCLElBQU92cEIsRUFDN0JndkIsR0FBT0MsRUFBTXhFLEVBQUl6cUIsSUFFbkIsT0FBT2d2QixFQUdULFNBQVNuRixFQUFjWSxFQUFLbkIsRUFBT0MsR0FHakMsSUFGQSxJQUFJMkYsRUFBUXpFLEVBQUkzbkIsTUFBTXdtQixFQUFPQyxHQUN6QnJKLEVBQU0sR0FDRGxnQixFQUFJLEVBQUdBLEVBQUlrdkIsRUFBTXhyQixPQUFRMUQsR0FBSyxFQUNyQ2tnQixHQUFPa0YsT0FBT3lILGFBQWFxQyxFQUFNbHZCLEdBQW9CLElBQWZrdkIsRUFBTWx2QixFQUFJLElBRWxELE9BQU9rZ0IsRUEwQ1QsU0FBU2lQLEVBQWFwRSxFQUFRcUUsRUFBSzFyQixHQUNqQyxHQUFLcW5CLEVBQVMsR0FBTyxHQUFLQSxFQUFTLEVBQUcsTUFBTSxJQUFJckQsV0FBVyxzQkFDM0QsR0FBSXFELEVBQVNxRSxFQUFNMXJCLEVBQVEsTUFBTSxJQUFJZ2tCLFdBQVcseUNBK0psRCxTQUFTMkgsRUFBVTVFLEVBQUt4cEIsRUFBTzhwQixFQUFRcUUsRUFBS2IsRUFBS25DLEdBQy9DLElBQUtubEIsRUFBT3doQixTQUFTZ0MsR0FBTSxNQUFNLElBQUkxQyxVQUFVLCtDQUMvQyxHQUFJOW1CLEVBQVFzdEIsR0FBT3R0QixFQUFRbXJCLEVBQUssTUFBTSxJQUFJMUUsV0FBVyxxQ0FDckQsR0FBSXFELEVBQVNxRSxFQUFNM0UsRUFBSS9tQixPQUFRLE1BQU0sSUFBSWdrQixXQUFXLHNCQWtEdEQsU0FBUzRILEVBQW1CN0UsRUFBS3hwQixFQUFPOHBCLEVBQVF3RSxHQUMxQ3R1QixFQUFRLElBQUdBLEVBQVEsTUFBU0EsRUFBUSxHQUN4QyxJQUFLLElBQUlqQixFQUFJLEVBQUc2cUIsRUFBSXNCLEtBQUtDLElBQUkzQixFQUFJL21CLE9BQVNxbkIsRUFBUSxHQUFJL3FCLEVBQUk2cUIsSUFBSzdxQixFQUM3RHlxQixFQUFJTSxFQUFTL3FCLElBQU1pQixFQUFTLEtBQVMsR0FBS3N1QixFQUFldnZCLEVBQUksRUFBSUEsTUFDbEMsR0FBNUJ1dkIsRUFBZXZ2QixFQUFJLEVBQUlBLEdBOEI5QixTQUFTd3ZCLEVBQW1CL0UsRUFBS3hwQixFQUFPOHBCLEVBQVF3RSxHQUMxQ3R1QixFQUFRLElBQUdBLEVBQVEsV0FBYUEsRUFBUSxHQUM1QyxJQUFLLElBQUlqQixFQUFJLEVBQUc2cUIsRUFBSXNCLEtBQUtDLElBQUkzQixFQUFJL21CLE9BQVNxbkIsRUFBUSxHQUFJL3FCLEVBQUk2cUIsSUFBSzdxQixFQUM3RHlxQixFQUFJTSxFQUFTL3FCLEdBQU1pQixJQUF1QyxHQUE1QnN1QixFQUFldnZCLEVBQUksRUFBSUEsR0FBVSxJQW1KbkUsU0FBU3l2QixFQUFjaEYsRUFBS3hwQixFQUFPOHBCLEVBQVFxRSxFQUFLYixFQUFLbkMsR0FDbkQsR0FBSXJCLEVBQVNxRSxFQUFNM0UsRUFBSS9tQixPQUFRLE1BQU0sSUFBSWdrQixXQUFXLHNCQUNwRCxHQUFJcUQsRUFBUyxFQUFHLE1BQU0sSUFBSXJELFdBQVcsc0JBR3ZDLFNBQVNnSSxFQUFZakYsRUFBS3hwQixFQUFPOHBCLEVBQVF3RSxFQUFjSSxHQUtyRCxPQUpLQSxHQUNIRixFQUFhaEYsRUFBS3hwQixFQUFPOHBCLEVBQVEsR0FFbkMxRCxFQUFRa0IsTUFBTWtDLEVBQUt4cEIsRUFBTzhwQixFQUFRd0UsRUFBYyxHQUFJLEdBQzdDeEUsRUFBUyxFQVdsQixTQUFTNkUsRUFBYW5GLEVBQUt4cEIsRUFBTzhwQixFQUFRd0UsRUFBY0ksR0FLdEQsT0FKS0EsR0FDSEYsRUFBYWhGLEVBQUt4cEIsRUFBTzhwQixFQUFRLEdBRW5DMUQsRUFBUWtCLE1BQU1rQyxFQUFLeHBCLEVBQU84cEIsRUFBUXdFLEVBQWMsR0FBSSxHQUM3Q3hFLEVBQVMsRUEvY2xCOWpCLEVBQU9yRixVQUFVa0IsTUFBUSxTQUFnQndtQixFQUFPQyxHQUM5QyxJQW9CSXNHLEVBcEJBclksRUFBTTVYLEtBQUs4RCxPQXFCZixJQXBCQTRsQixJQUFVQSxHQUdFLEdBQ1ZBLEdBQVM5UixHQUNHLElBQUc4UixFQUFRLEdBQ2RBLEVBQVE5UixJQUNqQjhSLEVBQVE5UixJQU5WK1IsT0FBYzNrQixJQUFSMmtCLEVBQW9CL1IsSUFBUStSLEdBU3hCLEdBQ1JBLEdBQU8vUixHQUNHLElBQUcrUixFQUFNLEdBQ1ZBLEVBQU0vUixJQUNmK1IsRUFBTS9SLEdBR0orUixFQUFNRCxJQUFPQyxFQUFNRCxHQUduQnJpQixFQUFPc2dCLHFCQUNUc0ksRUFBU2p3QixLQUFLdXRCLFNBQVM3RCxFQUFPQyxJQUN2QjVCLFVBQVkxZ0IsRUFBT3JGLGNBQ3JCLENBQ0wsSUFBSWt1QixFQUFXdkcsRUFBTUQsRUFDckJ1RyxFQUFTLElBQUk1b0IsRUFBTzZvQixPQUFVbHJCLEdBQzlCLElBQUssSUFBSTVFLEVBQUksRUFBR0EsRUFBSTh2QixJQUFZOXZCLEVBQzlCNnZCLEVBQU83dkIsR0FBS0osS0FBS0ksRUFBSXNwQixHQUl6QixPQUFPdUcsR0FXVDVvQixFQUFPckYsVUFBVW11QixXQUFhLFNBQXFCaEYsRUFBUXpsQixFQUFZcXFCLEdBQ3JFNUUsR0FBa0IsRUFDbEJ6bEIsR0FBMEIsRUFDckJxcUIsR0FBVVIsRUFBWXBFLEVBQVF6bEIsRUFBWTFGLEtBQUs4RCxRQUtwRCxJQUhBLElBQUlrbEIsRUFBTWhwQixLQUFLbXJCLEdBQ1hpRixFQUFNLEVBQ05od0IsRUFBSSxJQUNDQSxFQUFJc0YsSUFBZTBxQixHQUFPLE1BQ2pDcEgsR0FBT2hwQixLQUFLbXJCLEVBQVMvcUIsR0FBS2d3QixFQUc1QixPQUFPcEgsR0FHVDNoQixFQUFPckYsVUFBVXF1QixXQUFhLFNBQXFCbEYsRUFBUXpsQixFQUFZcXFCLEdBQ3JFNUUsR0FBa0IsRUFDbEJ6bEIsR0FBMEIsRUFDckJxcUIsR0FDSFIsRUFBWXBFLEVBQVF6bEIsRUFBWTFGLEtBQUs4RCxRQUt2QyxJQUZBLElBQUlrbEIsRUFBTWhwQixLQUFLbXJCLElBQVd6bEIsR0FDdEIwcUIsRUFBTSxFQUNIMXFCLEVBQWEsSUFBTTBxQixHQUFPLE1BQy9CcEgsR0FBT2hwQixLQUFLbXJCLElBQVd6bEIsR0FBYzBxQixFQUd2QyxPQUFPcEgsR0FHVDNoQixFQUFPckYsVUFBVXN1QixVQUFZLFNBQW9CbkYsRUFBUTRFLEdBRXZELE9BREtBLEdBQVVSLEVBQVlwRSxFQUFRLEVBQUduckIsS0FBSzhELFFBQ3BDOUQsS0FBS21yQixJQUdkOWpCLEVBQU9yRixVQUFVdXVCLGFBQWUsU0FBdUJwRixFQUFRNEUsR0FFN0QsT0FES0EsR0FBVVIsRUFBWXBFLEVBQVEsRUFBR25yQixLQUFLOEQsUUFDcEM5RCxLQUFLbXJCLEdBQVduckIsS0FBS21yQixFQUFTLElBQU0sR0FHN0M5akIsRUFBT3JGLFVBQVU4b0IsYUFBZSxTQUF1QkssRUFBUTRFLEdBRTdELE9BREtBLEdBQVVSLEVBQVlwRSxFQUFRLEVBQUduckIsS0FBSzhELFFBQ25DOUQsS0FBS21yQixJQUFXLEVBQUtuckIsS0FBS21yQixFQUFTLElBRzdDOWpCLEVBQU9yRixVQUFVd3VCLGFBQWUsU0FBdUJyRixFQUFRNEUsR0FHN0QsT0FGS0EsR0FBVVIsRUFBWXBFLEVBQVEsRUFBR25yQixLQUFLOEQsU0FFbEM5RCxLQUFLbXJCLEdBQ1RuckIsS0FBS21yQixFQUFTLElBQU0sRUFDcEJuckIsS0FBS21yQixFQUFTLElBQU0sSUFDRCxTQUFuQm5yQixLQUFLbXJCLEVBQVMsSUFHckI5akIsRUFBT3JGLFVBQVV5dUIsYUFBZSxTQUF1QnRGLEVBQVE0RSxHQUc3RCxPQUZLQSxHQUFVUixFQUFZcEUsRUFBUSxFQUFHbnJCLEtBQUs4RCxRQUVwQixTQUFmOUQsS0FBS21yQixJQUNUbnJCLEtBQUttckIsRUFBUyxJQUFNLEdBQ3JCbnJCLEtBQUttckIsRUFBUyxJQUFNLEVBQ3JCbnJCLEtBQUttckIsRUFBUyxLQUdsQjlqQixFQUFPckYsVUFBVTB1QixVQUFZLFNBQW9CdkYsRUFBUXpsQixFQUFZcXFCLEdBQ25FNUUsR0FBa0IsRUFDbEJ6bEIsR0FBMEIsRUFDckJxcUIsR0FBVVIsRUFBWXBFLEVBQVF6bEIsRUFBWTFGLEtBQUs4RCxRQUtwRCxJQUhBLElBQUlrbEIsRUFBTWhwQixLQUFLbXJCLEdBQ1hpRixFQUFNLEVBQ05od0IsRUFBSSxJQUNDQSxFQUFJc0YsSUFBZTBxQixHQUFPLE1BQ2pDcEgsR0FBT2hwQixLQUFLbXJCLEVBQVMvcUIsR0FBS2d3QixFQU01QixPQUZJcEgsSUFGSm9ILEdBQU8sT0FFU3BILEdBQU91RCxLQUFLb0UsSUFBSSxFQUFHLEVBQUlqckIsSUFFaENzakIsR0FHVDNoQixFQUFPckYsVUFBVTR1QixVQUFZLFNBQW9CekYsRUFBUXpsQixFQUFZcXFCLEdBQ25FNUUsR0FBa0IsRUFDbEJ6bEIsR0FBMEIsRUFDckJxcUIsR0FBVVIsRUFBWXBFLEVBQVF6bEIsRUFBWTFGLEtBQUs4RCxRQUtwRCxJQUhBLElBQUkxRCxFQUFJc0YsRUFDSjBxQixFQUFNLEVBQ05wSCxFQUFNaHBCLEtBQUttckIsSUFBVy9xQixHQUNuQkEsRUFBSSxJQUFNZ3dCLEdBQU8sTUFDdEJwSCxHQUFPaHBCLEtBQUttckIsSUFBVy9xQixHQUFLZ3dCLEVBTTlCLE9BRklwSCxJQUZKb0gsR0FBTyxPQUVTcEgsR0FBT3VELEtBQUtvRSxJQUFJLEVBQUcsRUFBSWpyQixJQUVoQ3NqQixHQUdUM2hCLEVBQU9yRixVQUFVNnVCLFNBQVcsU0FBbUIxRixFQUFRNEUsR0FFckQsT0FES0EsR0FBVVIsRUFBWXBFLEVBQVEsRUFBR25yQixLQUFLOEQsUUFDdEIsSUFBZjlELEtBQUttckIsSUFDMEIsR0FBNUIsSUFBT25yQixLQUFLbXJCLEdBQVUsR0FES25yQixLQUFLbXJCLElBSTNDOWpCLEVBQU9yRixVQUFVOHVCLFlBQWMsU0FBc0IzRixFQUFRNEUsR0FDdERBLEdBQVVSLEVBQVlwRSxFQUFRLEVBQUduckIsS0FBSzhELFFBQzNDLElBQUlrbEIsRUFBTWhwQixLQUFLbXJCLEdBQVduckIsS0FBS21yQixFQUFTLElBQU0sRUFDOUMsT0FBYyxNQUFObkMsRUFBc0IsV0FBTkEsRUFBbUJBLEdBRzdDM2hCLEVBQU9yRixVQUFVK3VCLFlBQWMsU0FBc0I1RixFQUFRNEUsR0FDdERBLEdBQVVSLEVBQVlwRSxFQUFRLEVBQUduckIsS0FBSzhELFFBQzNDLElBQUlrbEIsRUFBTWhwQixLQUFLbXJCLEVBQVMsR0FBTW5yQixLQUFLbXJCLElBQVcsRUFDOUMsT0FBYyxNQUFObkMsRUFBc0IsV0FBTkEsRUFBbUJBLEdBRzdDM2hCLEVBQU9yRixVQUFVZ3ZCLFlBQWMsU0FBc0I3RixFQUFRNEUsR0FHM0QsT0FGS0EsR0FBVVIsRUFBWXBFLEVBQVEsRUFBR25yQixLQUFLOEQsUUFFbkM5RCxLQUFLbXJCLEdBQ1ZuckIsS0FBS21yQixFQUFTLElBQU0sRUFDcEJuckIsS0FBS21yQixFQUFTLElBQU0sR0FDcEJuckIsS0FBS21yQixFQUFTLElBQU0sSUFHekI5akIsRUFBT3JGLFVBQVVpdkIsWUFBYyxTQUFzQjlGLEVBQVE0RSxHQUczRCxPQUZLQSxHQUFVUixFQUFZcEUsRUFBUSxFQUFHbnJCLEtBQUs4RCxRQUVuQzlELEtBQUttckIsSUFBVyxHQUNyQm5yQixLQUFLbXJCLEVBQVMsSUFBTSxHQUNwQm5yQixLQUFLbXJCLEVBQVMsSUFBTSxFQUNwQm5yQixLQUFLbXJCLEVBQVMsSUFHbkI5akIsRUFBT3JGLFVBQVVrdkIsWUFBYyxTQUFzQi9GLEVBQVE0RSxHQUUzRCxPQURLQSxHQUFVUixFQUFZcEUsRUFBUSxFQUFHbnJCLEtBQUs4RCxRQUNwQzJqQixFQUFRbUQsS0FBSzVxQixLQUFNbXJCLEdBQVEsRUFBTSxHQUFJLElBRzlDOWpCLEVBQU9yRixVQUFVbXZCLFlBQWMsU0FBc0JoRyxFQUFRNEUsR0FFM0QsT0FES0EsR0FBVVIsRUFBWXBFLEVBQVEsRUFBR25yQixLQUFLOEQsUUFDcEMyakIsRUFBUW1ELEtBQUs1cUIsS0FBTW1yQixHQUFRLEVBQU8sR0FBSSxJQUcvQzlqQixFQUFPckYsVUFBVW92QixhQUFlLFNBQXVCakcsRUFBUTRFLEdBRTdELE9BREtBLEdBQVVSLEVBQVlwRSxFQUFRLEVBQUduckIsS0FBSzhELFFBQ3BDMmpCLEVBQVFtRCxLQUFLNXFCLEtBQU1tckIsR0FBUSxFQUFNLEdBQUksSUFHOUM5akIsRUFBT3JGLFVBQVVxdkIsYUFBZSxTQUF1QmxHLEVBQVE0RSxHQUU3RCxPQURLQSxHQUFVUixFQUFZcEUsRUFBUSxFQUFHbnJCLEtBQUs4RCxRQUNwQzJqQixFQUFRbUQsS0FBSzVxQixLQUFNbXJCLEdBQVEsRUFBTyxHQUFJLElBUy9DOWpCLEVBQU9yRixVQUFVc3ZCLFlBQWMsU0FBc0Jqd0IsRUFBTzhwQixFQUFRemxCLEVBQVlxcUIsSUFDOUUxdUIsR0FBU0EsRUFDVDhwQixHQUFrQixFQUNsQnpsQixHQUEwQixFQUNyQnFxQixJQUVITixFQUFTenZCLEtBQU1xQixFQUFPOHBCLEVBQVF6bEIsRUFEZjZtQixLQUFLb0UsSUFBSSxFQUFHLEVBQUlqckIsR0FBYyxFQUNPLEdBR3RELElBQUkwcUIsRUFBTSxFQUNOaHdCLEVBQUksRUFFUixJQURBSixLQUFLbXJCLEdBQWtCLElBQVI5cEIsSUFDTmpCLEVBQUlzRixJQUFlMHFCLEdBQU8sTUFDakNwd0IsS0FBS21yQixFQUFTL3FCLEdBQU1pQixFQUFRK3VCLEVBQU8sSUFHckMsT0FBT2pGLEVBQVN6bEIsR0FHbEIyQixFQUFPckYsVUFBVXV2QixZQUFjLFNBQXNCbHdCLEVBQU84cEIsRUFBUXpsQixFQUFZcXFCLElBQzlFMXVCLEdBQVNBLEVBQ1Q4cEIsR0FBa0IsRUFDbEJ6bEIsR0FBMEIsRUFDckJxcUIsSUFFSE4sRUFBU3p2QixLQUFNcUIsRUFBTzhwQixFQUFRemxCLEVBRGY2bUIsS0FBS29FLElBQUksRUFBRyxFQUFJanJCLEdBQWMsRUFDTyxHQUd0RCxJQUFJdEYsRUFBSXNGLEVBQWEsRUFDakIwcUIsRUFBTSxFQUVWLElBREFwd0IsS0FBS21yQixFQUFTL3FCLEdBQWEsSUFBUmlCLElBQ1ZqQixHQUFLLElBQU1nd0IsR0FBTyxNQUN6QnB3QixLQUFLbXJCLEVBQVMvcUIsR0FBTWlCLEVBQVErdUIsRUFBTyxJQUdyQyxPQUFPakYsRUFBU3psQixHQUdsQjJCLEVBQU9yRixVQUFVd3ZCLFdBQWEsU0FBcUJud0IsRUFBTzhwQixFQUFRNEUsR0FNaEUsT0FMQTF1QixHQUFTQSxFQUNUOHBCLEdBQWtCLEVBQ2I0RSxHQUFVTixFQUFTenZCLEtBQU1xQixFQUFPOHBCLEVBQVEsRUFBRyxJQUFNLEdBQ2pEOWpCLEVBQU9zZ0Isc0JBQXFCdG1CLEVBQVFrckIsS0FBS2tGLE1BQU1wd0IsSUFDcERyQixLQUFLbXJCLEdBQW1CLElBQVI5cEIsRUFDVDhwQixFQUFTLEdBV2xCOWpCLEVBQU9yRixVQUFVMHZCLGNBQWdCLFNBQXdCcndCLEVBQU84cEIsRUFBUTRFLEdBVXRFLE9BVEExdUIsR0FBU0EsRUFDVDhwQixHQUFrQixFQUNiNEUsR0FBVU4sRUFBU3p2QixLQUFNcUIsRUFBTzhwQixFQUFRLEVBQUcsTUFBUSxHQUNwRDlqQixFQUFPc2dCLHFCQUNUM25CLEtBQUttckIsR0FBbUIsSUFBUjlwQixFQUNoQnJCLEtBQUttckIsRUFBUyxHQUFNOXBCLElBQVUsR0FFOUJxdUIsRUFBa0IxdkIsS0FBTXFCLEVBQU84cEIsR0FBUSxHQUVsQ0EsRUFBUyxHQUdsQjlqQixFQUFPckYsVUFBVTJ2QixjQUFnQixTQUF3QnR3QixFQUFPOHBCLEVBQVE0RSxHQVV0RSxPQVRBMXVCLEdBQVNBLEVBQ1Q4cEIsR0FBa0IsRUFDYjRFLEdBQVVOLEVBQVN6dkIsS0FBTXFCLEVBQU84cEIsRUFBUSxFQUFHLE1BQVEsR0FDcEQ5akIsRUFBT3NnQixxQkFDVDNuQixLQUFLbXJCLEdBQVc5cEIsSUFBVSxFQUMxQnJCLEtBQUttckIsRUFBUyxHQUFjLElBQVI5cEIsR0FFcEJxdUIsRUFBa0IxdkIsS0FBTXFCLEVBQU84cEIsR0FBUSxHQUVsQ0EsRUFBUyxHQVVsQjlqQixFQUFPckYsVUFBVTR2QixjQUFnQixTQUF3QnZ3QixFQUFPOHBCLEVBQVE0RSxHQVl0RSxPQVhBMXVCLEdBQVNBLEVBQ1Q4cEIsR0FBa0IsRUFDYjRFLEdBQVVOLEVBQVN6dkIsS0FBTXFCLEVBQU84cEIsRUFBUSxFQUFHLFdBQVksR0FDeEQ5akIsRUFBT3NnQixxQkFDVDNuQixLQUFLbXJCLEVBQVMsR0FBTTlwQixJQUFVLEdBQzlCckIsS0FBS21yQixFQUFTLEdBQU05cEIsSUFBVSxHQUM5QnJCLEtBQUttckIsRUFBUyxHQUFNOXBCLElBQVUsRUFDOUJyQixLQUFLbXJCLEdBQW1CLElBQVI5cEIsR0FFaEJ1dUIsRUFBa0I1dkIsS0FBTXFCLEVBQU84cEIsR0FBUSxHQUVsQ0EsRUFBUyxHQUdsQjlqQixFQUFPckYsVUFBVTZ2QixjQUFnQixTQUF3Qnh3QixFQUFPOHBCLEVBQVE0RSxHQVl0RSxPQVhBMXVCLEdBQVNBLEVBQ1Q4cEIsR0FBa0IsRUFDYjRFLEdBQVVOLEVBQVN6dkIsS0FBTXFCLEVBQU84cEIsRUFBUSxFQUFHLFdBQVksR0FDeEQ5akIsRUFBT3NnQixxQkFDVDNuQixLQUFLbXJCLEdBQVc5cEIsSUFBVSxHQUMxQnJCLEtBQUttckIsRUFBUyxHQUFNOXBCLElBQVUsR0FDOUJyQixLQUFLbXJCLEVBQVMsR0FBTTlwQixJQUFVLEVBQzlCckIsS0FBS21yQixFQUFTLEdBQWMsSUFBUjlwQixHQUVwQnV1QixFQUFrQjV2QixLQUFNcUIsRUFBTzhwQixHQUFRLEdBRWxDQSxFQUFTLEdBR2xCOWpCLEVBQU9yRixVQUFVOHZCLFdBQWEsU0FBcUJ6d0IsRUFBTzhwQixFQUFRemxCLEVBQVlxcUIsR0FHNUUsR0FGQTF1QixHQUFTQSxFQUNUOHBCLEdBQWtCLEdBQ2I0RSxFQUFVLENBQ2IsSUFBSWdDLEVBQVF4RixLQUFLb0UsSUFBSSxFQUFHLEVBQUlqckIsRUFBYSxHQUV6QytwQixFQUFTenZCLEtBQU1xQixFQUFPOHBCLEVBQVF6bEIsRUFBWXFzQixFQUFRLEdBQUlBLEdBR3hELElBQUkzeEIsRUFBSSxFQUNKZ3dCLEVBQU0sRUFDTjRCLEVBQU0sRUFFVixJQURBaHlCLEtBQUttckIsR0FBa0IsSUFBUjlwQixJQUNOakIsRUFBSXNGLElBQWUwcUIsR0FBTyxNQUM3Qi91QixFQUFRLEdBQWEsSUFBUjJ3QixHQUFzQyxJQUF6Qmh5QixLQUFLbXJCLEVBQVMvcUIsRUFBSSxLQUM5QzR4QixFQUFNLEdBRVJoeUIsS0FBS21yQixFQUFTL3FCLElBQU9pQixFQUFRK3VCLEdBQVEsR0FBSzRCLEVBQU0sSUFHbEQsT0FBTzdHLEVBQVN6bEIsR0FHbEIyQixFQUFPckYsVUFBVWl3QixXQUFhLFNBQXFCNXdCLEVBQU84cEIsRUFBUXpsQixFQUFZcXFCLEdBRzVFLEdBRkExdUIsR0FBU0EsRUFDVDhwQixHQUFrQixHQUNiNEUsRUFBVSxDQUNiLElBQUlnQyxFQUFReEYsS0FBS29FLElBQUksRUFBRyxFQUFJanJCLEVBQWEsR0FFekMrcEIsRUFBU3p2QixLQUFNcUIsRUFBTzhwQixFQUFRemxCLEVBQVlxc0IsRUFBUSxHQUFJQSxHQUd4RCxJQUFJM3hCLEVBQUlzRixFQUFhLEVBQ2pCMHFCLEVBQU0sRUFDTjRCLEVBQU0sRUFFVixJQURBaHlCLEtBQUttckIsRUFBUy9xQixHQUFhLElBQVJpQixJQUNWakIsR0FBSyxJQUFNZ3dCLEdBQU8sTUFDckIvdUIsRUFBUSxHQUFhLElBQVIyd0IsR0FBc0MsSUFBekJoeUIsS0FBS21yQixFQUFTL3FCLEVBQUksS0FDOUM0eEIsRUFBTSxHQUVSaHlCLEtBQUttckIsRUFBUy9xQixJQUFPaUIsRUFBUSt1QixHQUFRLEdBQUs0QixFQUFNLElBR2xELE9BQU83RyxFQUFTemxCLEdBR2xCMkIsRUFBT3JGLFVBQVVrd0IsVUFBWSxTQUFvQjd3QixFQUFPOHBCLEVBQVE0RSxHQU85RCxPQU5BMXVCLEdBQVNBLEVBQ1Q4cEIsR0FBa0IsRUFDYjRFLEdBQVVOLEVBQVN6dkIsS0FBTXFCLEVBQU84cEIsRUFBUSxFQUFHLEtBQU8sS0FDbEQ5akIsRUFBT3NnQixzQkFBcUJ0bUIsRUFBUWtyQixLQUFLa0YsTUFBTXB3QixJQUNoREEsRUFBUSxJQUFHQSxFQUFRLElBQU9BLEVBQVEsR0FDdENyQixLQUFLbXJCLEdBQW1CLElBQVI5cEIsRUFDVDhwQixFQUFTLEdBR2xCOWpCLEVBQU9yRixVQUFVbXdCLGFBQWUsU0FBdUI5d0IsRUFBTzhwQixFQUFRNEUsR0FVcEUsT0FUQTF1QixHQUFTQSxFQUNUOHBCLEdBQWtCLEVBQ2I0RSxHQUFVTixFQUFTenZCLEtBQU1xQixFQUFPOHBCLEVBQVEsRUFBRyxPQUFTLE9BQ3JEOWpCLEVBQU9zZ0IscUJBQ1QzbkIsS0FBS21yQixHQUFtQixJQUFSOXBCLEVBQ2hCckIsS0FBS21yQixFQUFTLEdBQU05cEIsSUFBVSxHQUU5QnF1QixFQUFrQjF2QixLQUFNcUIsRUFBTzhwQixHQUFRLEdBRWxDQSxFQUFTLEdBR2xCOWpCLEVBQU9yRixVQUFVb3dCLGFBQWUsU0FBdUIvd0IsRUFBTzhwQixFQUFRNEUsR0FVcEUsT0FUQTF1QixHQUFTQSxFQUNUOHBCLEdBQWtCLEVBQ2I0RSxHQUFVTixFQUFTenZCLEtBQU1xQixFQUFPOHBCLEVBQVEsRUFBRyxPQUFTLE9BQ3JEOWpCLEVBQU9zZ0IscUJBQ1QzbkIsS0FBS21yQixHQUFXOXBCLElBQVUsRUFDMUJyQixLQUFLbXJCLEVBQVMsR0FBYyxJQUFSOXBCLEdBRXBCcXVCLEVBQWtCMXZCLEtBQU1xQixFQUFPOHBCLEdBQVEsR0FFbENBLEVBQVMsR0FHbEI5akIsRUFBT3JGLFVBQVVxd0IsYUFBZSxTQUF1Qmh4QixFQUFPOHBCLEVBQVE0RSxHQVlwRSxPQVhBMXVCLEdBQVNBLEVBQ1Q4cEIsR0FBa0IsRUFDYjRFLEdBQVVOLEVBQVN6dkIsS0FBTXFCLEVBQU84cEIsRUFBUSxFQUFHLFlBQWEsWUFDekQ5akIsRUFBT3NnQixxQkFDVDNuQixLQUFLbXJCLEdBQW1CLElBQVI5cEIsRUFDaEJyQixLQUFLbXJCLEVBQVMsR0FBTTlwQixJQUFVLEVBQzlCckIsS0FBS21yQixFQUFTLEdBQU05cEIsSUFBVSxHQUM5QnJCLEtBQUttckIsRUFBUyxHQUFNOXBCLElBQVUsSUFFOUJ1dUIsRUFBa0I1dkIsS0FBTXFCLEVBQU84cEIsR0FBUSxHQUVsQ0EsRUFBUyxHQUdsQjlqQixFQUFPckYsVUFBVXN3QixhQUFlLFNBQXVCanhCLEVBQU84cEIsRUFBUTRFLEdBYXBFLE9BWkExdUIsR0FBU0EsRUFDVDhwQixHQUFrQixFQUNiNEUsR0FBVU4sRUFBU3p2QixLQUFNcUIsRUFBTzhwQixFQUFRLEVBQUcsWUFBYSxZQUN6RDlwQixFQUFRLElBQUdBLEVBQVEsV0FBYUEsRUFBUSxHQUN4Q2dHLEVBQU9zZ0IscUJBQ1QzbkIsS0FBS21yQixHQUFXOXBCLElBQVUsR0FDMUJyQixLQUFLbXJCLEVBQVMsR0FBTTlwQixJQUFVLEdBQzlCckIsS0FBS21yQixFQUFTLEdBQU05cEIsSUFBVSxFQUM5QnJCLEtBQUttckIsRUFBUyxHQUFjLElBQVI5cEIsR0FFcEJ1dUIsRUFBa0I1dkIsS0FBTXFCLEVBQU84cEIsR0FBUSxHQUVsQ0EsRUFBUyxHQWdCbEI5akIsRUFBT3JGLFVBQVV1d0IsYUFBZSxTQUF1Qmx4QixFQUFPOHBCLEVBQVE0RSxHQUNwRSxPQUFPRCxFQUFXOXZCLEtBQU1xQixFQUFPOHBCLEdBQVEsRUFBTTRFLElBRy9DMW9CLEVBQU9yRixVQUFVd3dCLGFBQWUsU0FBdUJueEIsRUFBTzhwQixFQUFRNEUsR0FDcEUsT0FBT0QsRUFBVzl2QixLQUFNcUIsRUFBTzhwQixHQUFRLEVBQU80RSxJQVdoRDFvQixFQUFPckYsVUFBVXl3QixjQUFnQixTQUF3QnB4QixFQUFPOHBCLEVBQVE0RSxHQUN0RSxPQUFPQyxFQUFZaHdCLEtBQU1xQixFQUFPOHBCLEdBQVEsRUFBTTRFLElBR2hEMW9CLEVBQU9yRixVQUFVMHdCLGNBQWdCLFNBQXdCcnhCLEVBQU84cEIsRUFBUTRFLEdBQ3RFLE9BQU9DLEVBQVlod0IsS0FBTXFCLEVBQU84cEIsR0FBUSxFQUFPNEUsSUFJakQxb0IsRUFBT3JGLFVBQVUrbUIsS0FBTyxTQUFlL2xCLEVBQVEydkIsRUFBYWpKLEVBQU9DLEdBUWpFLEdBUEtELElBQU9BLEVBQVEsR0FDZkMsR0FBZSxJQUFSQSxJQUFXQSxFQUFNM3BCLEtBQUs4RCxRQUM5QjZ1QixHQUFlM3ZCLEVBQU9jLFNBQVE2dUIsRUFBYzN2QixFQUFPYyxRQUNsRDZ1QixJQUFhQSxFQUFjLEdBQzVCaEosRUFBTSxHQUFLQSxFQUFNRCxJQUFPQyxFQUFNRCxHQUc5QkMsSUFBUUQsRUFBTyxPQUFPLEVBQzFCLEdBQXNCLElBQWxCMW1CLEVBQU9jLFFBQWdDLElBQWhCOUQsS0FBSzhELE9BQWMsT0FBTyxFQUdyRCxHQUFJNnVCLEVBQWMsRUFDaEIsTUFBTSxJQUFJN0ssV0FBVyw2QkFFdkIsR0FBSTRCLEVBQVEsR0FBS0EsR0FBUzFwQixLQUFLOEQsT0FBUSxNQUFNLElBQUlna0IsV0FBVyw2QkFDNUQsR0FBSTZCLEVBQU0sRUFBRyxNQUFNLElBQUk3QixXQUFXLDJCQUc5QjZCLEVBQU0zcEIsS0FBSzhELFNBQVE2bEIsRUFBTTNwQixLQUFLOEQsUUFDOUJkLEVBQU9jLE9BQVM2dUIsRUFBY2hKLEVBQU1ELElBQ3RDQyxFQUFNM21CLEVBQU9jLE9BQVM2dUIsRUFBY2pKLEdBR3RDLElBQ0l0cEIsRUFEQXdYLEVBQU0rUixFQUFNRCxFQUdoQixHQUFJMXBCLE9BQVNnRCxHQUFVMG1CLEVBQVFpSixHQUFlQSxFQUFjaEosRUFFMUQsSUFBS3ZwQixFQUFJd1gsRUFBTSxFQUFHeFgsR0FBSyxJQUFLQSxFQUMxQjRDLEVBQU81QyxFQUFJdXlCLEdBQWUzeUIsS0FBS0ksRUFBSXNwQixRQUVoQyxHQUFJOVIsRUFBTSxNQUFTdlEsRUFBT3NnQixvQkFFL0IsSUFBS3ZuQixFQUFJLEVBQUdBLEVBQUl3WCxJQUFPeFgsRUFDckI0QyxFQUFPNUMsRUFBSXV5QixHQUFlM3lCLEtBQUtJLEVBQUlzcEIsUUFHckNobEIsV0FBVzFDLFVBQVU2RCxJQUFJdEYsS0FDdkJ5QyxFQUNBaEQsS0FBS3V0QixTQUFTN0QsRUFBT0EsRUFBUTlSLEdBQzdCK2EsR0FJSixPQUFPL2EsR0FPVHZRLEVBQU9yRixVQUFVNHJCLEtBQU8sU0FBZTVFLEVBQUtVLEVBQU9DLEVBQUszaUIsR0FFdEQsR0FBbUIsaUJBQVJnaUIsRUFBa0IsQ0FTM0IsR0FScUIsaUJBQVZVLEdBQ1QxaUIsRUFBVzBpQixFQUNYQSxFQUFRLEVBQ1JDLEVBQU0zcEIsS0FBSzhELFFBQ2EsaUJBQVI2bEIsSUFDaEIzaUIsRUFBVzJpQixFQUNYQSxFQUFNM3BCLEtBQUs4RCxRQUVNLElBQWZrbEIsRUFBSWxsQixPQUFjLENBQ3BCLElBQUk4RyxFQUFPb2UsRUFBSTZDLFdBQVcsR0FDdEJqaEIsRUFBTyxNQUNUb2UsRUFBTXBlLEdBR1YsUUFBaUI1RixJQUFiZ0MsR0FBOEMsaUJBQWJBLEVBQ25DLE1BQU0sSUFBSW1oQixVQUFVLDZCQUV0QixHQUF3QixpQkFBYm5oQixJQUEwQkssRUFBT29oQixXQUFXemhCLEdBQ3JELE1BQU0sSUFBSW1oQixVQUFVLHFCQUF1Qm5oQixPQUVyQixpQkFBUmdpQixJQUNoQkEsR0FBWSxLQUlkLEdBQUlVLEVBQVEsR0FBSzFwQixLQUFLOEQsT0FBUzRsQixHQUFTMXBCLEtBQUs4RCxPQUFTNmxCLEVBQ3BELE1BQU0sSUFBSTdCLFdBQVcsc0JBR3ZCLEdBQUk2QixHQUFPRCxFQUNULE9BQU8xcEIsS0FRVCxJQUFJSSxFQUNKLEdBTkFzcEIsS0FBa0IsRUFDbEJDLE9BQWMza0IsSUFBUjJrQixFQUFvQjNwQixLQUFLOEQsT0FBUzZsQixJQUFRLEVBRTNDWCxJQUFLQSxFQUFNLEdBR0csaUJBQVJBLEVBQ1QsSUFBSzVvQixFQUFJc3BCLEVBQU90cEIsRUFBSXVwQixJQUFPdnBCLEVBQ3pCSixLQUFLSSxHQUFLNG9CLE1BRVAsQ0FDTCxJQUFJc0csRUFBUWpvQixFQUFPd2hCLFNBQVNHLEdBQ3hCQSxFQUNBTSxFQUFZLElBQUlqaUIsRUFBTzJoQixFQUFLaGlCLEdBQVV4QyxZQUN0Q29ULEVBQU0wWCxFQUFNeHJCLE9BQ2hCLElBQUsxRCxFQUFJLEVBQUdBLEVBQUl1cEIsRUFBTUQsSUFBU3RwQixFQUM3QkosS0FBS0ksRUFBSXNwQixHQUFTNEYsRUFBTWx2QixFQUFJd1gsR0FJaEMsT0FBTzVYLE1BTVQsSUFBSTR5QixFQUFvQixxQkFtQnhCLFNBQVN2RCxFQUFPeHRCLEdBQ2QsT0FBSUEsRUFBSSxHQUFXLElBQU1BLEVBQUUyQyxTQUFTLElBQzdCM0MsRUFBRTJDLFNBQVMsSUFHcEIsU0FBUzhrQixFQUFhZCxFQUFRMEQsR0FFNUIsSUFBSVksRUFESlosRUFBUUEsR0FBUzJHLElBTWpCLElBSkEsSUFBSS91QixFQUFTMGtCLEVBQU8xa0IsT0FDaEJndkIsRUFBZ0IsS0FDaEJ4RCxFQUFRLEdBRUhsdkIsRUFBSSxFQUFHQSxFQUFJMEQsSUFBVTFELEVBQUcsQ0FJL0IsSUFIQTBzQixFQUFZdEUsRUFBT3FELFdBQVd6ckIsSUFHZCxPQUFVMHNCLEVBQVksTUFBUSxDQUU1QyxJQUFLZ0csRUFBZSxDQUVsQixHQUFJaEcsRUFBWSxNQUFRLEVBRWpCWixHQUFTLElBQU0sR0FBR29ELEVBQU16cUIsS0FBSyxJQUFNLElBQU0sS0FDOUMsU0FDSyxHQUFJekUsRUFBSSxJQUFNMEQsRUFBUSxFQUV0Qm9vQixHQUFTLElBQU0sR0FBR29ELEVBQU16cUIsS0FBSyxJQUFNLElBQU0sS0FDOUMsU0FJRml1QixFQUFnQmhHLEVBRWhCLFNBSUYsR0FBSUEsRUFBWSxNQUFRLEVBQ2pCWixHQUFTLElBQU0sR0FBR29ELEVBQU16cUIsS0FBSyxJQUFNLElBQU0sS0FDOUNpdUIsRUFBZ0JoRyxFQUNoQixTQUlGQSxFQUFrRSxPQUFyRGdHLEVBQWdCLE9BQVUsR0FBS2hHLEVBQVksWUFDL0NnRyxJQUVKNUcsR0FBUyxJQUFNLEdBQUdvRCxFQUFNenFCLEtBQUssSUFBTSxJQUFNLEtBTWhELEdBSEFpdUIsRUFBZ0IsS0FHWmhHLEVBQVksSUFBTSxDQUNwQixJQUFLWixHQUFTLEdBQUssRUFBRyxNQUN0Qm9ELEVBQU16cUIsS0FBS2lvQixRQUNOLEdBQUlBLEVBQVksS0FBTyxDQUM1QixJQUFLWixHQUFTLEdBQUssRUFBRyxNQUN0Qm9ELEVBQU16cUIsS0FDSmlvQixHQUFhLEVBQU0sSUFDUCxHQUFaQSxFQUFtQixVQUVoQixHQUFJQSxFQUFZLE1BQVMsQ0FDOUIsSUFBS1osR0FBUyxHQUFLLEVBQUcsTUFDdEJvRCxFQUFNenFCLEtBQ0ppb0IsR0FBYSxHQUFNLElBQ25CQSxHQUFhLEVBQU0sR0FBTyxJQUNkLEdBQVpBLEVBQW1CLFNBRWhCLE1BQUlBLEVBQVksU0FTckIsTUFBTSxJQUFJM2pCLE1BQU0sc0JBUmhCLElBQUsraUIsR0FBUyxHQUFLLEVBQUcsTUFDdEJvRCxFQUFNenFCLEtBQ0ppb0IsR0FBYSxHQUFPLElBQ3BCQSxHQUFhLEdBQU0sR0FBTyxJQUMxQkEsR0FBYSxFQUFNLEdBQU8sSUFDZCxHQUFaQSxFQUFtQixNQU96QixPQUFPd0MsRUE0QlQsU0FBUy9GLEVBQWVsaEIsR0FDdEIsT0FBT21mLEVBQU91TCxZQWhJaEIsU0FBc0IxcUIsR0FJcEIsSUFGQUEsRUFVRixTQUFxQkEsR0FDbkIsT0FBSUEsRUFBSTJxQixLQUFhM3FCLEVBQUkycUIsT0FDbEIzcUIsRUFBSTlFLFFBQVEsYUFBYyxJQVozQjB2QixDQUFXNXFCLEdBQUs5RSxRQUFRcXZCLEVBQW1CLEtBRXpDOXVCLE9BQVMsRUFBRyxNQUFPLEdBRTNCLEtBQU91RSxFQUFJdkUsT0FBUyxHQUFNLEdBQ3hCdUUsR0FBWSxJQUVkLE9BQU9BLEVBdUhtQjZxQixDQUFZN3FCLElBR3hDLFNBQVNxakIsRUFBWXlILEVBQUtDLEVBQUtqSSxFQUFRcm5CLEdBQ3JDLElBQUssSUFBSTFELEVBQUksRUFBR0EsRUFBSTBELEtBQ2IxRCxFQUFJK3FCLEdBQVVpSSxFQUFJdHZCLFFBQVkxRCxHQUFLK3lCLEVBQUlydkIsVUFEaEIxRCxFQUU1Qmd6QixFQUFJaHpCLEVBQUkrcUIsR0FBVWdJLEVBQUkveUIsR0FFeEIsT0FBT0EsSyw4Q0NydkRUUixFQUFROEYsV0F1Q1IsU0FBcUIydEIsR0FDbkIsSUFBSUMsRUFBT0MsRUFBUUYsR0FDZkcsRUFBV0YsRUFBSyxHQUNoQkcsRUFBa0JILEVBQUssR0FDM0IsT0FBdUMsR0FBOUJFLEVBQVdDLEdBQXVCLEVBQUtBLEdBMUNsRDd6QixFQUFRbXpCLFlBaURSLFNBQXNCTSxHQUNwQixJQUFJSyxFQWNBdHpCLEVBYkFrekIsRUFBT0MsRUFBUUYsR0FDZkcsRUFBV0YsRUFBSyxHQUNoQkcsRUFBa0JILEVBQUssR0FFdkI5SSxFQUFNLElBQUltSixFQVZoQixTQUFzQk4sRUFBS0csRUFBVUMsR0FDbkMsT0FBdUMsR0FBOUJELEVBQVdDLEdBQXVCLEVBQUtBLEVBUzlCRyxDQUFZUCxFQUFLRyxFQUFVQyxJQUV6Q0ksRUFBVSxFQUdWamMsRUFBTTZiLEVBQWtCLEVBQ3hCRCxFQUFXLEVBQ1hBLEVBR0osSUFBS3B6QixFQUFJLEVBQUdBLEVBQUl3WCxFQUFLeFgsR0FBSyxFQUN4QnN6QixFQUNHSSxFQUFVVCxFQUFJeEgsV0FBV3pyQixLQUFPLEdBQ2hDMHpCLEVBQVVULEVBQUl4SCxXQUFXenJCLEVBQUksS0FBTyxHQUNwQzB6QixFQUFVVCxFQUFJeEgsV0FBV3pyQixFQUFJLEtBQU8sRUFDckMwekIsRUFBVVQsRUFBSXhILFdBQVd6ckIsRUFBSSxJQUMvQm9xQixFQUFJcUosS0FBY0gsR0FBTyxHQUFNLElBQy9CbEosRUFBSXFKLEtBQWNILEdBQU8sRUFBSyxJQUM5QmxKLEVBQUlxSixLQUFtQixJQUFOSCxFQUdLLElBQXBCRCxJQUNGQyxFQUNHSSxFQUFVVCxFQUFJeEgsV0FBV3pyQixLQUFPLEVBQ2hDMHpCLEVBQVVULEVBQUl4SCxXQUFXenJCLEVBQUksS0FBTyxFQUN2Q29xQixFQUFJcUosS0FBbUIsSUFBTkgsR0FHSyxJQUFwQkQsSUFDRkMsRUFDR0ksRUFBVVQsRUFBSXhILFdBQVd6ckIsS0FBTyxHQUNoQzB6QixFQUFVVCxFQUFJeEgsV0FBV3pyQixFQUFJLEtBQU8sRUFDcEMwekIsRUFBVVQsRUFBSXhILFdBQVd6ckIsRUFBSSxLQUFPLEVBQ3ZDb3FCLEVBQUlxSixLQUFjSCxHQUFPLEVBQUssSUFDOUJsSixFQUFJcUosS0FBbUIsSUFBTkgsR0FHbkIsT0FBT2xKLEdBM0ZUNXFCLEVBQVEwc0IsY0FrSFIsU0FBd0J5SCxHQVF0QixJQVBBLElBQUlMLEVBQ0E5YixFQUFNbWMsRUFBTWp3QixPQUNaa3dCLEVBQWFwYyxFQUFNLEVBQ25CaFUsRUFBUSxHQUlIeEQsRUFBSSxFQUFHNnpCLEVBQU9yYyxFQUFNb2MsRUFBWTV6QixFQUFJNnpCLEVBQU03ekIsR0FIOUIsTUFJbkJ3RCxFQUFNaUIsS0FBS3F2QixFQUNUSCxFQUFPM3pCLEVBQUlBLEVBTE0sTUFLZ0I2ekIsRUFBT0EsRUFBUTd6QixFQUwvQixRQVVGLElBQWY0ekIsR0FDRk4sRUFBTUssRUFBTW5jLEVBQU0sR0FDbEJoVSxFQUFNaUIsS0FDSjZkLEVBQU9nUixHQUFPLEdBQ2RoUixFQUFRZ1IsR0FBTyxFQUFLLElBQ3BCLE9BRXNCLElBQWZNLElBQ1ROLEdBQU9LLEVBQU1uYyxFQUFNLElBQU0sR0FBS21jLEVBQU1uYyxFQUFNLEdBQzFDaFUsRUFBTWlCLEtBQ0o2ZCxFQUFPZ1IsR0FBTyxJQUNkaFIsRUFBUWdSLEdBQU8sRUFBSyxJQUNwQmhSLEVBQVFnUixHQUFPLEVBQUssSUFDcEIsTUFJSixPQUFPOXZCLEVBQU1NLEtBQUssS0EzSXBCLElBTEEsSUFBSXdlLEVBQVMsR0FDVG9SLEVBQVksR0FDWkgsRUFBNEIsb0JBQWZqdkIsV0FBNkJBLFdBQWF6QixNQUV2RDJILEVBQU8sbUVBQ0Z4SyxFQUFJLEVBQUd3WCxFQUFNaE4sRUFBSzlHLE9BQVExRCxFQUFJd1gsSUFBT3hYLEVBQzVDc2lCLEVBQU90aUIsR0FBS3dLLEVBQUt4SyxHQUNqQjB6QixFQUFVbHBCLEVBQUtpaEIsV0FBV3pyQixJQUFNQSxFQVFsQyxTQUFTbXpCLEVBQVNGLEdBQ2hCLElBQUl6YixFQUFNeWIsRUFBSXZ2QixPQUVkLEdBQUk4VCxFQUFNLEVBQUksRUFDWixNQUFNLElBQUl6TyxNQUFNLGtEQUtsQixJQUFJcXFCLEVBQVdILEVBQUl6dUIsUUFBUSxLQU8zQixPQU5rQixJQUFkNHVCLElBQWlCQSxFQUFXNWIsR0FNekIsQ0FBQzRiLEVBSmNBLElBQWE1YixFQUMvQixFQUNBLEVBQUs0YixFQUFXLEdBc0V0QixTQUFTVSxFQUFhSCxFQUFPckssRUFBT0MsR0FHbEMsSUFGQSxJQUFJK0osRUFSb0JTLEVBU3BCQyxFQUFTLEdBQ0poMEIsRUFBSXNwQixFQUFPdHBCLEVBQUl1cEIsRUFBS3ZwQixHQUFLLEVBQ2hDc3pCLEdBQ0lLLEVBQU0zekIsSUFBTSxHQUFNLFdBQ2xCMnpCLEVBQU0zekIsRUFBSSxJQUFNLEVBQUssUUFDUCxJQUFmMnpCLEVBQU0zekIsRUFBSSxJQUNiZzBCLEVBQU92dkIsS0FkRjZkLEdBRGlCeVIsRUFlTVQsSUFkVCxHQUFLLElBQ3hCaFIsRUFBT3lSLEdBQU8sR0FBSyxJQUNuQnpSLEVBQU95UixHQUFPLEVBQUksSUFDbEJ6UixFQUFhLEdBQU55UixJQWFULE9BQU9DLEVBQU9sd0IsS0FBSyxJQWpHckI0dkIsRUFBVSxJQUFJakksV0FBVyxJQUFNLEdBQy9CaUksRUFBVSxJQUFJakksV0FBVyxJQUFNLEksY0NuQi9CanNCLEVBQVFnckIsS0FBTyxTQUFVeGpCLEVBQVErakIsRUFBUWtKLEVBQU1DLEVBQU1DLEdBQ25ELElBQUkvdEIsRUFBR2hHLEVBQ0hnMEIsRUFBaUIsRUFBVEQsRUFBY0QsRUFBTyxFQUM3QkcsR0FBUSxHQUFLRCxHQUFRLEVBQ3JCRSxFQUFRRCxHQUFRLEVBQ2hCRSxHQUFTLEVBQ1R2MEIsRUFBSWkwQixFQUFRRSxFQUFTLEVBQUssRUFDMUI3ekIsRUFBSTJ6QixHQUFRLEVBQUksRUFDaEJseUIsRUFBSWlGLEVBQU8rakIsRUFBUy9xQixHQU94QixJQUxBQSxHQUFLTSxFQUVMOEYsRUFBSXJFLEdBQU0sSUFBT3d5QixHQUFVLEVBQzNCeHlCLEtBQVF3eUIsRUFDUkEsR0FBU0gsRUFDRkcsRUFBUSxFQUFHbnVCLEVBQVMsSUFBSkEsRUFBV1ksRUFBTytqQixFQUFTL3FCLEdBQUlBLEdBQUtNLEVBQUdpMEIsR0FBUyxHQUt2RSxJQUhBbjBCLEVBQUlnRyxHQUFNLElBQU9tdUIsR0FBVSxFQUMzQm51QixLQUFRbXVCLEVBQ1JBLEdBQVNMLEVBQ0ZLLEVBQVEsRUFBR24wQixFQUFTLElBQUpBLEVBQVc0RyxFQUFPK2pCLEVBQVMvcUIsR0FBSUEsR0FBS00sRUFBR2kwQixHQUFTLEdBRXZFLEdBQVUsSUFBTm51QixFQUNGQSxFQUFJLEVBQUlrdUIsTUFDSCxJQUFJbHVCLElBQU1pdUIsRUFDZixPQUFPajBCLEVBQUlvMEIsSUFBc0IvQixLQUFkMXdCLEdBQUssRUFBSSxHQUU1QjNCLEdBQVErckIsS0FBS29FLElBQUksRUFBRzJELEdBQ3BCOXRCLEdBQVFrdUIsRUFFVixPQUFRdnlCLEdBQUssRUFBSSxHQUFLM0IsRUFBSStyQixLQUFLb0UsSUFBSSxFQUFHbnFCLEVBQUk4dEIsSUFHNUMxMEIsRUFBUStvQixNQUFRLFNBQVV2aEIsRUFBUS9GLEVBQU84cEIsRUFBUWtKLEVBQU1DLEVBQU1DLEdBQzNELElBQUkvdEIsRUFBR2hHLEVBQUdDLEVBQ04rekIsRUFBaUIsRUFBVEQsRUFBY0QsRUFBTyxFQUM3QkcsR0FBUSxHQUFLRCxHQUFRLEVBQ3JCRSxFQUFRRCxHQUFRLEVBQ2hCSSxFQUFlLEtBQVRQLEVBQWMvSCxLQUFLb0UsSUFBSSxHQUFJLElBQU1wRSxLQUFLb0UsSUFBSSxHQUFJLElBQU0sRUFDMUR2d0IsRUFBSWkwQixFQUFPLEVBQUtFLEVBQVMsRUFDekI3ekIsRUFBSTJ6QixFQUFPLEdBQUssRUFDaEJseUIsRUFBSWQsRUFBUSxHQUFnQixJQUFWQSxHQUFlLEVBQUlBLEVBQVEsRUFBSyxFQUFJLEVBbUMxRCxJQWpDQUEsRUFBUWtyQixLQUFLdUksSUFBSXp6QixHQUViZ3BCLE1BQU1ocEIsSUFBVUEsSUFBVXd4QixLQUM1QnJ5QixFQUFJNnBCLE1BQU1ocEIsR0FBUyxFQUFJLEVBQ3ZCbUYsRUFBSWl1QixJQUVKanVCLEVBQUkrbEIsS0FBS2tGLE1BQU1sRixLQUFLMWpCLElBQUl4SCxHQUFTa3JCLEtBQUt3SSxLQUNsQzF6QixHQUFTWixFQUFJOHJCLEtBQUtvRSxJQUFJLEdBQUlucUIsSUFBTSxJQUNsQ0EsSUFDQS9GLEdBQUssSUFHTFksR0FERW1GLEVBQUlrdUIsR0FBUyxFQUNORyxFQUFLcDBCLEVBRUxvMEIsRUFBS3RJLEtBQUtvRSxJQUFJLEVBQUcsRUFBSStELElBRXBCajBCLEdBQUssSUFDZitGLElBQ0EvRixHQUFLLEdBR0grRixFQUFJa3VCLEdBQVNELEdBQ2ZqMEIsRUFBSSxFQUNKZ0csRUFBSWl1QixHQUNLanVCLEVBQUlrdUIsR0FBUyxHQUN0QmwwQixHQUFNYSxFQUFRWixFQUFLLEdBQUs4ckIsS0FBS29FLElBQUksRUFBRzJELEdBQ3BDOXRCLEdBQVFrdUIsSUFFUmwwQixFQUFJYSxFQUFRa3JCLEtBQUtvRSxJQUFJLEVBQUcrRCxFQUFRLEdBQUtuSSxLQUFLb0UsSUFBSSxFQUFHMkQsR0FDakQ5dEIsRUFBSSxJQUlEOHRCLEdBQVEsRUFBR2x0QixFQUFPK2pCLEVBQVMvcUIsR0FBUyxJQUFKSSxFQUFVSixHQUFLTSxFQUFHRixHQUFLLElBQUs4ekIsR0FBUSxHQUkzRSxJQUZBOXRCLEVBQUtBLEdBQUs4dEIsRUFBUTl6QixFQUNsQmcwQixHQUFRRixFQUNERSxFQUFPLEVBQUdwdEIsRUFBTytqQixFQUFTL3FCLEdBQVMsSUFBSm9HLEVBQVVwRyxHQUFLTSxFQUFHOEYsR0FBSyxJQUFLZ3VCLEdBQVEsR0FFMUVwdEIsRUFBTytqQixFQUFTL3FCLEVBQUlNLElBQVUsSUFBSnlCLEksY0NsRjVCLElBQUlxQyxFQUFXLEdBQUdBLFNBRWxCM0UsRUFBT0QsUUFBVXFELE1BQU11QyxTQUFXLFNBQVVnbEIsR0FDMUMsTUFBNkIsa0JBQXRCaG1CLEVBQVNqRSxLQUFLaXFCLEssZ0JDSHZCLFVBV0ksRUFBTyxRQUFXLDBCQUFQLEVBUVAsV0FJTyxJQUNUdm9CLEVBQ0greUIsRUFDQUMsRUFTQUMsRUFiRXAwQixPQUFPc08sT0FDWHRPLE9BQU9zTyxNQUNGbk4sRUFBaUJuQixPQUFPa0IsVUFBVUMsZUFDckMreUIsR0FBa0IsQ0FBRXh3QixTQUFVLE1BQU8yd0IscUJBQXFCLFlBVTFERCxHQVRBRCxFQUFZLENBQ1gsV0FDQSxpQkFDQSxVQUNBLGlCQUNBLGdCQUNBLHVCQUNBLGdCQUUyQm54QixPQUV0QixTQUFVaUIsR0FDaEIsR0FBbUIsaUJBQVJBLEdBQW1DLG1CQUFSQSxHQUE4QixPQUFSQSxFQUMzRCxNQUFNLElBQUlvakIsVUFBVSxvQ0FHckIsSUFBSWxnQixFQUFTLEdBRWIsSUFBSyxJQUFJbXRCLEtBQVFyd0IsRUFDWjlDLEVBQWUxQixLQUFLd0UsRUFBS3F3QixJQUM1Qm50QixFQUFPcEQsS0FBS3V3QixHQUlkLEdBQUlKLEVBQ0gsSUFBSyxJQUFJNTBCLEVBQUUsRUFBR0EsRUFBSTgwQixFQUFpQjkwQixJQUM5QjZCLEVBQWUxQixLQUFLd0UsRUFBS2t3QixFQUFVNzBCLEtBQ3RDNkgsRUFBT3BELEtBQUtvd0IsRUFBVTcwQixJQUl6QixPQUFPNkgsS0FLTG5ILE9BQU9ZLFNBQ1haLE9BQU9ZLE9BQVMsV0FDZixTQUFTMnpCLEtBRVQsT0FBTyxTQUFTeDBCLEdBQ2YsR0FBeUIsSUFBckIydEIsVUFBVTFxQixPQUNiLE1BQU0sSUFBSXFGLE1BQU0sNERBR2pCLE9BREFrc0IsRUFBRXJ6QixVQUFZbkIsRUFDUCxJQUFJdzBCLEdBUkcsSUFhYnB5QixNQUFNdUMsVUFDVHZDLE1BQU11QyxRQUFVLFNBQVU4dkIsR0FDekIsTUFBZ0QsbUJBQXpDeDBCLE9BQU9rQixVQUFVd0MsU0FBU2pFLEtBQUsrMEIsS0FJbkNyeUIsTUFBTWpCLFVBQVU0QyxVQUNwQjNCLE1BQU1qQixVQUFVNEMsUUFBVSxTQUFVMndCLEdBQ25DLEdBQWEsT0FBVHYxQixLQUNILE1BQU0sSUFBSW1vQixVQUVYLElBQUk3bUIsRUFBSVIsT0FBT2QsTUFDWDRYLEVBQU10VyxFQUFFd0MsU0FBVyxFQUV2QixHQUFZLElBQVI4VCxFQUNILE9BQVEsRUFFVCxJQUFJL1YsRUFBSSxFQVNSLEdBUkkyc0IsVUFBVTFxQixPQUFTLEtBQ3RCakMsRUFBSXVwQixPQUFPb0QsVUFBVSxNQUNYM3NCLEVBQ1RBLEVBQUksRUFDWSxJQUFOQSxHQUFXQSxJQUFNZ3hCLEtBQVloeEIsS0FBTSxNQUM3Q0EsR0FBS0EsRUFBSSxJQUFNLEdBQUswcUIsS0FBS2tGLE1BQU1sRixLQUFLdUksSUFBSWp6QixNQUd0Q0EsR0FBSytWLEVBQ1IsT0FBUSxFQUdULElBREEsSUFBSTRkLEVBQUkzekIsR0FBSyxFQUFJQSxFQUFJMHFCLEtBQUtvQyxJQUFJL1csRUFBTTJVLEtBQUt1SSxJQUFJanpCLEdBQUksR0FDMUMyekIsRUFBSTVkLEVBQUs0ZCxJQUNmLEdBQUlBLEtBQUtsMEIsR0FBS0EsRUFBRWswQixLQUFPRCxFQUN0QixPQUFPQyxFQUdULE9BQVEsSUFLTDEwQixPQUFPMjBCLFdBQ1gzMEIsT0FBTzIwQixTQUFXLFNBQVUxd0IsR0FFM0IsSUFEQSxJQUFJcEQsRUFBTSxzQkFDSG9ELEVBQUk5QyxlQUFlTixJQUN6QkEsR0FBTzRxQixLQUFLbUosU0FFYixJQUdDLE9BRkEzd0IsRUFBSXBELElBQU8sU0FDSm9ELEVBQUlwRCxJQUNKLEVBQ04sTUFBTzZFLEdBQ1IsT0FBTyxLQU1WLElBQUltdkIsRUFBNkIsQ0FDaEMsS0FBSyxFQUNMLEtBQUssRUFDTCxLQUFLLEVBQ0wsS0FBSyxFQUNMLEtBQUssRUFDTCxLQUFLLEVBQ0wsS0FBSyxHQUVGQyxFQUFzQixDQUN6QixLQUFLLEdBR04sU0FBU0MsRUFBdUJyTixHQUMvQixPQUFPc04sVUFBVXROLEdBQVFqbEIsUUFBUSxrQkFBa0IsU0FBVXd5QixHQUM1RCxNQUFPLElBQU1BLEVBQWN2cUIsVUFBVSxNQUl2QyxTQUFTd3FCLEVBQXdCcmYsR0FDaEMsSUFBSXNmLEVBQVcsR0FDWE4sRUFBMkJoZixFQUFLdWYsT0FBTyxNQUMxQ0QsRUFBV3RmLEVBQUt1ZixPQUFPLEdBQ3ZCdmYsRUFBT0EsRUFBS25MLFVBQVUsSUFFdkIsSUFBSTJxQixFQUFZLEdBQ1pDLEVBQVMsR0FDVEMsR0FBZSxFQUNmQyxHQUFnQixFQUNoQkMsR0FBa0IsRUFDTCxNQUFiTixFQUNISSxHQUFlLEVBQ1EsTUFBYkosR0FDVkcsRUFBUyxJQUNURCxFQUFZLEtBQ1csTUFBYkYsR0FDVkcsRUFBUyxJQUNURCxFQUFZLEtBQ1csTUFBYkYsR0FDVkcsRUFBUyxJQUNUQyxHQUFlLEdBQ1EsTUFBYkosR0FDVkcsRUFBUyxJQUNURCxFQUFZLElBQ1pHLEdBQWdCLEVBQ2hCQyxHQUFrQixHQUNLLE1BQWJOLEdBQ1ZHLEVBQVMsSUFDVEQsRUFBWSxJQUNaRyxHQUFnQixHQUNPLE1BQWJMLElBQ1ZHLEVBQVMsSUFDVEQsRUFBWSxJQUNaRyxHQUFnQixHQU9qQixJQUpBLElBQUlFLEVBQVcsR0FDWEMsRUFBVTlmLEVBQUs5UyxNQUFNLEtBQ3JCNnlCLEVBQVcsR0FDWEMsRUFBYSxHQUNSdjJCLEVBQUksRUFBR0EsRUFBSXEyQixFQUFRM3lCLE9BQVExRCxJQUFLLENBQ3hDLElBQUl3MkIsRUFBVUgsRUFBUXIyQixHQUNsQnkyQixFQUFXLEtBQ2YsSUFBOEIsSUFBMUJELEVBQVFoeUIsUUFBUSxLQUFhLENBQ2hDLElBQUloQixFQUFRZ3pCLEVBQVEveUIsTUFBTSxLQUMxQit5QixFQUFVaHpCLEVBQU0sR0FDaEJpekIsRUFBV3JMLFNBQVM1bkIsRUFBTSxHQUFJLElBRy9CLElBREEsSUFBSWt6QixFQUFXLEdBQ1JsQixFQUFvQmdCLEVBQVFWLE9BQU9VLEVBQVE5eUIsT0FBUyxLQUMxRGd6QixFQUFTRixFQUFRVixPQUFPVSxFQUFROXlCLE9BQVMsS0FBTSxFQUMvQzh5QixFQUFVQSxFQUFRcHJCLFVBQVUsRUFBR29yQixFQUFROXlCLE9BQVMsR0FFakQsSUFBSWl6QixFQUFVLENBQ2JGLFNBQVVBLEVBQ1ZsMkIsS0FBTWkyQixFQUNORSxTQUFVQSxHQUVYSixFQUFTN3hCLEtBQUtreUIsR0FDZEosRUFBV0MsR0FBV0csRUFDdEJQLEVBQVMzeEIsS0FBSyt4QixHQUVmLElBQUlJLEVBQWMsU0FBVUMsR0FHM0IsSUFGQSxJQUFJaHZCLEVBQVMsR0FDVGl2QixFQUFhLEVBQ1I5MkIsRUFBSSxFQUFHQSxFQUFJczJCLEVBQVM1eUIsT0FBUTFELElBQUssQ0FDekMsSUFBSTIyQixFQUFVTCxFQUFTdDJCLEdBQ25CaUIsRUFBUTQxQixFQUFjRixFQUFRcDJCLE1BQ2xDLEdBQUlVLFNBQTBDNEIsTUFBTXVDLFFBQVFuRSxJQUEyQixJQUFqQkEsRUFBTXlDLFFBQW1DLGlCQUFWekMsR0FBb0QsSUFBOUJQLE9BQU9zTyxLQUFLL04sR0FBT3lDLE9BQzdJb3pCLFNBUUQsR0FKQ2p2QixHQURHN0gsSUFBTTgyQixFQUNDZCxFQUVDRCxHQUFhLElBRXJCbHpCLE1BQU11QyxRQUFRbkUsR0FBUSxDQUNyQmkxQixJQUNIcnVCLEdBQVU4dUIsRUFBUXAyQixLQUFPLEtBRTFCLElBQUssSUFBSXNxQixFQUFJLEVBQUdBLEVBQUk1cEIsRUFBTXlDLE9BQVFtbkIsSUFDN0JBLEVBQUksSUFDUGhqQixHQUFVOHVCLEVBQVFELFNBQVMsTUFBUVgsR0FBb0IsSUFDbkRZLEVBQVFELFNBQVMsTUFBUVIsSUFDNUJydUIsR0FBVTh1QixFQUFRcDJCLEtBQU8sTUFHM0JzSCxHQUFVb3VCLEVBQWVweUIsbUJBQW1CNUMsRUFBTTRwQixJQUFJMW5CLFFBQVEsS0FBTSxPQUFTc3lCLEVBQXVCeDBCLEVBQU00cEIsU0FFckcsR0FBcUIsaUJBQVY1cEIsRUFBb0IsQ0FDakNpMUIsSUFBa0JTLEVBQVFELFNBQVMsT0FDdEM3dUIsR0FBVTh1QixFQUFRcDJCLEtBQU8sS0FFMUIsSUFBSXcyQixHQUFRLEVBQ1osSUFBSyxJQUFJeDFCLEtBQU9OLEVBQ1Y4MUIsSUFDSmx2QixHQUFVOHVCLEVBQVFELFNBQVMsTUFBUVgsR0FBb0IsS0FFeERnQixHQUFRLEVBQ1JsdkIsR0FBVW91QixFQUFlcHlCLG1CQUFtQnRDLEdBQUs0QixRQUFRLEtBQU0sT0FBU3N5QixFQUF1QmwwQixHQUMvRnNHLEdBQVU4dUIsRUFBUUQsU0FBUyxLQUFPLElBQU0sSUFDeEM3dUIsR0FBVW91QixFQUFlcHlCLG1CQUFtQjVDLEVBQU1NLElBQU00QixRQUFRLEtBQU0sT0FBU3N5QixFQUF1QngwQixFQUFNTSxTQUd6RzIwQixJQUNIcnVCLEdBQVU4dUIsRUFBUXAyQixLQUNiNDFCLEdBQTZCLEtBQVZsMUIsSUFDdkI0RyxHQUFVLE1BR1ksTUFBcEI4dUIsRUFBUUYsV0FDWHgxQixFQUFRQSxFQUFNbUssVUFBVSxFQUFHdXJCLEVBQVFGLFdBRXBDNXVCLEdBQVVvdUIsRUFBZXB5QixtQkFBbUI1QyxHQUFPa0MsUUFBUSxLQUFNLE9BQVFzeUIsRUFBdUJ4MEIsR0FHbEcsT0FBTzRHLEdBR1IsT0FEQSt1QixFQUFZUixTQUFXQSxFQUNoQixDQUNOSixPQUFRQSxFQUNSZ0IsYUFBY0osR0FJaEIsU0FBU0ssRUFBWUMsR0FDcEIsS0FBTXQzQixnQkFBZ0JxM0IsR0FDckIsT0FBTyxJQUFJQSxFQUFZQyxHQU94QixJQUxBLElBQUkxekIsRUFBUTB6QixFQUFTenpCLE1BQU0sS0FDdkIwekIsRUFBWSxDQUFDM3pCLEVBQU0yVixTQUNuQmllLEVBQVcsR0FDWEMsRUFBZ0IsR0FDaEJqQixFQUFXLEdBQ1I1eUIsRUFBTUUsT0FBUyxHQUFHLENBQ3hCLElBQUk0ekIsRUFBTzl6QixFQUFNMlYsUUFDYjVDLEVBQU8rZ0IsRUFBSzd6QixNQUFNLEtBQUssR0FDdkI4ekIsRUFBWUQsRUFBS2xzQixVQUFVbUwsRUFBSzdTLE9BQVMsR0FDekM4ekIsRUFBUTVCLEVBQXdCcmYsR0FDcEM4Z0IsRUFBYzV5QixLQUFLK3lCLEVBQU1SLGNBQ3pCSSxFQUFTM3lCLEtBQUsreUIsRUFBTXhCLFFBQ3BCbUIsRUFBVTF5QixLQUFLOHlCLEdBQ2ZuQixFQUFXQSxFQUFTdEksT0FBTzBKLEVBQU1SLGFBQWFaLFVBRS9DeDJCLEtBQUs0dEIsS0FBTyxTQUFVcUosR0FFckIsSUFEQSxJQUFJaHZCLEVBQVNzdkIsRUFBVSxHQUNkbjNCLEVBQUksRUFBR0EsRUFBSXEzQixFQUFjM3pCLE9BQVExRCxJQUV6QzZILElBQVVtdkIsRUFEU0ssRUFBY3IzQixJQUNWNjJCLEdBQ3ZCaHZCLEdBQVVzdkIsRUFBVW4zQixFQUFJLEdBRXpCLE9BQU82SCxHQUVSakksS0FBS3cyQixTQUFXQSxFQUNoQngyQixLQUFLczNCLFNBQVdBLEVBRWpCRCxFQUFZcjFCLFVBQVksQ0FDdkJ3QyxTQUFVLFdBQ1QsT0FBT3hFLEtBQUtzM0IsVUFFYk8sZUFBZ0IsU0FBVTl5QixHQUN6QixPQUFPL0UsS0FBSzR0QixNQUFLLFNBQVVnSixHQUMxQixPQUFPN3hCLEVBQUk2eEIsUUFJZCxJQUFJa0IsRUFBbUIsU0FBMEJDLEVBQVFDLEVBQWlCQyxFQUFlQyxFQUFnQkMsR0F1QnhHLEdBdEJBbjRCLEtBQUtvNEIsUUFBVSxHQUNmcDRCLEtBQUtxNEIsV0FBYSxHQUNsQnI0QixLQUFLczRCLGlCQUFtQlAsRUFBU2ozQixPQUFPWSxPQUFPcTJCLEVBQU9PLGtCQUFvQixHQUMxRXQ0QixLQUFLd1IsUUFBVXVtQixFQUFTajNCLE9BQU9ZLE9BQU9xMkIsRUFBT3ZtQixTQUFXLEdBQ3hEeFIsS0FBS2c0QixnQkFBa0JBLEVBQ3ZCaDRCLEtBQUt1NEIsT0FBUyxHQUNkdjRCLEtBQUs4YixZQUFja2MsRUFBa0JoNEIsS0FBS3c0QixhQUFleDRCLEtBQUt5NEIsWUFDMURQLElBQ0hsNEIsS0FBS2s0QixnQkFBaUIsRUFDdEJsNEIsS0FBSzA0QixRQUFVLEdBQ2YxNEIsS0FBSzI0QixjQUFnQixHQUNyQjM0QixLQUFLNDRCLHFCQUF1QixHQUM1QjU0QixLQUFLNjRCLDhCQUFnQyxHQUNyQzc0QixLQUFLODRCLG9CQUFzQixvQkFDM0I5NEIsS0FBSys0QixvQkFBc0IsNEJBRXhCWixJQUNIbjRCLEtBQUttNEIsd0JBQXlCLEVBQzlCbjRCLEtBQUtnNUIsbUJBQXFCLEdBQzFCaDVCLEtBQUtpNUIscUJBQXVCLElBRTdCajVCLEtBQUtpNEIsY0FBZ0JBLEdBQWlCaUIsRUFBcUIsTUFDekIsaUJBQXZCbDVCLEtBQUtpNEIsY0FDZixNQUFNLElBQUk5dUIsTUFBTSxTQUdqQixHQURBbkosS0FBS201QixnQkFBa0IsR0FDbkJwQixFQUNILElBQUssSUFBSXAyQixLQUFPbzJCLEVBQU9vQixnQkFDdEJuNUIsS0FBS201QixnQkFBZ0J4M0IsR0FBT28yQixFQUFPb0IsZ0JBQWdCeDNCLEdBQUt1QixNQUFNLElBMFVqRSxTQUFTazJCLEVBQWlCQyxFQUFHQyxHQUM1QixHQUFJRCxJQUFNQyxFQUNULE9BQU8sRUFFUixHQUFJRCxHQUFLQyxHQUFrQixpQkFBTkQsR0FBK0IsaUJBQU5DLEVBQWdCLENBQzdELEdBQUlyMkIsTUFBTXVDLFFBQVE2ekIsS0FBT3AyQixNQUFNdUMsUUFBUTh6QixHQUN0QyxPQUFPLEVBQ0QsR0FBSXIyQixNQUFNdUMsUUFBUTZ6QixHQUFJLENBQzVCLEdBQUlBLEVBQUV2MUIsU0FBV3cxQixFQUFFeDFCLE9BQ2xCLE9BQU8sRUFFUixJQUFLLElBQUkxRCxFQUFJLEVBQUdBLEVBQUlpNUIsRUFBRXYxQixPQUFRMUQsSUFDN0IsSUFBS2c1QixFQUFpQkMsRUFBRWo1QixHQUFJazVCLEVBQUVsNUIsSUFDN0IsT0FBTyxNQUdILENBQ04sSUFBSXVCLEVBQ0osSUFBS0EsS0FBTzAzQixFQUNYLFFBQWVyMEIsSUFBWHMwQixFQUFFMzNCLFNBQWlDcUQsSUFBWHEwQixFQUFFMTNCLEdBQzdCLE9BQU8sRUFHVCxJQUFLQSxLQUFPMjNCLEVBQ1gsUUFBZXQwQixJQUFYcTBCLEVBQUUxM0IsU0FBaUNxRCxJQUFYczBCLEVBQUUzM0IsR0FDN0IsT0FBTyxFQUdULElBQUtBLEtBQU8wM0IsRUFDWCxJQUFLRCxFQUFpQkMsRUFBRTEzQixHQUFNMjNCLEVBQUUzM0IsSUFDL0IsT0FBTyxFQUlWLE9BQU8sRUFFUixPQUFPLEVBMVdSbTJCLEVBQWlCOTFCLFVBQVV1M0IsY0FBZ0IsU0FBVUMsRUFBU0MsR0FDN0R6NUIsS0FBS201QixnQkFBZ0JLLEdBQVd4NUIsS0FBS201QixnQkFBZ0JLLElBQVksR0FDakV4NUIsS0FBS201QixnQkFBZ0JLLEdBQVMzMEIsS0FBSzQwQixJQUVwQzNCLEVBQWlCOTFCLFVBQVUwM0IsWUFBYyxTQUFVOXVCLEVBQU0rdUIsRUFBZUMsRUFBVUMsRUFBWUMsRUFBV3RxQixFQUFNMEIsR0FDOUcsSUFBSTdPLEVBQVEsSUFBSTAzQixFQUFnQm52QixFQUFNK3VCLEVBQWVDLEVBQVVDLEVBQVlDLEdBRTNFLE9BREF6M0IsRUFBTUUsUUFBVXZDLEtBQUtpNEIsY0FBYzUxQixFQUFPbU4sRUFBTTBCLEdBQ3pDN08sR0FFUnkxQixFQUFpQjkxQixVQUFVeTJCLFlBQWMsU0FBVXAyQixHQUNsRCxPQUFPQSxHQUVSeTFCLEVBQWlCOTFCLFVBQVV3MkIsYUFBZSxTQUFVbjJCLEdBSW5ELE9BSElBLEdBQ0hyQyxLQUFLdTRCLE9BQU8xekIsS0FBS3hDLEdBRVgsTUFFUnkxQixFQUFpQjkxQixVQUFVZzRCLGFBQWUsU0FBVTlDLEVBQVkwQyxFQUFVQyxHQUN6RSxJQUFLLElBQUl6NUIsRUFBSTgyQixFQUFZOTJCLEVBQUlKLEtBQUt1NEIsT0FBT3owQixPQUFRMUQsSUFDaERKLEtBQUt1NEIsT0FBT240QixHQUFLSixLQUFLdTRCLE9BQU9uNEIsR0FBRzY1QixXQUFXTCxFQUFVQyxHQUV0RCxPQUFPNzVCLE1BRVI4M0IsRUFBaUI5MUIsVUFBVWs0QixxQkFBdUIsU0FBVTFxQixFQUFNMEIsR0FDakUsSUFBSyxJQUFJaXBCLEtBQWVuNkIsS0FBS2k1QixxQkFBc0IsQ0FDbEQsSUFBSTUyQixFQUFRckMsS0FBSzA1QixZQUFZVSxFQUFXQyxpQkFBa0IsQ0FBQy8yQixLQUFNNjJCLEdBQWNBLEVBQWEsR0FBSSxLQUFNM3FCLEVBQU0wQixHQUN4R2pKLEVBQVNqSSxLQUFLOGIsWUFBWXpaLEdBQzlCLEdBQUk0RixFQUNILE9BQU9BLEVBR1QsT0FBTyxNQUdSNnZCLEVBQWlCOTFCLFVBQVVzNEIsVUFBWSxTQUFVQyxFQUFRQyxHQUN4RCxHQUFzQixpQkFBWEQsRUFBcUIsQ0FDL0IsSUFBSyxJQUFJNTRCLEtBQU80NEIsRUFDZnY2QixLQUFLczZCLFVBQVUzNEIsRUFBSzQ0QixFQUFPNTRCLElBRTVCLE9BQU8zQixLQUVSQSxLQUFLczRCLGlCQUFpQmlDLEdBQVVDLEdBRWpDMUMsRUFBaUI5MUIsVUFBVXk0QixZQUFjLFNBQVV2cEIsRUFBUXdwQixHQUMxRCxRQUF1QjExQixJQUFuQmtNLEVBQWEsS0FBaUIsQ0FFakMsSUFEQXdwQixFQUFhQSxHQUFjLElBQ1p4cEIsRUFBYSxNQUMzQixPQUFPbFIsS0FBSzA1QixZQUFZVSxFQUFXTyxtQkFBb0IsQ0FBQ0MsS0FBTTk1QixPQUFPc08sS0FBS3NyQixHQUFZeDJCLEtBQUssT0FBUSxHQUFJLEdBQUksVUFBTWMsRUFBV2tNLEdBRTdId3BCLEVBQVd4cEIsRUFBYSxPQUFLLEVBQzdCQSxFQUFTbFIsS0FBS3NSLFVBQVVKLEVBQWEsS0FBR3dwQixHQUV6QyxPQUFPeHBCLEdBRVI0bUIsRUFBaUI5MUIsVUFBVXNQLFVBQVksU0FBVXJHLEVBQUt5dkIsR0FDckQsSUFBSXhwQixFQUNKLFFBQTBCbE0sSUFBdEJoRixLQUFLd1IsUUFBUXZHLEdBRWhCLE9BREFpRyxFQUFTbFIsS0FBS3dSLFFBQVF2RyxHQUNmakwsS0FBS3k2QixZQUFZdnBCLEVBQVF3cEIsR0FFakMsSUFBSUcsRUFBVTV2QixFQUNWNnZCLEVBQVcsR0FLZixJQUowQixJQUF0Qjd2QixFQUFJckcsUUFBUSxPQUNmazJCLEVBQVc3dkIsRUFBSU8sVUFBVVAsRUFBSXJHLFFBQVEsS0FBTyxHQUM1Q2kyQixFQUFVNXZCLEVBQUlPLFVBQVUsRUFBR1AsRUFBSXJHLFFBQVEsT0FFSCxpQkFBMUI1RSxLQUFLd1IsUUFBUXFwQixHQUF1QixDQUM5QzNwQixFQUFTbFIsS0FBS3dSLFFBQVFxcEIsR0FDdEIsSUFBSUUsRUFBY2h2QixtQkFBbUIrdUIsR0FDckMsR0FBb0IsS0FBaEJDLEVBQ0gsT0FBTy82QixLQUFLeTZCLFlBQVl2cEIsRUFBUXdwQixHQUMxQixHQUE4QixNQUExQkssRUFBWTdFLE9BQU8sR0FDN0IsT0FHRCxJQURBLElBQUl0eUIsRUFBUW0zQixFQUFZbDNCLE1BQU0sS0FBS1gsTUFBTSxHQUNoQzlDLEVBQUksRUFBR0EsRUFBSXdELEVBQU1FLE9BQVExRCxJQUFLLENBQ3RDLElBQUk0NkIsRUFBWXAzQixFQUFNeEQsR0FBR21ELFFBQVEsTUFBTyxLQUFLQSxRQUFRLE1BQU8sS0FDNUQsUUFBMEJ5QixJQUF0QmtNLEVBQU84cEIsR0FBMEIsQ0FDcEM5cEIsT0FBU2xNLEVBQ1QsTUFFRGtNLEVBQVNBLEVBQU84cEIsR0FFakIsUUFBZWgyQixJQUFYa00sRUFDSCxPQUFPbFIsS0FBS3k2QixZQUFZdnBCLEVBQVF3cEIsUUFHSjExQixJQUExQmhGLEtBQUtvNEIsUUFBUXlDLEtBQ2hCNzZCLEtBQUtvNEIsUUFBUXZ6QixLQUFLZzJCLEdBQ2xCNzZCLEtBQUtvNEIsUUFBUXlDLEdBQVdBLEVBQ3hCNzZCLEtBQUtxNEIsV0FBV3dDLEdBQVdBLElBRzdCL0MsRUFBaUI5MUIsVUFBVWk1QixjQUFnQixTQUFVL3BCLEVBQVFqRyxHQUM1RCxHQUFJaEksTUFBTXVDLFFBQVEwTCxHQUNqQixJQUFLLElBQUk5USxFQUFJLEVBQUdBLEVBQUk4USxFQUFPcE4sT0FBUTFELElBQ2xDSixLQUFLaTdCLGNBQWMvcEIsRUFBTzlRLEdBQUk2SyxRQUV6QixHQUFJaUcsR0FBNEIsaUJBQVhBLEVBUTNCLElBQUssSUFBSXZQLElBUGdCLGlCQUFkdVAsRUFBTzJMLElBK2dDcEIsU0FBc0JnZSxFQUFTSyxHQUM5QixHQUFHQSxFQUFRMXZCLFVBQVUsRUFBR3F2QixFQUFRLzJCLFVBQVkrMkIsRUFBUSxDQUNuRCxJQUFJbEQsRUFBWXVELEVBQVExdkIsVUFBVXF2QixFQUFRLzJCLFFBQzFDLEdBQUtvM0IsRUFBUXAzQixPQUFTLEdBQTRDLE1BQXZDbzNCLEVBQVFoRixPQUFPMkUsRUFBUS8yQixPQUFTLElBQy9CLE1BQXhCNnpCLEVBQVV6QixPQUFPLElBQ08sTUFBeEJ5QixFQUFVekIsT0FBTyxHQUNwQixPQUFPLEVBR1QsT0FBTyxFQXZoQ0RpRixDQUFhbHdCLEVBQUtpRyxFQUFPMkwsVUFDSTdYLElBQTVCaEYsS0FBS3dSLFFBQVFOLEVBQU8yTCxNQUN2QjdjLEtBQUt3UixRQUFRTixFQUFPMkwsSUFBTTNMLEdBSWJBLEVBQ2YsR0FBWSxTQUFSdlAsRUFDSCxHQUEyQixpQkFBaEJ1UCxFQUFPdlAsR0FDakIzQixLQUFLaTdCLGNBQWMvcEIsRUFBT3ZQLEdBQU1zSixRQUMxQixHQUFZLFNBQVJ0SixFQUFnQixDQUMxQixJQUFJd1AsRUFBTWlxQixFQUFlbHFCLEVBQU92UCxJQUM1QndQLFFBQTZCbk0sSUFBdEJoRixLQUFLd1IsUUFBUUwsU0FBK0NuTSxJQUF6QmhGLEtBQUtxNEIsV0FBV2xuQixLQUM3RG5SLEtBQUtxNEIsV0FBV2xuQixHQUFPQSxLQU83QjJtQixFQUFpQjkxQixVQUFVcTVCLFVBQVksU0FBVXB3QixFQUFLaUcsR0FFckQsR0FBbUIsaUJBQVJqRyxRQUFzQyxJQUFYaUcsRUFBd0IsQ0FDN0QsR0FBbUIsaUJBQVJqRyxHQUFzQyxpQkFBWEEsRUFBSTRSLEdBS3pDLE9BSEE1UixHQURBaUcsRUFBU2pHLEdBQ0k0UixHQU1YNVIsSUFBUW13QixFQUFlbndCLEdBQU8sTUFFakNBLEVBQU1td0IsRUFBZW53QixJQUV0QmpMLEtBQUt3UixRQUFRdkcsR0FBT2lHLFNBQ2JsUixLQUFLcTRCLFdBQVdwdEIsR0FDdkJxd0IsRUFBV3BxQixFQUFRakcsR0FDbkJqTCxLQUFLaTdCLGNBQWMvcEIsRUFBUWpHLElBRzVCNnNCLEVBQWlCOTFCLFVBQVV1NUIsYUFBZSxXQUN6QyxJQUFJdjNCLEVBQU0sR0FDVixJQUFLLElBQUlyQyxLQUFPM0IsS0FBS3dSLFFBQ3BCeE4sRUFBSXJDLEdBQU8zQixLQUFLd1IsUUFBUTdQLEdBRXpCLE9BQU9xQyxHQUdSOHpCLEVBQWlCOTFCLFVBQVV3NUIsY0FBZ0IsU0FBVUMsR0FDcEQsSUFBSXROLEVBQU8sR0FDWCxJQUFLLElBQUl4c0IsS0FBTzNCLEtBQUt3UixRQUNmaXFCLElBQWdCQSxFQUFhNTBCLEtBQUtsRixJQUN0Q3dzQixFQUFLdHBCLEtBQUtsRCxHQUdaLE9BQU93c0IsR0FHUjJKLEVBQWlCOTFCLFVBQVUwNUIsZUFBaUIsU0FBVUQsR0FDckQsSUFBSXROLEVBQU8sR0FDWCxJQUFLLElBQUl4c0IsS0FBTzNCLEtBQUtxNEIsV0FDZm9ELElBQWdCQSxFQUFhNTBCLEtBQUtsRixJQUN0Q3dzQixFQUFLdHBCLEtBQUtsRCxHQUdaLE9BQU93c0IsR0FHUjJKLEVBQWlCOTFCLFVBQVUyNUIsWUFBYyxXQUN4QzM3QixLQUFLd1IsUUFBVSxHQUNmeFIsS0FBSzhaLFNBRU5nZSxFQUFpQjkxQixVQUFVOFgsTUFBUSxXQUNsQzlaLEtBQUtvNEIsUUFBVSxHQUNmcDRCLEtBQUtxNEIsV0FBYSxHQUNsQnI0QixLQUFLdTRCLE9BQVMsSUFHZlQsRUFBaUI5MUIsVUFBVTQ1QixZQUFjLFNBQVVwc0IsRUFBTTBCLEVBQVEycUIsRUFBZUMsRUFBaUJDLEdBQ2hHLElBQUlDLEVBRUosS0FEQTlxQixFQUFTbFIsS0FBS3k2QixZQUFZdnBCLElBRXpCLE9BQU8sS0FDRCxHQUFJQSxhQUFrQjZvQixFQUU1QixPQURBLzVCLEtBQUt1NEIsT0FBTzF6QixLQUFLcU0sR0FDVkEsRUFHUixJQUNJK3FCLEVBREFDLEVBQWtCbDhCLEtBQUt1NEIsT0FBT3owQixPQUNqQnE0QixFQUEyQixLQUFNQyxFQUFzQixLQUN4RSxHQUFJcDhCLEtBQUtrNEIsZ0JBQWtCMW9CLEdBQXdCLGlCQUFUQSxFQUFtQixDQUU1RCxHQURBd3NCLEdBQVloOEIsS0FBSzA0QixRQUFRNTBCLE9BQ3JCMEwsRUFBS3hQLEtBQUs4NEIscUJBQXNCLENBQ25DLElBQUl1RCxFQUFjN3NCLEVBQUt4UCxLQUFLODRCLHFCQUFxQmwwQixRQUFRc00sR0FDekQsSUFBcUIsSUFBakJtckIsRUFFSCxPQURBcjhCLEtBQUt1NEIsT0FBU3Y0QixLQUFLdTRCLE9BQU9ySyxPQUFPMWUsRUFBS3hQLEtBQUsrNEIscUJBQXFCc0QsSUFDekQsS0FHVCxHQUFJdjdCLE9BQU8yMEIsU0FBU2ptQixLQUVFLEtBRHJCeXNCLEVBQWNqOEIsS0FBSzI0QixjQUFjL3pCLFFBQVE0SyxJQUNqQixDQUN2QixJQUFJOHNCLEVBQW9CdDhCLEtBQUs0NEIscUJBQXFCcUQsR0FBYXIzQixRQUFRc00sR0FDdkUsSUFBMkIsSUFBdkJvckIsRUFFSCxPQURBdDhCLEtBQUt1NEIsT0FBU3Y0QixLQUFLdTRCLE9BQU9ySyxPQUFPbHVCLEtBQUs2NEIsOEJBQThCb0QsR0FBYUssSUFDMUUsS0FLVixHQURBdDhCLEtBQUswNEIsUUFBUTd6QixLQUFLMkssR0FDZDFPLE9BQU8yMEIsU0FBU2ptQixJQUNFLElBQWpCeXNCLElBQ0hBLEVBQWNqOEIsS0FBSzI0QixjQUFjNzBCLE9BQ2pDOUQsS0FBSzI0QixjQUFjOXpCLEtBQUsySyxHQUN4QnhQLEtBQUs0NEIscUJBQXFCL3pCLEtBQUssS0FFaENzM0IsRUFBMkJuOEIsS0FBSzQ0QixxQkFBcUJxRCxHQUFhbjRCLE9BQ2xFOUQsS0FBSzQ0QixxQkFBcUJxRCxHQUFhRSxHQUE0QmpyQixFQUNuRWxSLEtBQUs2NEIsOEJBQThCb0QsR0FBYUUsR0FBNEIsT0FDdEUsQ0FDTixJQUFLM3NCLEVBQUt4UCxLQUFLODRCLHFCQUNkLElBQ0NoNEIsT0FBT0MsZUFBZXlPLEVBQU14UCxLQUFLODRCLG9CQUFxQixDQUNyRHozQixNQUFPLEdBQ1BvUSxjQUFjLElBRWYzUSxPQUFPQyxlQUFleU8sRUFBTXhQLEtBQUsrNEIsb0JBQXFCLENBQ3JEMTNCLE1BQU8sR0FDUG9RLGNBQWMsSUFFZCxNQUFPakwsR0FFUmdKLEVBQUt4UCxLQUFLODRCLHFCQUF1QixHQUNqQ3RwQixFQUFLeFAsS0FBSys0QixxQkFBdUIsR0FHbkNxRCxFQUFzQjVzQixFQUFLeFAsS0FBSzg0QixxQkFBcUJoMUIsT0FDckQwTCxFQUFLeFAsS0FBSzg0QixxQkFBcUJzRCxHQUF1QmxyQixFQUN0RDFCLEVBQUt4UCxLQUFLKzRCLHFCQUFxQnFELEdBQXVCLElBSXhELElBQUlHLEVBQWF2OEIsS0FBS3U0QixPQUFPejBCLE9BQ3pCekIsRUFBUXJDLEtBQUt3OEIsY0FBY2h0QixFQUFNMEIsRUFBUTZxQixJQUN6Qy83QixLQUFLeThCLGdCQUFnQmp0QixFQUFNMEIsRUFBUTZxQixJQUNuQy83QixLQUFLMDhCLGVBQWVsdEIsRUFBTTBCLEVBQVE2cUIsSUFDbEMvN0IsS0FBSzI4QixjQUFjbnRCLEVBQU0wQixFQUFRNnFCLElBQ2pDLzdCLEtBQUs0OEIsZUFBZXB0QixFQUFNMEIsRUFBUTZxQixJQUNsQy83QixLQUFLNjhCLHFCQUFxQnJ0QixFQUFNMEIsRUFBUTZxQixJQUN4Qy83QixLQUFLODhCLG1CQUFtQnR0QixFQUFNMEIsRUFBUTZxQixJQUN0Qy83QixLQUFLKzhCLGVBQWV2dEIsRUFBTTBCLEVBQVE2cUIsSUFDbEMvN0IsS0FBS2c5Qix3QkFBd0J4dEIsRUFBTTBCLEVBQVE2cUIsSUFDM0MsS0FFSixHQUFJQyxFQUFVLENBQ2IsS0FBT2g4QixLQUFLMDRCLFFBQVE1MEIsZUFDUjlELEtBQUswNEIsUUFBUTF5QixNQUNaaEcsS0FBSzg0QixxQkFFbEI5NEIsS0FBSzI0QixjQUFnQixHQUNyQjM0QixLQUFLNDRCLHFCQUF1QixHQUc3QixHQUFJdjJCLEdBQVNrNkIsSUFBZXY4QixLQUFLdTRCLE9BQU96MEIsT0FDdkMsS0FBUSszQixHQUFpQkEsRUFBYy8zQixRQUFZZzRCLEdBQW1CQSxFQUFnQmg0QixRQUFTLENBQzlGLElBQUltNUIsRUFBWXBCLEdBQWlCQSxFQUFjLzNCLE9BQVUsR0FBSyszQixFQUFjNzFCLE1BQVEsS0FDaEZrM0IsRUFBY3BCLEdBQW1CQSxFQUFnQmg0QixPQUFVLEdBQUtnNEIsRUFBZ0I5MUIsTUFBUSxLQUN4RjNELElBQ0hBLEVBQVFBLEVBQU00M0IsV0FBV2dELEVBQVVDLElBRXBDbDlCLEtBQUtnNkIsYUFBYXVDLEVBQVlVLEVBQVVDLEdBVTFDLE9BTmlDLE9BQTdCZixFQUNIbjhCLEtBQUs2NEIsOEJBQThCb0QsR0FBYUUsR0FBNEJuOEIsS0FBS3U0QixPQUFPcjFCLE1BQU1nNUIsR0FDNUQsT0FBeEJFLElBQ1Y1c0IsRUFBS3hQLEtBQUsrNEIscUJBQXFCcUQsR0FBdUJwOEIsS0FBS3U0QixPQUFPcjFCLE1BQU1nNUIsSUFHbEVsOEIsS0FBSzhiLFlBQVl6WixJQUV6QnkxQixFQUFpQjkxQixVQUFVKzZCLGVBQWlCLFNBQVV2dEIsRUFBTTBCLEdBQzNELEdBQTZCLGlCQUFsQkEsRUFBT3FwQixTQUF3QnY2QixLQUFLczRCLGlCQUFpQnBuQixFQUFPcXBCLFFBQ3RFLE9BQU8sS0FFUixJQUFJNEMsRUFBZW45QixLQUFLczRCLGlCQUFpQnBuQixFQUFPcXBCLFFBQVFoNkIsS0FBSyxLQUFNaVAsRUFBTTBCLEdBQ3pFLE1BQTRCLGlCQUFqQmlzQixHQUFxRCxpQkFBakJBLEVBQ3ZDbjlCLEtBQUswNUIsWUFBWVUsRUFBV2dELGNBQWUsQ0FBQzc2QixRQUFTNDZCLEdBQWUsR0FBSSxVQUFXLEtBQU0zdEIsRUFBTTBCLEdBQzVGaXNCLEdBQXdDLGlCQUFqQkEsRUFDMUJuOUIsS0FBSzA1QixZQUFZVSxFQUFXZ0QsY0FBZSxDQUFDNzZCLFFBQVM0NkIsRUFBYTU2QixTQUFXLEtBQU00NkIsRUFBYXZELFVBQVksR0FBSXVELEVBQWF0RCxZQUFjLFVBQVcsS0FBTXJxQixFQUFNMEIsR0FFbkssTUFFUjRtQixFQUFpQjkxQixVQUFVZzdCLHdCQUEwQixTQUFVeHRCLEVBQU0wQixFQUFRNnFCLEdBQzVFLElBQUssSUFBSXA2QixLQUFPM0IsS0FBS201QixnQkFDcEIsUUFBMkIsSUFBaEJqb0IsRUFBT3ZQLEdBSWxCLElBREEsSUFBSTA3QixFQUFzQnI5QixLQUFLbTVCLGdCQUFnQngzQixHQUN0Q3ZCLEVBQUksRUFBR0EsRUFBSWk5QixFQUFvQnY1QixPQUFRMUQsSUFBSyxDQUNwRCxJQUNJNkgsR0FBU2tlLEVBREZrWCxFQUFvQmo5QixJQUNib1AsRUFBTTBCLEVBQU92UCxHQUFNdVAsRUFBUTZxQixHQUM3QyxHQUFzQixpQkFBWDl6QixHQUF5QyxpQkFBWEEsRUFDeEMsT0FBT2pJLEtBQUswNUIsWUFBWVUsRUFBV2tELGVBQWdCLENBQUMzN0IsSUFBS0EsRUFBS1ksUUFBUzBGLEdBQVMsR0FBSSxHQUFJLEtBQU11SCxFQUFNMEIsR0FBUStvQixXQUFXLEtBQU10NEIsR0FDdkgsR0FBSXNHLEdBQTRCLGlCQUFYQSxFQUFxQixDQUNoRCxJQUFJMkMsRUFBTzNDLEVBQU8yQyxLQUNsQixHQUFvQixpQkFBVEEsRUFBbUIsQ0FDN0IsSUFBS3d2QixFQUFXeHZCLEdBQ2YsTUFBTSxJQUFJekIsTUFBTSwyQ0FBNkN5QixHQUU5REEsRUFBT3d2QixFQUFXeHZCLE9BQ1EsaUJBQVRBLElBQ2pCQSxFQUFPd3ZCLEVBQVdrRCxnQkFFbkIsSUFBSTNELEVBQTJDLGlCQUFuQjF4QixFQUFPMUYsUUFBd0IwRixFQUFPMUYsUUFBVSxDQUFDWixJQUFLQSxFQUFLWSxRQUFTMEYsRUFBTzFGLFNBQVcsS0FDOUdzM0IsRUFBYTV4QixFQUFPNHhCLFlBQWUsSUFBTWw0QixFQUFJNEIsUUFBUSxLQUFNLE1BQU1BLFFBQVEsTUFBTyxNQUNwRixPQUFPdkQsS0FBSzA1QixZQUFZOXVCLEVBQU0rdUIsRUFBZTF4QixFQUFPMnhCLFVBQVksS0FBTUMsRUFBWSxLQUFNcnFCLEVBQU0wQixJQUlqRyxPQUFPLE1BMENSNG1CLEVBQWlCOTFCLFVBQVV3NkIsY0FBZ0IsU0FBdUJodEIsRUFBTTBCLEVBQVE2cUIsR0FDL0UsSUFBSTE1QixFQUNKLE9BQUlBLEVBQVFyQyxLQUFLdTlCLGFBQWEvdEIsRUFBTTBCLEVBQVE2cUIsSUFDcEMxNUIsRUFBTTQzQixXQUFXLEtBQU0sU0FFM0I1M0IsRUFBUXJDLEtBQUt3OUIsYUFBYWh1QixFQUFNMEIsRUFBUTZxQixJQUNwQzE1QixFQUFNNDNCLFdBQVcsS0FBTSxRQUV4QixNQUdSbkMsRUFBaUI5MUIsVUFBVXU3QixhQUFlLFNBQXNCL3RCLEVBQU0wQixHQUNyRSxRQUFvQmxNLElBQWhCa00sRUFBTzBKLEtBQ1YsT0FBTyxLQUVSLElBQUk2aUIsU0FBa0JqdUIsRUFDVCxPQUFUQSxFQUNIaXVCLEVBQVcsT0FDRHg2QixNQUFNdUMsUUFBUWdLLEtBQ3hCaXVCLEVBQVcsU0FFWixJQUFJQyxFQUFleHNCLEVBQU8wSixLQUNyQjNYLE1BQU11QyxRQUFRazRCLEtBQ2xCQSxFQUFlLENBQUNBLElBR2pCLElBQUssSUFBSXQ5QixFQUFJLEVBQUdBLEVBQUlzOUIsRUFBYTU1QixPQUFRMUQsSUFBSyxDQUM3QyxJQUFJd2EsRUFBTzhpQixFQUFhdDlCLEdBQ3hCLEdBQUl3YSxJQUFTNmlCLEdBQXNCLFlBQVQ3aUIsR0FBbUMsV0FBYjZpQixHQUEwQmp1QixFQUFPLEdBQU0sRUFDdEYsT0FBTyxLQUdULE9BQU94UCxLQUFLMDVCLFlBQVlVLEVBQVd1RCxhQUFjLENBQUMvaUIsS0FBTTZpQixFQUFVRyxTQUFVRixFQUFheDVCLEtBQUssTUFBTyxHQUFJLEdBQUksS0FBTXNMLEVBQU0wQixJQUcxSDRtQixFQUFpQjkxQixVQUFVdzdCLGFBQWUsU0FBc0JodUIsRUFBTTBCLEdBQ3JFLFFBQXVCbE0sSUFBbkJrTSxFQUFhLEtBQ2hCLE9BQU8sS0FFUixJQUFLLElBQUk5USxFQUFJLEVBQUdBLEVBQUk4USxFQUFhLEtBQUVwTixPQUFRMUQsSUFFMUMsR0FBSWc1QixFQUFpQjVwQixFQURQMEIsRUFBYSxLQUFFOVEsSUFFNUIsT0FBTyxLQUdULE9BQU9KLEtBQUswNUIsWUFBWVUsRUFBV3lELGNBQWUsQ0FBQ3g4QixNQUF3QixvQkFBVDZELEtBQXdCQSxLQUFLRSxVQUFVb0ssR0FBUUEsR0FBTyxHQUFJLEdBQUksS0FBTUEsRUFBTTBCLElBRzdJNG1CLEVBQWlCOTFCLFVBQVV5NkIsZ0JBQWtCLFNBQXlCanRCLEVBQU0wQixFQUFRNnFCLEdBQ25GLE9BQU8vN0IsS0FBSzg5QixtQkFBbUJ0dUIsRUFBTTBCLEVBQVE2cUIsSUFDekMvN0IsS0FBSys5QixlQUFldnVCLEVBQU0wQixFQUFRNnFCLElBQ2xDLzdCLEtBQUtnK0IsWUFBWXh1QixFQUFNMEIsRUFBUTZxQixJQUMvQixNQUdMLElBQUlrQyxFQUFtQjFSLEtBQUtvRSxJQUFJLEdBQUksSUFDaEN1TixFQUFvQixFQUFJRCxFQXlmNUIsU0FBU0UsRUFBU2x6QixHQUNqQixJQUFJekssRUFBSWdsQixPQUFPdmEsR0FBSzFILFFBQVEsYUFBYyxJQUFJcUQsTUFBTSxzR0FFcEQsT0FBUXBHLEVBQUksQ0FDWDZLLEtBQVc3SyxFQUFFLElBQU0sR0FDbkI0OUIsU0FBVzU5QixFQUFFLElBQU0sR0FDbkI2OUIsVUFBVzc5QixFQUFFLElBQU0sR0FDbkI4OUIsS0FBVzk5QixFQUFFLElBQU0sR0FDbkIrOUIsU0FBVy85QixFQUFFLElBQU0sR0FDbkJnK0IsS0FBV2grQixFQUFFLElBQU0sR0FDbkJpK0IsU0FBV2orQixFQUFFLElBQU0sR0FDbkJrK0IsT0FBV2wrQixFQUFFLElBQU0sR0FDbkJ1TixLQUFXdk4sRUFBRSxJQUFNLElBQ2hCLEtBR0wsU0FBU20rQixFQUFXbndCLEVBQU1uRCxHQW9CekIsT0FIQUEsRUFBTzh5QixFQUFTOXlCLEdBQVEsSUFDeEJtRCxFQUFPMnZCLEVBQVMzdkIsR0FBUSxJQUVoQm5ELEdBQVNtRCxHQUFlbkQsRUFBSyt5QixVQUFZNXZCLEVBQUs0dkIsV0FDcEQveUIsRUFBSyt5QixVQUFZL3lCLEVBQUtnekIsVUFBWWh6QixFQUFLZ3pCLFVBQVk3dkIsRUFBSzZ2QixZQW5CL0JPLEVBb0JSdnpCLEVBQUsreUIsVUFBWS95QixFQUFLZ3pCLFdBQXlDLE1BQTVCaHpCLEVBQUtvekIsU0FBU3ZJLE9BQU8sR0FBYTdxQixFQUFLb3pCLFNBQVlwekIsRUFBS296QixVQUFhandCLEVBQUs2dkIsWUFBYzd2QixFQUFLaXdCLFNBQVcsSUFBTSxJQUFNandCLEVBQUtpd0IsU0FBU3Y3QixNQUFNLEVBQUdzTCxFQUFLaXdCLFNBQVNsVSxZQUFZLEtBQU8sR0FBS2xmLEVBQUtvekIsU0FBWWp3QixFQUFLaXdCLFNBbkJ4UHJLLEVBQVMsR0FDYndLLEVBQU1yN0IsUUFBUSxrQkFBbUIsSUFDL0JBLFFBQVEsaUJBQWtCLEtBQzFCQSxRQUFRLFVBQVcsUUFDbkJBLFFBQVEsY0FBYyxTQUFVckIsR0FDdEIsUUFBTkEsRUFDSGt5QixFQUFPcHVCLE1BRVBvdUIsRUFBT3Z2QixLQUFLM0MsTUFHUmt5QixFQUFPbHdCLEtBQUssSUFBSVgsUUFBUSxNQUEyQixNQUFwQnE3QixFQUFNMUksT0FBTyxHQUFhLElBQU0sTUFTckU3cUIsRUFBSyt5QixVQUFZL3lCLEVBQUtnekIsV0FBYWh6QixFQUFLb3pCLFNBQVdwekIsRUFBS3F6QixPQUFVcnpCLEVBQUtxekIsUUFBVWx3QixFQUFLa3dCLFFBQ3ZGcnpCLEVBQUswQyxLQUprQixLQWxCeEIsSUFBMkI2d0IsRUFDdEJ4SyxFQXdCTixTQUFTZ0gsRUFBZWpxQixHQUN2QixPQUFPQSxFQUFJdE4sTUFBTSxLQUFLLEdBRXZCLFNBQVN5M0IsRUFBV3BxQixFQUFRMnRCLEdBQzNCLEdBQUkzdEIsR0FBNEIsaUJBQVhBLEVBT3BCLFFBTmdCbE0sSUFBWjY1QixFQUNIQSxFQUFVM3RCLEVBQU8yTCxHQUNjLGlCQUFkM0wsRUFBTzJMLEtBQ3hCZ2lCLEVBQVVGLEVBQVdFLEVBQVMzdEIsRUFBTzJMLElBQ3JDM0wsRUFBTzJMLEdBQUtnaUIsR0FFVDU3QixNQUFNdUMsUUFBUTBMLEdBQ2pCLElBQUssSUFBSTlRLEVBQUksRUFBR0EsRUFBSThRLEVBQU9wTixPQUFRMUQsSUFDbENrN0IsRUFBV3BxQixFQUFPOVEsR0FBSXkrQixRQU12QixJQUFLLElBQUlsOUIsSUFIcUIsaUJBQW5CdVAsRUFBYSxPQUN2QkEsRUFBYSxLQUFJeXRCLEVBQVdFLEVBQVMzdEIsRUFBYSxPQUVuQ0EsRUFDSCxTQUFSdlAsR0FDSDI1QixFQUFXcHFCLEVBQU92UCxHQUFNazlCLEdBTzdCLFNBQVMzRixFQUFxQjRGLEdBRzdCLElBQUlDLEVBQWdCQyxFQUZwQkYsRUFBV0EsR0FBWSxNQUl2QixPQUFPLFNBQVV6OEIsR0FDaEIsSUFBSTQ4QixFQUFrQkYsRUFBYzE4QixFQUFNdUksT0FBU3MwQixFQUFxQjc4QixFQUFNdUksTUFDOUUsR0FBK0IsaUJBQXBCcTBCLEVBQ1YsTUFBTyxzQkFBd0I1OEIsRUFBTXVJLEtBQU8sS0FBTzFGLEtBQUtFLFVBQVUvQyxFQUFNczNCLGVBRXpFLElBQUlBLEVBQWdCdDNCLEVBQU1zSixPQUUxQixPQUFPc3pCLEVBQWdCMTdCLFFBQVEsaUJBQWlCLFNBQVU0N0IsRUFBT3ZJLEdBQ2hFLElBQUl3SSxFQUFXekYsRUFBYy9DLEdBQzdCLE1BQTJCLGlCQUFid0ksR0FBNkMsaUJBQWJBLEVBQXdCQSxFQUFXRCxNQTdrQnBGckgsRUFBaUI5MUIsVUFBVTg3QixtQkFBcUIsU0FBNEJ0dUIsRUFBTTBCLEdBQ2pGLElBQUltdUIsRUFBYW51QixFQUFPbXVCLFlBQWNudUIsRUFBT291QixZQUM3QyxRQUFtQnQ2QixJQUFmcTZCLEVBQ0gsT0FBTyxLQUVSLEdBQW9CLGlCQUFUN3ZCLEVBQW1CLENBQzdCLElBQUltb0IsRUFBYW5vQixFQUFLNnZCLEVBQVksRUFDbEMsR0FBSTFILEdBQWFzRyxHQUFvQnRHLEVBQVl1RyxFQUNoRCxPQUFPbCtCLEtBQUswNUIsWUFBWVUsRUFBV21GLG1CQUFvQixDQUFDbCtCLE1BQU9tTyxFQUFNNnZCLFdBQVlBLEdBQWEsR0FBSSxHQUFJLEtBQU03dkIsRUFBTTBCLEdBR3BILE9BQU8sTUFHUjRtQixFQUFpQjkxQixVQUFVKzdCLGVBQWlCLFNBQXdCdnVCLEVBQU0wQixHQUN6RSxHQUFvQixpQkFBVDFCLEVBQ1YsT0FBTyxLQUVSLFFBQXVCeEssSUFBbkJrTSxFQUFPc3VCLFFBQXVCLENBQ2pDLEdBQUlod0IsRUFBTzBCLEVBQU9zdUIsUUFDakIsT0FBT3gvQixLQUFLMDVCLFlBQVlVLEVBQVdxRixlQUFnQixDQUFDcCtCLE1BQU9tTyxFQUFNZ3dCLFFBQVN0dUIsRUFBT3N1QixTQUFVLEdBQUksV0FBWSxLQUFNaHdCLEVBQU0wQixHQUV4SCxHQUFJQSxFQUFPd3VCLGtCQUFvQmx3QixJQUFTMEIsRUFBT3N1QixRQUM5QyxPQUFPeC9CLEtBQUswNUIsWUFBWVUsRUFBV3VGLHlCQUEwQixDQUFDdCtCLE1BQU9tTyxFQUFNZ3dCLFFBQVN0dUIsRUFBT3N1QixTQUFVLEdBQUksb0JBQXFCLEtBQU1od0IsRUFBTTBCLEdBRzVJLFFBQXVCbE0sSUFBbkJrTSxFQUFPMHVCLFFBQXVCLENBQ2pDLEdBQUlwd0IsRUFBTzBCLEVBQU8wdUIsUUFDakIsT0FBTzUvQixLQUFLMDVCLFlBQVlVLEVBQVd5RixlQUFnQixDQUFDeCtCLE1BQU9tTyxFQUFNb3dCLFFBQVMxdUIsRUFBTzB1QixTQUFVLEdBQUksV0FBWSxLQUFNcHdCLEVBQU0wQixHQUV4SCxHQUFJQSxFQUFPNHVCLGtCQUFvQnR3QixJQUFTMEIsRUFBTzB1QixRQUM5QyxPQUFPNS9CLEtBQUswNUIsWUFBWVUsRUFBVzJGLHlCQUEwQixDQUFDMStCLE1BQU9tTyxFQUFNb3dCLFFBQVMxdUIsRUFBTzB1QixTQUFVLEdBQUksb0JBQXFCLEtBQU1wd0IsRUFBTTBCLEdBRzVJLE9BQU8sTUFHUjRtQixFQUFpQjkxQixVQUFVZzhCLFlBQWMsU0FBcUJ4dUIsRUFBTTBCLEdBQ25FLE1BQW9CLGlCQUFUMUIsRUFDSCxNQUVZLElBQWhCNmEsTUFBTTdhLElBQWtCQSxJQUFTcWpCLEtBQVlyakIsS0FBUyxJQUNsRHhQLEtBQUswNUIsWUFBWVUsRUFBVzRGLG9CQUFxQixDQUFDMytCLE1BQU9tTyxHQUFPLEdBQUksUUFBUyxLQUFNQSxFQUFNMEIsR0FFMUYsTUFHUjRtQixFQUFpQjkxQixVQUFVMDZCLGVBQWlCLFNBQXdCbHRCLEVBQU0wQixFQUFRNnFCLEdBQ2pGLE9BQU8vN0IsS0FBS2lnQyxxQkFBcUJ6d0IsRUFBTTBCLEVBQVE2cUIsSUFDM0MvN0IsS0FBS2tnQyxzQkFBc0Ixd0IsRUFBTTBCLEVBQVE2cUIsSUFDekMsTUFHTGpFLEVBQWlCOTFCLFVBQVVpK0IscUJBQXVCLFNBQThCendCLEVBQU0wQixHQUNyRixNQUFvQixpQkFBVDFCLEVBQ0gsVUFFaUJ4SyxJQUFyQmtNLEVBQU9pdkIsV0FDTjN3QixFQUFLMUwsT0FBU29OLEVBQU9pdkIsVUFDakJuZ0MsS0FBSzA1QixZQUFZVSxFQUFXZ0csb0JBQXFCLENBQUN0OEIsT0FBUTBMLEVBQUsxTCxPQUFRMDdCLFFBQVN0dUIsRUFBT2l2QixXQUFZLEdBQUksYUFBYyxLQUFNM3dCLEVBQU0wQixRQUdqSGxNLElBQXJCa00sRUFBT212QixXQUNON3dCLEVBQUsxTCxPQUFTb04sRUFBT212QixVQUNqQnJnQyxLQUFLMDVCLFlBQVlVLEVBQVdrRyxtQkFBb0IsQ0FBQ3g4QixPQUFRMEwsRUFBSzFMLE9BQVE4N0IsUUFBUzF1QixFQUFPbXZCLFdBQVksR0FBSSxhQUFjLEtBQU03d0IsRUFBTTBCLEdBR2xJLE1BR1I0bUIsRUFBaUI5MUIsVUFBVWsrQixzQkFBd0IsU0FBK0Ixd0IsRUFBTTBCLEdBQ3ZGLEdBQW9CLGlCQUFUMUIsR0FBZ0QsaUJBQW5CMEIsRUFBT3F2QixXQUEwQnJ2QixFQUFPcXZCLG1CQUFtQnIwQixRQUNsRyxPQUFPLEtBRVIsSUFBSXMwQixFQUNKLEdBQUl0dkIsRUFBT3F2QixtQkFBbUJyMEIsT0FDNUJzMEIsRUFBU3R2QixFQUFPcXZCLFlBRWIsQ0FDSCxJQUFJcnhCLEVBQU11eEIsRUFBUSxHQUdkQyxFQUFVeHZCLEVBQU9xdkIsUUFBUTM1QixNQUFNLHNCQUMvQjg1QixHQUNGeHhCLEVBQU93eEIsRUFBUSxHQUNmRCxFQUFRQyxFQUFRLElBR2hCeHhCLEVBQU9nQyxFQUFPcXZCLFFBRWhCQyxFQUFTLElBQUl0MEIsT0FBT2dELEVBQU11eEIsR0FFNUIsT0FBS0QsRUFBTzM1QixLQUFLMkksR0FHVixLQUZDeFAsS0FBSzA1QixZQUFZVSxFQUFXdUcsZUFBZ0IsQ0FBQ0osUUFBU3J2QixFQUFPcXZCLFNBQVUsR0FBSSxXQUFZLEtBQU0vd0IsRUFBTTBCLElBSzVHNG1CLEVBQWlCOTFCLFVBQVUyNkIsY0FBZ0IsU0FBdUJudEIsRUFBTTBCLEVBQVE2cUIsR0FDL0UsT0FBSzk0QixNQUFNdUMsUUFBUWdLLEtBR1p4UCxLQUFLNGdDLG9CQUFvQnB4QixFQUFNMEIsRUFBUTZxQixJQUMxQy83QixLQUFLNmdDLHlCQUF5QnJ4QixFQUFNMEIsRUFBUTZxQixJQUM1Qy83QixLQUFLOGdDLG1CQUFtQnR4QixFQUFNMEIsRUFBUTZxQixLQUpsQyxNQVFUakUsRUFBaUI5MUIsVUFBVTQrQixvQkFBc0IsU0FBNkJweEIsRUFBTTBCLEdBQ25GLElBQUk3TyxFQUNKLFlBQXdCMkMsSUFBcEJrTSxFQUFPNnZCLFVBQ052eEIsRUFBSzFMLE9BQVNvTixFQUFPNnZCLFdBQ3hCMStCLEVBQVFyQyxLQUFLMDVCLFlBQVlVLEVBQVc0RyxtQkFBb0IsQ0FBQ2w5QixPQUFRMEwsRUFBSzFMLE9BQVEwN0IsUUFBU3R1QixFQUFPNnZCLFVBQVcsR0FBSSxZQUFhLEtBQU12eEIsRUFBTTBCLEdBQ2xJbFIsS0FBSzhiLFlBQVl6WixJQUNiQSxPQUljMkMsSUFBcEJrTSxFQUFPK3ZCLFVBQ056eEIsRUFBSzFMLE9BQVNvTixFQUFPK3ZCLFdBQ3hCNStCLEVBQVFyQyxLQUFLMDVCLFlBQVlVLEVBQVc4RyxrQkFBbUIsQ0FBQ3A5QixPQUFRMEwsRUFBSzFMLE9BQVE4N0IsUUFBUzF1QixFQUFPK3ZCLFVBQVcsR0FBSSxZQUFhLEtBQU16eEIsRUFBTTBCLEdBQ2pJbFIsS0FBSzhiLFlBQVl6WixJQUNiQSxFQUlILE1BR1J5MUIsRUFBaUI5MUIsVUFBVTYrQix5QkFBMkIsU0FBa0NyeEIsRUFBTTBCLEdBQzdGLEdBQUlBLEVBQU9pd0IsWUFDVixJQUFLLElBQUkvZ0MsRUFBSSxFQUFHQSxFQUFJb1AsRUFBSzFMLE9BQVExRCxJQUNoQyxJQUFLLElBQUk2cUIsRUFBSTdxQixFQUFJLEVBQUc2cUIsRUFBSXpiLEVBQUsxTCxPQUFRbW5CLElBQ3BDLEdBQUltTyxFQUFpQjVwQixFQUFLcFAsR0FBSW9QLEVBQUt5YixJQUFLLENBQ3ZDLElBQUk1b0IsRUFBUXJDLEtBQUswNUIsWUFBWVUsRUFBV2dILGFBQWMsQ0FBQ0MsT0FBUWpoQyxFQUFHa2hDLE9BQVFyVyxHQUFJLEdBQUksZUFBZ0IsS0FBTXpiLEVBQU0wQixHQUM5RyxHQUFJbFIsS0FBSzhiLFlBQVl6WixHQUNwQixPQUFPQSxFQU1aLE9BQU8sTUFHUnkxQixFQUFpQjkxQixVQUFVOCtCLG1CQUFxQixTQUE0QnR4QixFQUFNMEIsRUFBUTZxQixHQUN6RixRQUFxQi8yQixJQUFqQmtNLEVBQU93RCxNQUNWLE9BQU8sS0FFUixJQUFJclMsRUFBT2pDLEVBQ1gsR0FBSTZDLE1BQU11QyxRQUFRMEwsRUFBT3dELFFBQ3hCLElBQUt0VSxFQUFJLEVBQUdBLEVBQUlvUCxFQUFLMUwsT0FBUTFELElBQzVCLEdBQUlBLEVBQUk4USxFQUFPd0QsTUFBTTVRLFFBQ3BCLEdBQUl6QixFQUFRckMsS0FBSzQ3QixZQUFZcHNCLEVBQUtwUCxHQUFJOFEsRUFBT3dELE1BQU10VSxHQUFJLENBQUNBLEdBQUksQ0FBQyxRQUFTQSxHQUFJMjdCLEVBQWtCLElBQU0zN0IsR0FDakcsT0FBT2lDLE9BRUYsUUFBK0IyQyxJQUEzQmtNLEVBQU9xd0IsZ0JBQ2pCLEdBQXNDLGtCQUEzQnJ3QixFQUFPcXdCLGlCQUNqQixJQUFLcndCLEVBQU9xd0Isa0JBQ1hsL0IsRUFBU3JDLEtBQUswNUIsWUFBWVUsRUFBV29ILHVCQUF3QixHQUFJLElBQU1waEMsRUFBRyxtQkFBb0IsS0FBTW9QLEVBQU0wQixHQUN0R2xSLEtBQUs4YixZQUFZelosSUFDcEIsT0FBT0EsT0FHSCxHQUFJQSxFQUFRckMsS0FBSzQ3QixZQUFZcHNCLEVBQUtwUCxHQUFJOFEsRUFBT3F3QixnQkFBaUIsQ0FBQ25oQyxHQUFJLENBQUMsbUJBQW9CMjdCLEVBQWtCLElBQU0zN0IsR0FDdEgsT0FBT2lDLE9BS1YsSUFBS2pDLEVBQUksRUFBR0EsRUFBSW9QLEVBQUsxTCxPQUFRMUQsSUFDNUIsR0FBSWlDLEVBQVFyQyxLQUFLNDdCLFlBQVlwc0IsRUFBS3BQLEdBQUk4USxFQUFPd0QsTUFBTyxDQUFDdFUsR0FBSSxDQUFDLFNBQVUyN0IsRUFBa0IsSUFBTTM3QixHQUMzRixPQUFPaUMsRUFJVixPQUFPLE1BR1J5MUIsRUFBaUI5MUIsVUFBVTQ2QixlQUFpQixTQUF3QnB0QixFQUFNMEIsRUFBUTZxQixHQUNqRixNQUFvQixpQkFBVHZzQixHQUE4QixPQUFUQSxHQUFpQnZNLE1BQU11QyxRQUFRZ0ssR0FDdkQsS0FFRHhQLEtBQUt5aEMsK0JBQStCanlCLEVBQU0wQixFQUFRNnFCLElBQ3JELzdCLEtBQUswaEMsaUNBQWlDbHlCLEVBQU0wQixFQUFRNnFCLElBQ3BELzdCLEtBQUsyaEMseUJBQXlCbnlCLEVBQU0wQixFQUFRNnFCLElBQzVDLzdCLEtBQUs0aEMsMkJBQTJCcHlCLEVBQU0wQixFQUFRNnFCLElBQzlDLE1BR0xqRSxFQUFpQjkxQixVQUFVeS9CLCtCQUFpQyxTQUF3Q2p5QixFQUFNMEIsR0FDekcsSUFDSTdPLEVBREErTSxFQUFPdE8sT0FBT3NPLEtBQUtJLEdBRXZCLFlBQTZCeEssSUFBekJrTSxFQUFPMndCLGVBQ056eUIsRUFBS3RMLE9BQVNvTixFQUFPMndCLGdCQUN4QngvQixFQUFRckMsS0FBSzA1QixZQUFZVSxFQUFXMEgsMEJBQTJCLENBQUNDLGNBQWUzeUIsRUFBS3RMLE9BQVEwN0IsUUFBU3R1QixFQUFPMndCLGVBQWdCLEdBQUksaUJBQWtCLEtBQU1yeUIsRUFBTTBCLEdBQzFKbFIsS0FBSzhiLFlBQVl6WixJQUNiQSxPQUltQjJDLElBQXpCa00sRUFBTzh3QixlQUNONXlCLEVBQUt0TCxPQUFTb04sRUFBTzh3QixnQkFDeEIzL0IsRUFBUXJDLEtBQUswNUIsWUFBWVUsRUFBVzZILDBCQUEyQixDQUFDRixjQUFlM3lCLEVBQUt0TCxPQUFRODdCLFFBQVMxdUIsRUFBTzh3QixlQUFnQixHQUFJLGlCQUFrQixLQUFNeHlCLEVBQU0wQixHQUMxSmxSLEtBQUs4YixZQUFZelosSUFDYkEsRUFJSCxNQUdSeTFCLEVBQWlCOTFCLFVBQVUwL0IsaUNBQW1DLFNBQTBDbHlCLEVBQU0wQixHQUM3RyxRQUF3QmxNLElBQXBCa00sRUFBT2d4QixTQUNWLElBQUssSUFBSTloQyxFQUFJLEVBQUdBLEVBQUk4USxFQUFPZ3hCLFNBQVNwK0IsT0FBUTFELElBQUssQ0FDaEQsSUFBSXVCLEVBQU11UCxFQUFPZ3hCLFNBQVM5aEMsR0FDMUIsUUFBa0I0RSxJQUFkd0ssRUFBSzdOLEdBQW9CLENBQzVCLElBQUlVLEVBQVFyQyxLQUFLMDVCLFlBQVlVLEVBQVcrSCxnQkFBaUIsQ0FBQ3hnQyxJQUFLQSxHQUFNLEdBQUksYUFBZXZCLEVBQUcsS0FBTW9QLEVBQU0wQixHQUN2RyxHQUFJbFIsS0FBSzhiLFlBQVl6WixHQUNwQixPQUFPQSxHQUtYLE9BQU8sTUFHUnkxQixFQUFpQjkxQixVQUFVMi9CLHlCQUEyQixTQUFrQ255QixFQUFNMEIsRUFBUTZxQixHQUNyRyxJQUFJMTVCLEVBQ0osSUFBSyxJQUFJVixLQUFPNk4sRUFBTSxDQUNyQixJQUFJNHlCLEVBQWlCckcsRUFBa0IsSUFBTXA2QixFQUFJNEIsUUFBUSxLQUFNLE1BQU1BLFFBQVEsTUFBTyxNQUNoRjgrQixHQUFhLEVBQ2pCLFFBQTBCcjlCLElBQXRCa00sRUFBT3RFLGlCQUF1RDVILElBQTNCa00sRUFBT3RFLFdBQVdqTCxLQUN4RDBnQyxHQUFhLEVBQ1RoZ0MsRUFBUXJDLEtBQUs0N0IsWUFBWXBzQixFQUFLN04sR0FBTXVQLEVBQU90RSxXQUFXakwsR0FBTSxDQUFDQSxHQUFNLENBQUMsYUFBY0EsR0FBTXlnQyxJQUMzRixPQUFPLy9CLEVBR1QsUUFBaUMyQyxJQUE3QmtNLEVBQU9veEIsa0JBQ1YsSUFBSyxJQUFJQyxLQUFjcnhCLEVBQU9veEIsa0JBRTdCLEdBRGEsSUFBSXAyQixPQUFPcTJCLEdBQ2IxN0IsS0FBS2xGLEtBQ2YwZ0MsR0FBYSxFQUNUaGdDLEVBQVFyQyxLQUFLNDdCLFlBQVlwc0IsRUFBSzdOLEdBQU11UCxFQUFPb3hCLGtCQUFrQkMsR0FBYSxDQUFDNWdDLEdBQU0sQ0FBQyxvQkFBcUI0Z0MsR0FBYUgsSUFDdkgsT0FBTy8vQixFQUtYLEdBQUtnZ0MsRUFxQk1yaUMsS0FBS200Qix5QkFDZm40QixLQUFLZzVCLG1CQUFtQm9KLElBQWtCLFNBQ25DcGlDLEtBQUtpNUIscUJBQXFCbUosU0F0QmpDLFFBQW9DcDlCLElBQWhDa00sRUFBT3N4QixzQkFLVixHQUpJeGlDLEtBQUttNEIseUJBQ1JuNEIsS0FBS2c1QixtQkFBbUJvSixJQUFrQixTQUNuQ3BpQyxLQUFLaTVCLHFCQUFxQm1KLElBRVMsa0JBQWhDbHhCLEVBQU9zeEIsc0JBQ2pCLElBQUt0eEIsRUFBT3N4Qix1QkFDWG5nQyxFQUFRckMsS0FBSzA1QixZQUFZVSxFQUFXcUksNkJBQThCLENBQUM5Z0MsSUFBS0EsR0FBTSxHQUFJLHdCQUF5QixLQUFNNk4sRUFBTTBCLEdBQVErb0IsV0FBV3Q0QixFQUFLLE1BQzNJM0IsS0FBSzhiLFlBQVl6WixJQUNwQixPQUFPQSxPQUlULEdBQUlBLEVBQVFyQyxLQUFLNDdCLFlBQVlwc0IsRUFBSzdOLEdBQU11UCxFQUFPc3hCLHFCQUFzQixDQUFDN2dDLEdBQU0sQ0FBQyx3QkFBeUJ5Z0MsR0FDckcsT0FBTy8vQixPQUdDckMsS0FBS200Qix5QkFBMkJuNEIsS0FBS2c1QixtQkFBbUJvSixLQUNsRXBpQyxLQUFLaTVCLHFCQUFxQm1KLElBQWtCLEdBTy9DLE9BQU8sTUFHUnRLLEVBQWlCOTFCLFVBQVU0L0IsMkJBQTZCLFNBQW9DcHlCLEVBQU0wQixFQUFRNnFCLEdBQ3pHLElBQUkxNUIsRUFDSixRQUE0QjJDLElBQXhCa00sRUFBT3d4QixhQUNWLElBQUssSUFBSUMsS0FBVXp4QixFQUFPd3hCLGFBQ3pCLFFBQXFCMTlCLElBQWpCd0ssRUFBS216QixHQUF1QixDQUMvQixJQUFJQyxFQUFNMXhCLEVBQU93eEIsYUFBYUMsR0FDOUIsR0FBbUIsaUJBQVJDLEdBQ1YsUUFBa0I1OUIsSUFBZHdLLEVBQUtvekIsS0FDUnZnQyxFQUFRckMsS0FBSzA1QixZQUFZVSxFQUFXeUksc0JBQXVCLENBQUNsaEMsSUFBS2doQyxFQUFRdkssUUFBU3dLLEdBQU0sR0FBSSxHQUFJLEtBQU1wekIsRUFBTTBCLEdBQVErb0IsV0FBVyxLQUFNMEksR0FBUTFJLFdBQVcsS0FBTSxnQkFDMUpqNkIsS0FBSzhiLFlBQVl6WixJQUNwQixPQUFPQSxPQUdILEdBQUlZLE1BQU11QyxRQUFRbzlCLEdBQ3hCLElBQUssSUFBSXhpQyxFQUFJLEVBQUdBLEVBQUl3aUMsRUFBSTkrQixPQUFRMUQsSUFBSyxDQUNwQyxJQUFJMGlDLEVBQWNGLEVBQUl4aUMsR0FDdEIsUUFBMEI0RSxJQUF0QndLLEVBQUtzekIsS0FDUnpnQyxFQUFRckMsS0FBSzA1QixZQUFZVSxFQUFXeUksc0JBQXVCLENBQUNsaEMsSUFBS2doQyxFQUFRdkssUUFBUzBLLEdBQWMsR0FBSSxJQUFNMWlDLEVBQUcsS0FBTW9QLEVBQU0wQixHQUFRK29CLFdBQVcsS0FBTTBJLEdBQVExSSxXQUFXLEtBQU0sZ0JBQ3ZLajZCLEtBQUs4YixZQUFZelosSUFDcEIsT0FBT0EsT0FLVixHQUFJQSxFQUFRckMsS0FBSzQ3QixZQUFZcHNCLEVBQU1vekIsRUFBSyxHQUFJLENBQUMsZUFBZ0JELEdBQVM1RyxHQUNyRSxPQUFPMTVCLEVBTVosT0FBTyxNQUdSeTFCLEVBQWlCOTFCLFVBQVU2NkIscUJBQXVCLFNBQThCcnRCLEVBQU0wQixFQUFRNnFCLEdBQzdGLE9BQU8vN0IsS0FBSytpQyxjQUFjdnpCLEVBQU0wQixFQUFRNnFCLElBQ3BDLzdCLEtBQUtnakMsY0FBY3h6QixFQUFNMEIsRUFBUTZxQixJQUNqQy83QixLQUFLaWpDLGNBQWN6ekIsRUFBTTBCLEVBQVE2cUIsSUFDakMvN0IsS0FBS2tqQyxZQUFZMXpCLEVBQU0wQixFQUFRNnFCLElBQy9CLE1BR0xqRSxFQUFpQjkxQixVQUFVK2dDLGNBQWdCLFNBQXVCdnpCLEVBQU0wQixFQUFRNnFCLEdBQy9FLFFBQXFCLzJCLElBQWpCa00sRUFBT2l5QixNQUNWLE9BQU8sS0FHUixJQURBLElBQUk5Z0MsRUFDS2pDLEVBQUksRUFBR0EsRUFBSThRLEVBQU9peUIsTUFBTXIvQixPQUFRMUQsSUFBSyxDQUM3QyxJQUFJZ2pDLEVBQVlseUIsRUFBT2l5QixNQUFNL2lDLEdBQzdCLEdBQUlpQyxFQUFRckMsS0FBSzQ3QixZQUFZcHNCLEVBQU00ekIsRUFBVyxHQUFJLENBQUMsUUFBU2hqQyxHQUFJMjdCLEdBQy9ELE9BQU8xNUIsRUFHVCxPQUFPLE1BR1J5MUIsRUFBaUI5MUIsVUFBVWdoQyxjQUFnQixTQUF1Qnh6QixFQUFNMEIsRUFBUTZxQixHQUMvRSxRQUFxQi8yQixJQUFqQmtNLEVBQU9teUIsTUFDVixPQUFPLEtBRVIsSUFFSUMsRUFBeUJDLEVBRnpCaEwsRUFBUyxHQUNUMkQsRUFBa0JsOEIsS0FBS3U0QixPQUFPejBCLE9BRTlCOUQsS0FBS200Qix5QkFDUm1MLEVBQTBCdGpDLEtBQUtpNUIscUJBQy9Cc0ssRUFBd0J2akMsS0FBS2c1QixvQkFHOUIsSUFEQSxJQUFJd0ssR0FBYSxFQUNScGpDLEVBQUksRUFBR0EsRUFBSThRLEVBQU9teUIsTUFBTXYvQixPQUFRMUQsSUFBSyxDQUN6Q0osS0FBS200Qix5QkFDUm40QixLQUFLaTVCLHFCQUF1QixHQUM1Qmo1QixLQUFLZzVCLG1CQUFxQixJQUUzQixJQUFJb0ssRUFBWWx5QixFQUFPbXlCLE1BQU1qakMsR0FFekJtOEIsRUFBYXY4QixLQUFLdTRCLE9BQU96MEIsT0FDekJ6QixFQUFRckMsS0FBSzQ3QixZQUFZcHNCLEVBQU00ekIsRUFBVyxHQUFJLENBQUMsUUFBU2hqQyxHQUFJMjdCLEdBRWhFLEdBQWMsT0FBVjE1QixHQUFrQms2QixJQUFldjhCLEtBQUt1NEIsT0FBT3owQixPQUFRLENBR3hELEdBRkE5RCxLQUFLdTRCLE9BQVN2NEIsS0FBS3U0QixPQUFPcjFCLE1BQU0sRUFBR2c1QixHQUUvQmw4QixLQUFLbTRCLHVCQUF3QixDQUNoQyxJQUFLLElBQUlzTCxLQUFZempDLEtBQUtnNUIsbUJBQ3pCdUssRUFBc0JFLElBQVksU0FDM0JILEVBQXdCRyxHQUVoQyxJQUFLLElBQUlDLEtBQWMxakMsS0FBS2k1QixxQkFDdEJzSyxFQUFzQkcsS0FDMUJKLEVBQXdCSSxJQUFjLEdBSXhDRixHQUFhLEVBQ2IsU0FHRCxPQUFPLEtBRUpuaEMsR0FDSGsyQixFQUFPMXpCLEtBQUt4QyxFQUFNNDNCLFdBQVcsS0FBTSxHQUFLNzVCLEdBQUc2NUIsV0FBVyxLQUFNLFVBTzlELE9BSklqNkIsS0FBS200Qix5QkFDUm40QixLQUFLaTVCLHFCQUF1QnFLLEVBQzVCdGpDLEtBQUtnNUIsbUJBQXFCdUssR0FFdkJDLEdBQ0hqTCxFQUFTQSxFQUFPckssT0FBT2x1QixLQUFLdTRCLE9BQU9yMUIsTUFBTWc1QixJQUN6Q2w4QixLQUFLdTRCLE9BQVN2NEIsS0FBS3U0QixPQUFPcjFCLE1BQU0sRUFBR2c1QixHQUM1Qmw4QixLQUFLMDVCLFlBQVlVLEVBQVd1SixlQUFnQixHQUFJLEdBQUksU0FBVXBMLEVBQVEvb0IsRUFBTTBCLFNBSHBGLEdBT0Q0bUIsRUFBaUI5MUIsVUFBVWloQyxjQUFnQixTQUF1Qnp6QixFQUFNMEIsRUFBUTZxQixHQUMvRSxRQUFxQi8yQixJQUFqQmtNLEVBQU8weUIsTUFDVixPQUFPLEtBRVIsSUFHSU4sRUFBeUJDLEVBSHpCTSxFQUFhLEtBQ2J0TCxFQUFTLEdBQ1QyRCxFQUFrQmw4QixLQUFLdTRCLE9BQU96MEIsT0FFOUI5RCxLQUFLbTRCLHlCQUNSbUwsRUFBMEJ0akMsS0FBS2k1QixxQkFDL0JzSyxFQUF3QnZqQyxLQUFLZzVCLG9CQUU5QixJQUFLLElBQUk1NEIsRUFBSSxFQUFHQSxFQUFJOFEsRUFBTzB5QixNQUFNOS9CLE9BQVExRCxJQUFLLENBQ3pDSixLQUFLbTRCLHlCQUNSbjRCLEtBQUtpNUIscUJBQXVCLEdBQzVCajVCLEtBQUtnNUIsbUJBQXFCLElBRTNCLElBQUlvSyxFQUFZbHlCLEVBQU8weUIsTUFBTXhqQyxHQUV6Qm04QixFQUFhdjhCLEtBQUt1NEIsT0FBT3owQixPQUN6QnpCLEVBQVFyQyxLQUFLNDdCLFlBQVlwc0IsRUFBTTR6QixFQUFXLEdBQUksQ0FBQyxRQUFTaGpDLEdBQUkyN0IsR0FFaEUsR0FBYyxPQUFWMTVCLEdBQWtCazZCLElBQWV2OEIsS0FBS3U0QixPQUFPejBCLE9BQVEsQ0FDeEQsR0FBbUIsT0FBZisvQixFQUlILE9BREE3akMsS0FBS3U0QixPQUFTdjRCLEtBQUt1NEIsT0FBT3IxQixNQUFNLEVBQUdnNUIsR0FDNUJsOEIsS0FBSzA1QixZQUFZVSxFQUFXMEosZ0JBQWlCLENBQUNDLE9BQVFGLEVBQVlHLE9BQVE1akMsR0FBSSxHQUFJLFNBQVUsS0FBTW9QLEVBQU0wQixHQUVoSCxHQUxDMnlCLEVBQWF6akMsRUFLVkosS0FBS200Qix1QkFBd0IsQ0FDaEMsSUFBSyxJQUFJc0wsS0FBWXpqQyxLQUFLZzVCLG1CQUN6QnVLLEVBQXNCRSxJQUFZLFNBQzNCSCxFQUF3QkcsR0FFaEMsSUFBSyxJQUFJQyxLQUFjMWpDLEtBQUtpNUIscUJBQ3RCc0ssRUFBc0JHLEtBQzFCSixFQUF3QkksSUFBYyxTQUkvQnJoQyxHQUNWazJCLEVBQU8xekIsS0FBS3hDLEdBT2QsT0FKSXJDLEtBQUttNEIseUJBQ1JuNEIsS0FBS2k1QixxQkFBdUJxSyxFQUM1QnRqQyxLQUFLZzVCLG1CQUFxQnVLLEdBRVIsT0FBZk0sR0FDSHRMLEVBQVNBLEVBQU9ySyxPQUFPbHVCLEtBQUt1NEIsT0FBT3IxQixNQUFNZzVCLElBQ3pDbDhCLEtBQUt1NEIsT0FBU3Y0QixLQUFLdTRCLE9BQU9yMUIsTUFBTSxFQUFHZzVCLEdBQzVCbDhCLEtBQUswNUIsWUFBWVUsRUFBVzZKLGVBQWdCLEdBQUksR0FBSSxTQUFVMUwsRUFBUS9vQixFQUFNMEIsS0FFbkZsUixLQUFLdTRCLE9BQVN2NEIsS0FBS3U0QixPQUFPcjFCLE1BQU0sRUFBR2c1QixHQUU3QixPQUdScEUsRUFBaUI5MUIsVUFBVWtoQyxZQUFjLFNBQXFCMXpCLEVBQU0wQixFQUFRNnFCLEdBQzNFLFFBQW1CLzJCLElBQWZrTSxFQUFPZ3pCLElBQ1YsT0FBTyxLQUVSLElBQ0laLEVBQXlCQyxFQUR6QlksRUFBZ0Jua0MsS0FBS3U0QixPQUFPejBCLE9BRTVCOUQsS0FBS200Qix5QkFDUm1MLEVBQTBCdGpDLEtBQUtpNUIscUJBQy9Cc0ssRUFBd0J2akMsS0FBS2c1QixtQkFDN0JoNUIsS0FBS2k1QixxQkFBdUIsR0FDNUJqNUIsS0FBS2c1QixtQkFBcUIsSUFFM0IsSUFBSTMyQixFQUFRckMsS0FBSzQ3QixZQUFZcHNCLEVBQU0wQixFQUFPZ3pCLElBQUssS0FBTSxLQUFNbkksR0FDdkRxSSxFQUFZcGtDLEtBQUt1NEIsT0FBT3IxQixNQUFNaWhDLEdBTWxDLE9BTEFua0MsS0FBS3U0QixPQUFTdjRCLEtBQUt1NEIsT0FBT3IxQixNQUFNLEVBQUdpaEMsR0FDL0Jua0MsS0FBS200Qix5QkFDUm40QixLQUFLaTVCLHFCQUF1QnFLLEVBQzVCdGpDLEtBQUtnNUIsbUJBQXFCdUssR0FFYixPQUFWbGhDLEdBQXVDLElBQXJCK2hDLEVBQVV0Z0MsT0FDeEI5RCxLQUFLMDVCLFlBQVlVLEVBQVdpSyxXQUFZLEdBQUksR0FBSSxPQUFRLEtBQU03MEIsRUFBTTBCLEdBRXJFLE1BR1I0bUIsRUFBaUI5MUIsVUFBVTg2QixtQkFBcUIsU0FBOEJ0dEIsRUFBTTBCLEVBQVE2cUIsR0FDM0YsSUFBSzdxQixFQUFPb1EsTUFDWCxPQUFPLEtBR1IsSUFEQSxJQUFJamYsRUFDS2pDLEVBQUksRUFBR0EsRUFBSThRLEVBQU9vUSxNQUFNeGQsT0FBUTFELElBQUssQ0FDN0MsSUFBSWtrQyxFQUFNcHpCLEVBQU9vUSxNQUFNbGhCLEdBQ3ZCLEdBQWdCLGdCQUFaa2tDLEVBQUlDLElBQXVCLENBRzlCLElBRkEsSUFBSWpOLEVBQVcsSUFBSUQsRUFBWWlOLEVBQUlqNUIsTUFDL0JtNUIsR0FBYSxFQUNSdlosRUFBSSxFQUFHQSxFQUFJcU0sRUFBU2QsU0FBUzF5QixPQUFRbW5CLElBQzdDLEtBQU1xTSxFQUFTZCxTQUFTdkwsS0FBTXpiLEdBQU8sQ0FDcENnMUIsR0FBYSxFQUNiLE1BR0YsR0FBSUEsRUFBWSxDQUNmLElBQ0lwQixFQUFZLENBQUMsS0FERDlMLEVBQVNPLGVBQWVyb0IsSUFFeEMsR0FBSW5OLEVBQVFyQyxLQUFLNDdCLFlBQVlwc0IsRUFBTTR6QixFQUFXLEdBQUksQ0FBQyxRQUFTaGpDLEdBQUkyN0IsR0FDL0QsT0FBTzE1QixNQW9HWixJQUFJKzNCLEVBQWEsQ0FDaEJ1RCxhQUFjLEVBQ2RFLGNBQWUsRUFDZjhGLGVBQWdCLEdBQ2hCTSxlQUFnQixHQUNoQkgsZ0JBQWlCLEdBQ2pCTyxXQUFZLEdBRVo5RSxtQkFBb0IsSUFDcEJFLGVBQWdCLElBQ2hCRSx5QkFBMEIsSUFDMUJFLGVBQWdCLElBQ2hCRSx5QkFBMEIsSUFDMUJDLG9CQUFxQixJQUVyQkksb0JBQXFCLElBQ3JCRSxtQkFBb0IsSUFDcEJLLGVBQWdCLElBRWhCbUIsMEJBQTJCLElBQzNCRywwQkFBMkIsSUFDM0JFLGdCQUFpQixJQUNqQk0sNkJBQThCLElBQzlCSSxzQkFBdUIsSUFFdkI3QixtQkFBb0IsSUFDcEJFLGtCQUFtQixJQUNuQkUsYUFBYyxJQUNkSSx1QkFBd0IsSUFFeEJwRSxjQUFlLElBQ2ZFLGVBQWdCLElBRWhCM0MsbUJBQW9CLElBRXBCTixpQkFBa0IsS0FFZm9LLEVBQWtCLEdBQ3RCLElBQUssSUFBSTlpQyxLQUFPeTRCLEVBQ2ZxSyxFQUFnQnJLLEVBQVd6NEIsSUFBUUEsRUFFcEMsSUFBSXU5QixFQUF1QixDQUMxQnZCLGFBQWMsNkNBQ2RFLGNBQWUsNkJBQ2Y4RixlQUFnQiwrQ0FDaEJNLGVBQWdCLCtDQUNoQkgsZ0JBQWlCLHlGQUNqQk8sV0FBWSxpQ0FFWjlFLG1CQUFvQixrREFDcEJFLGVBQWdCLCtDQUNoQkUseUJBQTBCLHdEQUMxQkUsZUFBZ0Isa0RBQ2hCRSx5QkFBMEIsd0RBQzFCQyxvQkFBcUIsc0NBRXJCSSxvQkFBcUIsMERBQ3JCRSxtQkFBb0IseURBQ3BCSyxlQUFnQiwyQ0FFaEJtQiwwQkFBMkIsa0VBQzNCRywwQkFBMkIsbUVBQzNCRSxnQkFBaUIsbUNBQ2pCTSw2QkFBOEIsb0NBQzlCSSxzQkFBdUIsb0VBRXZCN0IsbUJBQW9CLG1EQUNwQkUsa0JBQW1CLGtEQUNuQkUsYUFBYyw2REFDZEksdUJBQXdCLCtCQUV4QnBFLGNBQWUsdUNBQ2ZFLGVBQWdCLG9DQUVoQjNDLG1CQUFvQix5QkFFcEJOLGlCQUFrQixvQ0FHbkIsU0FBU04sRUFBZ0JudkIsRUFBTWUsRUFBUWl1QixFQUFVQyxFQUFZQyxHQUU1RCxHQURBM3dCLE1BQU01SSxLQUFLUCxXQUNFZ0YsSUFBVDRGLEVBQ0gsTUFBTSxJQUFJekIsTUFBTywyQkFBNkIwd0IsR0FFL0M3NUIsS0FBS3VDLFFBQVUsR0FDZnZDLEtBQUsyTCxPQUFTQSxFQUNkM0wsS0FBSzRLLEtBQU9BLEVBQ1o1SyxLQUFLNDVCLFNBQVdBLEdBQVksR0FDNUI1NUIsS0FBSzY1QixXQUFhQSxHQUFjLEdBQ2hDNzVCLEtBQUs4NUIsVUFBWUEsR0FBYSxLQUU5QixJQUFJemdCLEVBQU0sSUFBSWxRLE1BQU1uSixLQUFLdUMsU0FFekIsR0FEQXZDLEtBQUt3QyxNQUFRNlcsRUFBSTdXLE9BQVM2VyxFQUFJcXJCLFlBQ3pCMWtDLEtBQUt3QyxNQUNULElBQ0MsTUFBTTZXLEVBRVAsTUFBTUEsR0FDTHJaLEtBQUt3QyxNQUFRNlcsRUFBSTdXLE9BQVM2VyxFQUFJcXJCLFlBSWpDM0ssRUFBZ0IvM0IsVUFBWWxCLE9BQU9ZLE9BQU95SCxNQUFNbkgsV0FDaEQrM0IsRUFBZ0IvM0IsVUFBVTZnQixZQUFja1gsRUFDeENBLEVBQWdCLzNCLFVBQVVyQixLQUFPLGtCQUVqQ281QixFQUFnQi8zQixVQUFVaTRCLFdBQWEsU0FBVTBLLEVBQVlDLEdBUzVELEdBUm1CLE9BQWZELElBQ0hBLEVBQWFBLEVBQVdwaEMsUUFBUSxLQUFNLE1BQU1BLFFBQVEsTUFBTyxNQUMzRHZELEtBQUs0NUIsU0FBVyxJQUFNK0ssRUFBYTNrQyxLQUFLNDVCLFVBRXBCLE9BQWpCZ0wsSUFDSEEsRUFBZUEsRUFBYXJoQyxRQUFRLEtBQU0sTUFBTUEsUUFBUSxNQUFPLE1BQy9EdkQsS0FBSzY1QixXQUFhLElBQU0rSyxFQUFlNWtDLEtBQUs2NUIsWUFFdEIsT0FBbkI3NUIsS0FBSzg1QixVQUNSLElBQUssSUFBSTE1QixFQUFJLEVBQUdBLEVBQUlKLEtBQUs4NUIsVUFBVWgyQixPQUFRMUQsSUFDMUNKLEtBQUs4NUIsVUFBVTE1QixHQUFHNjVCLFdBQVcwSyxFQUFZQyxHQUczQyxPQUFPNWtDLE1BZVIsSUFBSWcvQixFQUFZLEdBd0taNkYsRUF2S0osU0FBU0MsRUFBVWhHLEdBQ2xCLElBQ0lpRyxFQUNBQyxFQUZBdmlDLEVBQWdCLElBQUlxMUIsRUFHcEJtTixFQUFNLENBQ1RDLGlCQUFrQixTQUFVQyxHQUMzQixNQUF3QixpQkFBYkEsRUFDSG5sQyxLQUFLOCtCLFNBQVNxRyxJQUV0QkgsRUFBc0JHLEdBQ2YsSUFFUjdLLFVBQVcsV0FDVjczQixFQUFjNjNCLFVBQVU5d0IsTUFBTS9HLEVBQWUrckIsWUFFOUNzUSxTQUFVLFNBQVVsMEIsR0FDbkIsT0FBS0EsR0FHQW8wQixFQUFVcDBCLEtBQ2RBLEVBQU9BLEVBQUsvRyxNQUFNLEtBQUssTUFFcEJtN0IsRUFBVXAwQixLQUNibTZCLEVBQWtCbjZCLEVBQ1hBLElBUEFtNkIsR0FXVEssWUFBYSxTQUFVeDZCLEVBQU15NkIsR0FDNUIsSUFBSTFqQyxFQUNKLElBQUtBLEtBQU95NEIsRUFDUGlMLEVBQVcxakMsS0FBUzBqQyxFQUFXakwsRUFBV3o0QixNQUM3QzBqQyxFQUFXakwsRUFBV3o0QixJQUFRMGpDLEVBQVcxakMsSUFHM0MsSUFBSTJqQyxFQUFXMTZCLEVBQUsvRyxNQUFNLEtBQUssR0FDL0IsR0FBS203QixFQUFVc0csR0FLZCxJQUFLM2pDLEtBRExxOUIsRUFBVXAwQixHQUFROUosT0FBT1ksT0FBT3M5QixFQUFVc0csSUFDOUJELE9BQzZCLElBQTdCckcsRUFBVXNHLEdBQVUzakMsS0FDOUJxOUIsRUFBVXNHLEdBQVUzakMsR0FBTzBqQyxFQUFXMWpDLElBRXZDcTlCLEVBQVVwMEIsR0FBTWpKLEdBQU8wakMsRUFBVzFqQyxRQVJuQ3E5QixFQUFVcDBCLEdBQVF5NkIsRUFDbEJyRyxFQUFVc0csR0FBWUQsRUFVdkIsT0FBT3JsQyxNQUVSdWxDLFNBQVUsU0FBVXpHLEdBQ25CLElBQUk3MkIsRUFBUzY4QixJQUliLE9BSEloRyxHQUNINzJCLEVBQU82MkIsU0FBU0EsR0FFVjcyQixHQUVSb0ksU0FBVSxTQUFVYixFQUFNMEIsRUFBUWduQixFQUFnQmdDLEdBQ2pELElBQUlzTCxFQUFNdE0sRUFBcUI2TCxHQUkzQjcrQixFQUFVLElBQUk0eEIsRUFBaUJyMUIsR0FBZSxFQUg5QnVpQyxFQUFzQixTQUFVM2lDLEVBQU9tTixFQUFNMEIsR0FDaEUsT0FBTzh6QixFQUFvQjNpQyxFQUFPbU4sRUFBTTBCLElBQVdzMEIsRUFBSW5qQyxFQUFPbU4sRUFBTTBCLElBQ2pFczBCLEVBQ29FdE4sRUFBZ0JnQyxHQUNsRSxpQkFBWGhwQixJQUNWQSxFQUFTLENBQUMsS0FBUUEsSUFFbkJoTCxFQUFRbTFCLFVBQVUsR0FBSW5xQixHQUN0QixJQUFJN08sRUFBUTZELEVBQVEwMUIsWUFBWXBzQixFQUFNMEIsRUFBUSxLQUFNLEtBQU0sSUFPMUQsT0FOSzdPLEdBQVM2M0IsSUFDYjczQixFQUFRNkQsRUFBUWcwQixxQkFBcUIxcUIsRUFBTTBCLElBRTVDbFIsS0FBS3FDLE1BQVFBLEVBQ2JyQyxLQUFLbzRCLFFBQVVseUIsRUFBUWt5QixRQUN2QnA0QixLQUFLc1EsTUFBbUIsT0FBVmpPLEVBQ1ByQyxLQUFLc1EsT0FFYmlCLGVBQWdCLFdBQ2YsSUFBSXRKLEVBQVMsQ0FBQ3pELFNBQVUsV0FDdkIsT0FBT3hFLEtBQUtzUSxNQUFRLFFBQVV0USxLQUFLcUMsTUFBTUUsVUFHMUMsT0FEQXZDLEtBQUtxUSxTQUFTN0csTUFBTXZCLEVBQVF1bUIsV0FDckJ2bUIsR0FFUnc5QixpQkFBa0IsU0FBVWoyQixFQUFNMEIsRUFBUWduQixFQUFnQmdDLEdBQ3pELElBQUlzTCxFQUFNdE0sRUFBcUI2TCxHQUkzQjcrQixFQUFVLElBQUk0eEIsRUFBaUJyMUIsR0FBZSxFQUg5QnVpQyxFQUFzQixTQUFVM2lDLEVBQU9tTixFQUFNMEIsR0FDaEUsT0FBTzh6QixFQUFvQjNpQyxFQUFPbU4sRUFBTTBCLElBQVdzMEIsRUFBSW5qQyxFQUFPbU4sRUFBTTBCLElBQ2pFczBCLEVBQ21FdE4sRUFBZ0JnQyxHQUNqRSxpQkFBWGhwQixJQUNWQSxFQUFTLENBQUMsS0FBUUEsSUFFbkJoTCxFQUFRbTFCLFVBQVUsR0FBSW5xQixHQUN0QmhMLEVBQVEwMUIsWUFBWXBzQixFQUFNMEIsRUFBUSxLQUFNLEtBQU0sSUFDMUNncEIsR0FDSGgwQixFQUFRZzBCLHFCQUFxQjFxQixFQUFNMEIsR0FFcEMsSUFBSWpKLEVBQVMsQ0FBQ3pELFNBQVUsV0FDdkIsT0FBT3hFLEtBQUtzUSxNQUFRLFFBQVV0USxLQUFLcUMsTUFBTUUsVUFLMUMsT0FIQTBGLEVBQU9zd0IsT0FBU3J5QixFQUFRcXlCLE9BQ3hCdHdCLEVBQU9td0IsUUFBVWx5QixFQUFRa3lCLFFBQ3pCbndCLEVBQU9xSSxNQUFrQyxJQUF6QnJJLEVBQU9zd0IsT0FBT3owQixPQUN2Qm1FLEdBRVJvekIsVUFBVyxXQUNWLE9BQU81NEIsRUFBYzQ0QixVQUFVN3hCLE1BQU0vRyxFQUFlK3JCLFlBRXJEbGQsVUFBVyxXQUNWLE9BQU83TyxFQUFjNk8sVUFBVTlILE1BQU0vRyxFQUFlK3JCLFlBRXJEK00sYUFBYyxXQUNiLE9BQU85NEIsRUFBYzg0QixhQUFhL3hCLE1BQU0vRyxFQUFlK3JCLFlBRXhEZ04sY0FBZSxXQUNkLE9BQU8vNEIsRUFBYys0QixjQUFjaHlCLE1BQU0vRyxFQUFlK3JCLFlBRXpEa04sZUFBZ0IsV0FDZixPQUFPajVCLEVBQWNpNUIsZUFBZWx5QixNQUFNL0csRUFBZStyQixZQUUxRG1OLFlBQWEsV0FDWmw1QixFQUFjazVCLFlBQVlueUIsTUFBTS9HLEVBQWUrckIsWUFFaEQrSyxjQUFlLFdBQ2Q5MkIsRUFBYzgyQixjQUFjL3ZCLE1BQU0vRyxFQUFlK3JCLFlBRWxEa1gsWUFBYSxTQUFVQyxFQUFVQyxFQUFZQyxHQUM1QyxHQUF3QixpQkFBYkYsSUFBMEIscUJBQXFCOStCLEtBQUs4K0IsR0FDOUQsTUFBTSxJQUFJeDhCLE1BQU0sNkRBRWpCLEdBQTBCLGlCQUFmeThCLEdBQTJCQSxFQUFXLEdBQU0sR0FBS0EsRUFBYSxJQUN4RSxNQUFNLElBQUl6OEIsTUFBTSwwQ0FFakIsUUFBb0MsSUFBekJpeEIsRUFBV3VMLEdBQ3JCLE1BQU0sSUFBSXg4QixNQUFNLDBCQUE0Qnc4QixFQUFXLE9BQVN2TCxFQUFXdUwsSUFFNUUsUUFBMkMsSUFBaENsQixFQUFnQm1CLEdBQzFCLE1BQU0sSUFBSXo4QixNQUFNLDRCQUE4QnM3QixFQUFnQm1CLEdBQWMsT0FBU0EsR0FLdEYsSUFBSyxJQUFJRSxLQUhUMUwsRUFBV3VMLEdBQVlDLEVBQ3ZCbkIsRUFBZ0JtQixHQUFjRCxFQUM5QnpHLEVBQXFCeUcsR0FBWXpHLEVBQXFCMEcsR0FBY0MsRUFDL0M3RyxFQUFXLENBQy9CLElBQUlGLEVBQVdFLEVBQVU4RyxHQUNyQmhILEVBQVM2RyxLQUNaN0csRUFBUzhHLEdBQWM5RyxFQUFTOEcsSUFBZTlHLEVBQVM2RyxNQUkzRDdyQixNQUFPLFdBQ05yWCxFQUFjcVgsUUFDZDlaLEtBQUtxQyxNQUFRLEtBQ2JyQyxLQUFLbzRCLFFBQVUsR0FDZnA0QixLQUFLc1EsT0FBUSxHQUVkOG5CLFFBQVMsR0FDVC8xQixNQUFPLEtBQ1BpTyxPQUFPLEVBQ1BnckIsV0FBWUEsRUFDWnFELFdBQVlBLEVBQ1p2RCxlQUFnQkEsRUFDaEIySyxXQUFZM0wsR0FHYixPQURBNkssRUFBSW5HLFNBQVNBLEdBQVksTUFDbEJtRyxFQUdFSCxHQU1WLE9BTEFELEVBQUlPLFlBQVksUUFBU2xHLEdBR3pCMkYsRUFBSUEsSUFBTUEsRUFFSEEsSUFub0RlLGdDLDhFQ0Z0QixNQUFhbUIsRUFBYixjQUlFLEtBQUFDLEtBQWtDLEdBT2xDLEtBQUF6MEIsUUFBdUIsR0FLdkIsS0FBQTAwQixRQUFxQyxHQU9yQyxRQUFTeDNCLEVBQW9Cc0MsRUFBZUcsRUFBYUQsR0FDdkQsTUFBTWkxQixFQUFZejNCLEVBQWEsSUFBTXNDLEVBRXJDLEdBQUlFLEVBQU9rMUIsUUFBUyxDQUNsQixNQUFNeGlDLEVBQVFzTixFQUFPazFCLFFBQVF2aUMsTUFBTSxLQUM3QndpQyxFQUFrQyxJQUFqQnppQyxFQUFNRSxPQUN6QjRLLEVBQWEsSUFBTTlLLEVBQU0yVixRQUN6QjNWLEVBQU1NLEtBQUssS0FFVG9pQyxFQUFjdG1DLEtBQUtpbUMsS0FBS0ksR0FDOUIsSUFBS0MsRUFDSCxLQUFNLFNBQVdILEVBQVkscUNBQXVDRSxFQUFnQixJQUV0Rm4xQixFQUFPazFCLFFBQVVwbUMsS0FBS3dSLFFBQVE4MEIsR0FHaEN0bUMsS0FBS2ltQyxLQUFLRSxHQUFhaDFCLEVBQ3ZCblIsS0FBS2ttQyxRQUFRLzBCLEdBQU9nMUIsRUFDcEJubUMsS0FBS3dSLFFBQVFMLEdBQU9ELEVBR3RCLGFBQWNGLEdBQ1osT0FBT2hSLEtBQUtpbUMsS0FBS2oxQixHQUduQixVQUFXRyxHQUNULE9BQU9uUixLQUFLd1IsUUFBUUwsR0FHdEIsUUFBU3pDLEdBQ1AsTUFBTTYzQixFQUFLNzNCLEVBQVc1SyxPQUNoQjBOLEVBQVUsR0FDaEIsSUFBSyxNQUFNUixLQUFTaFIsS0FBS2ltQyxLQUN2QixHQUFJajFCLEVBQU12TixPQUFPLEVBQUc4aUMsRUFBSyxLQUFPNzNCLEVBQWEsSUFBSyxDQUNoRCxNQUFNeUMsRUFBTW5SLEtBQUtpbUMsS0FBS2oxQixHQUN0QlEsRUFBUUwsR0FBT25SLEtBQUt3UixRQUFRTCxHQUdoQyxPQUFPSyxHQTdEWCxvQkFpRUEsTUFBTTFDLEVBQVEsSUFBSWszQixFQUNsQixVQUFlbDNCLEcsOEVDM0VmLE1BQXFCMDNCLFVBQXVCcjlCLE1BQzFDLFlBQVlnSSxHQUNWeEcsUUFDQSxNQUFNdEksRUFBUSxJQUFJOEcsTUFBTSxxQkFBdUJnSSxHQUUvQyxPQURBOU8sRUFBTTFCLEtBQU8saUJBQ04wQixHQUxYLGEsOEVDc0xBLFVBNUtBLE1BT0UsWUFBWW9rQyxHQUpKLEtBQUFDLFVBQW9DLEdBQ3BDLEtBQUFDLFNBQXNDLEdBQ3RDLEtBQUFDLGVBQWdCLEVBR3RCNW1DLEtBQUt5bUMsYUFBZUEsRUFDcEJ6bUMsS0FBS2loQixzQkFRUCxJQUFJdGYsR0FDRkEsRUFBTUEsRUFBSTZuQixjQUNWLElBQUlxZCxFQUFTN21DLEtBQUsybUMsU0FBU2hsQyxHQUszQixZQUpzQixJQUFYa2xDLElBQ1RBLEVBQVM3bUMsS0FBS3ltQyxhQUNkem1DLEtBQUsybUMsU0FBU2hsQyxHQUFPa2xDLEdBRWhCQSxFQU1ULElBQUlsbEMsRUFBYU4sR0FFZixPQURBTSxFQUFNQSxFQUFJNm5CLGNBQ054cEIsS0FBSzJtQyxTQUFTaGxDLEtBQVNOLEVBQ2xCQSxHQUVUckIsS0FBSzJtQyxTQUFTaGxDLEdBQU9OLEVBQ2hCQSxVQUNJckIsS0FBSzBtQyxVQUFVL2tDLEdBRXhCM0IsS0FBSzhtQywyQkFBMkJubEMsRUFBS04sR0FDakNyQixLQUFLNG1DLGVBQ1A1bUMsS0FBSyttQyxXQUFXcGxDLEdBRVhOLEdBTVQsT0FBT00sR0FDTCxPQUFPM0IsS0FBSzZGLElBQUlsRSxFQUFLLE1BTXZCLHdCQUVFLE9BREEzQixLQUFLNG1DLGVBQWdCLEdBQ2QsRUFPVCxzQkFDRSxRQUFJNW1DLEtBQUs0bUMsZ0JBR1Q1bUMsS0FBS2duQyxtQkFBbUIsS0FDeEJobkMsS0FBSzRtQyxlQUFnQixHQUNkLEdBTUQsVUFBVXYrQixHQUNoQixJQUFJMEYsRUFBTyxFQUNYLEdBQW1CLElBQWYxRixFQUFJdkUsT0FDTixPQUFPaUssRUFFVCxJQUFLLElBQUkzTixFQUFJLEVBQUdBLEVBQUlpSSxFQUFJdkUsT0FBUTFELElBQUssQ0FHbkMyTixHQUFTQSxHQUFRLEdBQUtBLEVBRlYxRixFQUFJd2pCLFdBQVd6ckIsR0FJM0IyTixHQUFRLEVBRVYsT0FBT0EsRUFNRCxjQUFjMkcsR0FHcEIsTUFBTXV5QixFQUFRdnlCLEVBQU13eUIsT0FBT2hqQyxLQUFLLEtBRWhDLE1BRGEsR0FBS2xFLEtBQUttbkMsVUFBVUYsR0FPM0IsMkJBQTJCdGxDLEVBQWE2ZCxHQUM5QyxHQUFZLE1BQVI3ZCxFQUFhLENBQ2YsTUFBTXlsQyxFQUFlcG5DLEtBQUtxbkMsaUJBQWlCMWxDLEdBQ3RDM0IsS0FBSzBtQyxVQUFVVSxLQUNsQnBuQyxLQUFLMG1DLFVBQVVVLEdBQWdCLElBRWpDLE1BQU1FLEVBQXVCdG5DLEtBQUswbUMsVUFBVVUsR0FDdkM1bkIsRUFHSDhuQixFQUFxQjNsQyxHQUFPNmQsU0FGckI4bkIsRUFBcUIzbEMsR0FLOUIzQixLQUFLOG1DLDJCQUEyQk0sRUFBY3BuQyxLQUFLeW1DLGVBSS9DLGlCQUFpQjlrQyxHQUN2QixPQUFPQSxFQUFJOEIsT0FBTyxFQUFHOUIsRUFBSTRvQixZQUFZLElBQUs1b0IsRUFBSW1DLE9BQVMsR0FBSyxHQU90RCxXQUFXbkMsR0FDakIsR0FBWSxNQUFSQSxFQUFhLENBQ2YsTUFBTXlsQyxFQUFlcG5DLEtBQUtxbkMsaUJBQWlCMWxDLEdBQ3JDMmxDLEVBQXVCdG5DLEtBQUswbUMsVUFBVVUsR0FDdENHLEVBQVksR0FDbEIsSUFBSyxNQUFNamtDLEtBQVFna0MsRUFDakJDLEVBQVUxaUMsS0FBS3lpQyxFQUFxQmhrQyxJQUV0QyxNQUFNa2tDLEVBQVN4bkMsS0FBS3luQyxjQUFjRixHQUNsQ3ZuQyxLQUFLNkYsSUFBSXVoQyxFQUFjSSxJQVFuQixtQkFBbUJFLEdBQ3pCLE1BQU1DLEVBQVczbkMsS0FBSzBtQyxVQUFVZ0IsR0FDaEMsSUFBSTM1QixFQUFPL04sS0FBS3ltQyxhQUNoQixHQUFJa0IsRUFBVSxDQUNaLE1BQU1KLEVBQVksR0FDbEIsSUFBSyxNQUFNamtDLEtBQVFxa0MsRUFBVSxDQUUzQixJQUFJQyxFQUVGQSxFQUgwQyxNQUFwQnRrQyxFQUFLRyxRQUFRLEdBR3hCekQsS0FBS2duQyxtQkFBbUIxakMsR0FFeEJxa0MsRUFBU3JrQyxHQUV0QmlrQyxFQUFVMWlDLEtBQUsraUMsR0FFYkwsRUFBVXpqQyxPQUFTLElBQ3JCaUssRUFBTy9OLEtBQUt5bkMsY0FBY0YsSUFJOUIsT0FEQXZuQyxLQUFLNkYsSUFBSTZoQyxFQUFRMzVCLEdBQ1ZBLEssZ0JDbExYOzs7Ozs7Ozs7Ozs7Ozs7OztHQW1CcUIsbUJBQVY4RyxPQUFrRCxtQkFBbkJFLGlCQUV4Q0EsZUFBaUIsRUFBUSxLQUczQixTQUFXblMsR0FHVCxJQUFJaWxDLEVBQWdCLENBQ2xCLDhCQUErQixVQUMvQixrQ0FBbUMsU0FDbkMsY0FBaUIsZ0JBQ2pCLHNEQUF1RCxnQkFDdkQsY0FBaUIsZ0JBQ2pCLHNDQUF1QyxRQUN2Qyx3Q0FBeUMsVUFDekMsR0FBTSxVQUNOLE1BQVMsUUFDVCxLQUFRLE9BQ1IsaUNBQWtDLE9BQ2xDLGdEQUFpRCxVQUNqRCxvQ0FBcUMsY0FHbkNDLEVBQWtCLENBQ3BCLE9BQVUsR0FDVixjQUFpQixHQUNqQixLQUFRLEdBQ1IsTUFBUyxHQUNULFFBQVcsR0FDWCxNQUFTLEdBQ1QsUUFBVyxHQUNYLFFBQVcsR0FDWCxXQUFjLElBSVpDLEVBQU8sQ0FBQyxZQUFhLFlBQWEsa0JBRXRDLFNBQVNDLEVBQW9CampDLEdBSTNCLE9BSEFBLEVBQUlQLFNBQVcsV0FDYixPQUFPeEUsS0FBS3VDLFNBRVB3QyxFQXlCVCxTQUFTa2pDLEVBQVVyK0IsR0FDSyxpQkFBWEEsSUFDVEEsRUFBUyxJQUdYNUosS0FBSzRKLE9BQVMsQ0FDWjJZLGNBQThDLElBQXBCM1ksRUFBTzJZLFVBQTRCM1ksRUFBTzJZLFNBQ3BFMmxCLHNCQUFzRCxJQUE1QnQrQixFQUFPcytCLGtCQUFvQ3QrQixFQUFPcytCLGlCQUM1RTFsQixrQkFBa0QsSUFBeEI1WSxFQUFPNFksY0FBZ0M1WSxFQUFPNFksYUFDeEVDLHFCQUFxRCxJQUEzQjdZLEVBQU82WSxnQkFBbUM3WSxFQUFPNlksZ0JBQWtCLEtBTWpHd2xCLEVBQVVqbUMsVUFBVW1tQyxXQUFhLFNBQVVsOUIsRUFBS205QixFQUFjQyxHQUM1RCxHQUFxQixtQkFBVnh6QixNQUNQLE9BQU83VSxLQUFLc29DLGlCQUFpQnI5QixFQUFLbTlCLEVBQWNDLEdBQzdDLEdBQThCLG1CQUFuQnR6QixlQUNoQixPQUFPL1UsS0FBS3VvQyxlQUFldDlCLEVBQUttOUIsRUFBY0MsR0FFOUMsTUFBTSxJQUFJbC9CLE1BQU0sK0NBR3BCOCtCLEVBQVVqbUMsVUFBVXNtQyxpQkFBbUIsU0FBVXI5QixFQUFLbTlCLEVBQWNDLEdBQ2xFLElBQ0lsekIsRUFEQXF6QixFQUFZeG9DLEtBRWUsbUJBQXBCb1Ysa0JBQ1RELEVBQWtCLElBQUlDLGlCQUV4QixJQUFJQyxFQUFpQlIsTUFBTTVKLEVBQUssQ0FDOUJvSSxRQUFTLENBQUMsT0FBVSwwQ0FDcEJpQyxPQUFRSCxFQUFrQkEsRUFBZ0JHLFlBQVN0USxJQUVyRCtILE1BQUssU0FBVTRHLEdBQ2IsR0FBSUEsRUFBUzgwQixHQUNYLE9BQU85MEIsRUFBU2tDLE9BQ1gsTUFBd0IsTUFBcEJsQyxFQUFTRyxPQUNaazBCLEVBQW9CLENBQ3hCemxDLFFBQVMscUJBQ1QwSSxJQUFLQSxFQUNMNkksT0FBUUgsRUFBU0csU0FHYmswQixFQUFvQixDQUN4QnpsQyxRQUFTLHVCQUNUMEksSUFBS0EsRUFDTDZJLE9BQVFILEVBQVNHLFlBSXZCLFNBQVV1RixHQUNSLE1BQU0ydUIsRUFBb0IsQ0FDeEJ6bEMsUUFBUyx1QkFDVDBJLElBQUtBLEVBQ0w2SSxZQUFROU8sRUFDUnFVLElBQUtBLE9BR1R0TSxNQUFLLFNBQVVnSixHQUNiLEdBQUl5eUIsRUFBVUUsY0FBYzN5QixHQUMxQixPQUFPQSxFQUVQLE1BQU1peUIsRUFBb0IsQ0FDeEJ6bEMsUUFBUyxlQUNUMEksSUFBS0EsRUFDTDZJLFlBQVE5TyxPQUtWZ1IsRUFBaUIsSUFBSS9PLFNBQVEsU0FBVUMsRUFBU3NHLEdBQ2xEeUYsWUFBVyxXQUNUekYsRUFBT3c2QixFQUFvQixDQUN6QnpsQyxRQUFTLG9CQUNUMEksSUFBS0EsRUFDTDZJLFlBQVE5TyxLQUVObVEsR0FDRkEsRUFBZ0JjLFVBRWpCdXlCLEVBQVU1K0IsT0FBTzZZLG9CQUd0QnhiLFFBQVFpUCxLQUFLLENBQUNiLEVBQWdCVyxJQUM5QmpKLE1BQUssU0FBVWdKLEdBQ2JzeUIsRUFBY3R5QixNQUNibUcsT0FBTSxTQUFVN0MsR0FDakIrdUIsRUFBYS91QixPQUdqQjR1QixFQUFVam1DLFVBQVV1bUMsZUFBaUIsU0FBVXQ5QixFQUFLbTlCLEVBQWNDLEdBQ2hFLElBQUkxbEMsRUFBTzNDLEtBQ1Ayb0MsR0FBZSxFQUNmdHlCLEVBQU0sSUFBSXRCLGVBRWQsU0FBUzZ6QixJQUNQLElBQUlELEVBQUosQ0FNQSxHQUhFQSxHQUFlLEVBR0UsTUFBZnR5QixFQUFJdkMsT0FDTixPQUFJblIsRUFBSytsQyxjQUFjcnlCLEVBQUlOLGNBQ2xCc3lCLEVBQWNoeUIsRUFBSU4sY0FFbEJxeUIsRUFBYUosRUFBb0IsQ0FDdEN6bEMsUUFBUyxlQUNUMEksSUFBS0EsRUFDTDZJLE9BQVF1QyxFQUFJdkMsVUFHWCxHQUFtQixNQUFmdUMsRUFBSXZDLE9BQ2IsT0FBT3MwQixFQUFhSixFQUFvQixDQUN0Q3psQyxRQUFTLHFCQUNUMEksSUFBS0EsRUFDTDZJLE9BQVF1QyxFQUFJdkMsVUFFVCxHQUFLdUMsRUFBSXZDLFFBQVUsS0FBU3VDLEVBQUl2QyxRQUFVLElBQU0sQ0FDckQsSUFBSTVJLEVBQVdtTCxFQUFJdEMsa0JBQWtCLFlBQ3JDLE9BN0lOLFNBQWtCOUksR0FDaEIsTUFBbUIsaUJBQVJBLEdBSU0sVUFETEEsRUFBSXBILE1BQU0sT0FDWixHQXdJRmdsQyxDQUFTMzlCLEdBQ0o0OUIsSUFFQVYsRUFBYUosRUFBb0IsQ0FDdEN6bEMsUUFBUyx3QkFDVDBJLElBQUtBLEVBQ0w2SSxPQUFRdUMsRUFBSXZDLFVBSWhCLE9BQU9zMEIsRUFBYUosRUFBb0IsQ0FDdEN6bEMsUUFBUyx1QkFDVDBJLElBQUtBLEVBQ0w2SSxPQUFRdUMsRUFBSXZDLFdBS2xCLFNBQVNnMUIsSUFDUHp5QixFQUFJMHlCLG1CQUFxQixXQUNBLElBQW5CMXlCLEVBQUlaLFlBQ05tekIsS0FJSnZ5QixFQUFJRSxPQUFTLFdBQ1hxeUIsS0FHRnZ5QixFQUFJMnlCLFVBQVksV0FDZCxPQUFPWixFQUFhSixFQUFvQixDQUN0Q3psQyxRQUFTLG9CQUNUMEksSUFBS0EsRUFDTDZJLE9BQVF1QyxFQUFJdkMsV0FJaEJ1QyxFQUFJM0ksS0FBSyxNQUFPekMsR0FBSyxHQUNyQm9MLEVBQUl1USxRQUFVamtCLEVBQUtpSCxPQUFPNlksZ0JBQzFCcE0sRUFBSUMsaUJBQWlCLFNBQVUsMENBQy9CRCxFQUFJSyxPQUdOLE9BQU9veUIsS0FHVGIsRUFBVWptQyxVQUFVMG1DLGNBQWdCLFNBQVVyZ0MsR0FDNUMsSUFDRW5ELEtBQUtDLE1BQU1rRCxHQUNYLE1BQU83QixHQUNQLE9BQU8sRUFFVCxPQUFPLEdBR1R5aEMsRUFBVWptQyxVQUFVaW5DLGNBQWdCLFNBQVUzSyxHQUU1QyxNQURZLHlDQUNDejNCLEtBQUt5M0IsSUFLcEIySixFQUFVam1DLFVBQVVrbkMsYUFBZSxTQUFVQyxFQUFLQyxFQUFLaEIsRUFBY2lCLEdBQ25FLElBQUlDLEVBQVlwa0MsS0FBS0MsTUFBTWlrQyxHQUMzQixHQUEwQixpQkFBZEUsR0FDb0IsaUJBQXBCQSxFQUFVaG9CLE1BQ3BCLFlBQStCLElBQXBCZ29CLEVBQVVqbkMsTUFDWitsQyxFQUFhSixFQUFvQixDQUFFemxDLFFBQVMrbUMsRUFBVWpuQyxNQUFPb1IsUUFBUzAxQixLQUV0RWYsRUFBYUosRUFBb0IsQ0FBRXpsQyxRQUFTLCtCQUFnQ2tSLFFBQVMwMUIsS0FJaEcsSUFBSTduQixFQUFRZ29CLEVBQVVob0IsTUFDakJyZSxNQUFNdUMsUUFBUThiLEtBQ2pCQSxFQUFRLElBRVYsSUFBSXJaLEVBQVMsQ0FDWG5HLE9BQVF3bkMsRUFDUjF6QixLQUFNd3pCLEVBQ056bUIsSUFBSyxJQUdQMWEsRUFBTzBhLElBQUkvVixXQUFhLENBQ3RCLFVBQVE1SCxHQUVWaUQsRUFBTzBhLElBQUlyQixNQUFRcGMsS0FBS0MsTUFBTUQsS0FBS0UsVUFBVTBpQyxJQUc3Q3htQixFQUFNdGQsS0FBSSxTQUFVMGMsRUFBTXRnQixHQUN4QixHQUFJeW5DLEVBQWM1bEMsZUFBZXllLEVBQUs2akIsTUFDaEN0OEIsRUFBTzBhLElBQUlyQixNQUFNdW1CLEVBQWNubkIsRUFBSzZqQixNQUFPLENBQzdDLElBQUl2akIsRUFBUSxHQUNabGdCLE9BQU9zTyxLQUFLc1IsR0FBTTFjLEtBQUksU0FBVXlRLEVBQU01UyxHQUNwQ21mLEVBQU12TSxHQUFRaU0sRUFBS2pNLE1BRXJCeE0sRUFBTzBhLElBQUlyQixNQUFNdW1CLEVBQWNubkIsRUFBSzZqQixNQUFNMS9CLEtBQUttYyxPQU1yRCxJQUFJdW9CLEVBQVFya0MsS0FBS0MsTUFBTWlrQyxHQUFLeDhCLFdBQzVCLElBQUssSUFBSWpMLEtBQU80bkMsRUFDVkEsRUFBTXRuQyxlQUFlTixJQUNYLGtDQUFSQSxJQUNGc0csRUFBTzBhLElBQUkvVixXQUFXak0sS0FBTzRvQyxFQUFNNW5DLElBSXpDLE9BQU8wbkMsRUFBZXBoQyxJQUd4QmdnQyxFQUFVam1DLFVBQVUwZ0IsT0FBUyxTQUFVOG1CLEVBQVN0d0IsR0FDOUMsR0FBdUIsaUJBQVpzd0IsRUFDVCxNQUFNLElBQUlyZ0MsTUFBTSwwQ0FDWCxHQUFrQixtQkFBUCtQLEVBQ2hCLE1BQU0sSUFBSS9QLE1BQU0sdUNBR2xCLElBQUl4RyxFQUFPM0MsS0FDUHMrQixFQUFPLEdBR1RBLEVBRkVrTCxFQUFRNWtDLFFBQVEsUUFBVSxFQUVyQjRrQyxFQUFRam1DLFFBQVEsS0FBSyxJQUFJTSxNQUFNLEtBQUssR0FHcEMybEMsRUFBUWptQyxRQUFRLEtBQUssSUFBSU0sTUFBTSxLQUFLLEdBRTdDLElBQUk0bEMsRUFBWSxFQUNackwsRUFBVyxRQU1mLFNBQVNzTCxJQUNQLElBQUl2NEIsRUFBTSxHQUtWLE9BSk1xNEIsRUFBUTNsQyxNQUFNLE9BQU8sS0FFekJzTixFQUFNLFNBRURpdEIsRUFBVyxNQUFRRSxFQUFPLGdCQUMxQnlKLEVBQUswQixHQUFhLGFBQWV0NEIsRUFBTXE0QixFQUloRCxTQUFTRyxFQUFpQnR3QixHQUN4QixHQUFLMVcsRUFBS2lILE9BQW1CLGNBQWUsZ0JBQVQwMEIsR0FBNEJtTCxJQUFjMUIsRUFBS2prQyxPQUFTLEVBRXpGLE9BREEybEMsR0FBd0IsRUFDakJHLElBQ0YsSUFBTWpuQyxFQUFLaUgsT0FBTzJZLFVBQTJCLFVBQWI2YixFQUdyQyxPQUZBcUwsRUFBWSxFQUNackwsRUFBVyxPQUNKd0wsSUFDRixJQUFLam5DLEVBQUtpSCxPQUF1QixrQkFBZSxnQkFBVDAwQixFQXdCNUMsT0FBT3BsQixFQUFHRyxHQXZCVm93QixFQUFZLEVBQ1pyTCxFQUFXLE9BQ1hFLEVBQU8sY0FPUCxJQUFJNkssRUFBTU8sSUFDVi9tQyxFQUFLd2xDLFdBQVdnQixFQUFLandCLEdBQUksU0FBVTFKLEdBQ2pDN00sRUFBS3VtQyxhQUFhQyxFQUFLMzVCLEVBQU0wSixHQUFJLFNBQVVqUixHQUNBLGlCQUE3QkEsRUFBTzBhLElBQUlyQixNQUFNdW9CLFNBQ29CLGlCQUFyQzVoQyxFQUFPMGEsSUFBSXJCLE1BQU11b0IsUUFBUSxHQUFHeCtCLE1BQ3RDMUksRUFBS3dsQyxXQUFXbGdDLEVBQU8wYSxJQUFJckIsTUFBTXVvQixRQUFRLEdBQUd4K0IsS0FBTTZOLEdBQUksU0FBVWt3QixHQUM5RHptQyxFQUFLdW1DLGFBQWFDLEVBQUtDLEVBQUtsd0IsR0FBSSxTQUFValIsR0FDeEMsT0FBT2lSLEVBQUcsS0FBTUEsZUFXOUIsU0FBUzB3QixJQUVQLElBQUlULEVBQU1PLElBQ1YvbUMsRUFBS3dsQyxXQUFXZ0IsRUFBS1EsR0FBa0IsU0FBVVAsR0FDL0N6bUMsRUFBS3VtQyxhQUFhQyxFQUFLQyxFQUFLbHdCLEdBQUksU0FBVWpSLEdBQVVpUixFQUFHLEtBQU1qUixTQUlqRSxPQTNESXRGLEVBQUtzbUMsY0FBYzNLLEtBQ3JCRixFQUFXLFFBMERObnJCLFdBQVcyMkIsRUFBUSxLQUc1QjNCLEVBQVVqbUMsVUFBVThuQyxXQUFhLFNBQVVOLEVBQVNqRixFQUFLcnJCLEdBQ3ZELElBQUk0dUIsRUFBZ0I3bEMsZUFBZXNpQyxHQVlqQyxPQUFPcnJCLEVBQUcsbUJBQXFCcXJCLEdBWC9CdmtDLEtBQUswaUIsT0FBTzhtQixHQUFTLFNBQVVud0IsRUFBS25YLEdBQ2xDLElBQUlvZixFQUFTcGYsRUFBRXlnQixJQUFJckIsTUFBTWlqQixHQUN6QixPQUFJbHJCLEVBQ0tILEVBQUdHLEdBQ2dCLElBQWpCaUksRUFBTXhkLE9BQ1JvVixFQUFHLDRCQUE4QnFyQixFQUFNLEtBRXZDcnJCLEVBQUcsS0FBTW9JLEVBQU0sYUFZa0IsS0FBakMsRUFBRixXQUFnQixPQUFPMm1CLEdBQVksUUFBckMsT0FBcUMsYUEvWWxELEksY0N4QkFwb0MsRUFBT0QsUUFBVW1WLGdCLGtLQ0VqQixnQkFDQSxXQUNBLFVBQ0EsT0FDQSxXQUVBLFdBQ0EsVUFDQSxXQUNBLFVBQ0EsV0FDQSxXQUNBLFVBQ0EsV0FHQSxXQUNBLFdBQ0EsV0FDQSxXQUVNZzFCLEVBQVcsQ0FDZjlsQixTQUFVLEdBQ1ZJLGFBQWMsRUFDZDJsQixZQUFZLEVBRVosZUFDRWhxQyxLQUFLaWtCLFNBQVcsR0FDaEJqa0IsS0FBS3FrQixhQUFlLEVBQ3BCcmtCLEtBQUtncUMsWUFBYSxFQUVsQmhxQyxLQUFLaXFDLGVBQWlCLENBQ3BCLFdBQWMsVUFDZCxRQUFXLFVBQ1gsWUFBZSxVQUNmLE9BQVUsVUFDVixTQUFZLFVBQ1osVUFBYSxVQUNiLFdBQWMsVUFDZCxJQUFPLFdBSUwsVUFBT3BnQyxPQUVULEVBQUEvRyxPQUFPOUMsS0FBS2lxQyxlQUFnQixDQUMxQixRQUFXLFVBQ1gsVUFBYSxVQUNiLGFBQWdCLFVBQ2hCLGdCQUFtQixVQUNuQixLQUFRLFlBT1osVUFBTzcvQixnQkFBZ0JqSCxRQUFRK21DLElBQ3pCbHFDLEtBQUtpcUMsZUFBZUMsV0FFZmxxQyxLQUFLaXFDLGVBQWVDLEtBSS9CbHFDLEtBQUtpbEIsWUFBYSxFQUVsQixJQUFLLE1BQU1rbEIsS0FBZW5xQyxLQUFLaXFDLGVBSTdCanFDLEtBQUtra0IsWUFBWWltQixJQXFCckIsV0FBWUQsR0FDVixJQUFLLElBQUk5cEMsRUFBSUosS0FBS2lrQixTQUFTbmdCLE9BQVMsRUFBRzFELEdBQUssRUFBR0EsSUFDN0MsR0FBSUosS0FBS2lrQixTQUFTN2pCLEdBQUdPLE9BQVN1cEMsRUFDNUIsT0FBT2xxQyxLQUFLaWtCLFNBQVM3akIsR0FBR2dxQyxVQUc1QixPQUFPLEdBR1QsWUFBYUQsR0FDWCxNQUFNRCxFQUFVbHFDLEtBQUtpcUMsZUFBZUUsR0FDOUJDLEdBQWFGLEVBQVF0ekIsZUFBaUJzekIsRUFBUXR6QixnQkFFcEQsVUFBSSw0QkFBNEJ1ekIsdUJBRVAsaUJBQWRDLEVBQ1RBLEVBQVVyOUIsS0FBTSxLQUNkL00sS0FBS21rQixpQkFBaUJnbUIsR0FBYSxHQUNuQ25xQyxLQUFLNmtCLFlBQVlzbEIsSUFDaEIsS0FDRG5xQyxLQUFLbWtCLGlCQUFpQmdtQixHQUFhLEtBRVAsa0JBQWRDLEdBQ2hCcHFDLEtBQUtta0IsaUJBQWlCZ21CLEVBQWFDLEdBQy9CQSxHQUNGcHFDLEtBQUs2a0IsWUFBWXNsQixJQUduQm5xQyxLQUFLbWtCLGlCQUFpQmdtQixHQUFhLElBSXZDLFlBQWFBLEdBQ1gsTUFBTUQsRUFBVWxxQyxLQUFLaXFDLGVBQWVFLEdBQ3BDLElBQUlFLEVBQ0osSUFDRUEsRUFBYUgsRUFBUXA4QixTQUFTOU4sTUFDOUIsTUFBTXdHLEdBRU4sWUFEQXhHLEtBQUt3a0IsY0FBYzJsQixFQUFhM2pDLEdBSVAsaUJBQWpCLEdBQXlELG1CQUFyQjZqQyxFQUFlLEtBQzNEQSxFQUFXdDlCLEtBQ1QsS0FBUS9NLEtBQUt1a0IsbUJBQW1CNGxCLElBQy9COXdCLElBQVVyWixLQUFLd2tCLGNBQWMybEIsRUFBYTl3QixLQUc3Q3JaLEtBQUt1a0IsbUJBQW1CNGxCLElBSTVCLGNBQWVBLEVBQWE5d0IsR0FDMUIsVUFBSSw0QkFBNEI4d0IsNkJBQXVDOXdCLE1BQ3ZFclosS0FBS29rQixlQUdQLGlCQUFrQitsQixFQUFhdDJCLEdBQzdCLFVBQUksNEJBQTRCczJCLEtBQWV0MkIsRUFBVSxHQUFLLG9CQUN6REEsR0FDSDdULEtBQUtva0IsZUFJVCxtQkFBb0IrbEIsR0FDbEIsVUFBSSw0QkFBNEJBLGtCQUNoQ25xQyxLQUFLaWtCLFNBQVNwZixLQUFLLENBQ2pCbEUsS0FBT3dwQyxFQUNQRyxLQUFRdHFDLEtBQUtpcUMsZUFBZUUsR0FBYXI4QixTQUN6Q3M4QixXQUFZLEVBQ1p4a0IsUUFBVTVsQixLQUFLaXFDLGVBQWVFLEdBQWF0ekIsY0FFN0M3VyxLQUFLb2tCLGVBR1AsY0FDRXBrQixLQUFLcWtCLGVBQ0Rya0IsS0FBS3FrQixlQUFpQnZqQixPQUFPc08sS0FBS3BQLEtBQUtpcUMsZ0JBQWdCbm1DLFFBQ3pEbVAsV0FBV2pULEtBQUtza0IsZUFBZTFpQixLQUFLNUIsTUFBTyxJQUkvQyxvQkFDeUIsQ0FBQyxZQUFhLGVBQWdCLG1CQUV0Q3VxQyxLQUFNQyxJQUNuQixHQUFJeHFDLEtBQUtpa0IsU0FBU3NtQixLQUFLTCxHQUFXQSxFQUFRdnBDLE9BQVM2cEMsR0FFakQsT0FEQXhxQyxLQUFLaWtCLFNBQVNsYSxNQUFRL0osS0FBS2lxQyxlQUFlTyxJQUNuQyxLQUtiLGFBQ0UsSUFDT3hxQyxLQUFLZ3FDLGFBQ1JocUMsS0FBSzJKLE1BQU0sU0FDWDNKLEtBQUtncUMsWUFBYSxHQUVwQixNQUFNeGpDLEdBQ05sRSxRQUFRRCxNQUFNLG1CQUFvQm1FLEVBQUdBLEVBQUVoRSxPQUN2Q3hDLEtBQUsySixNQUFNLFFBQVNuRCxLQUl4QixpQkFDRSxVQUFJLHVDQUVKeEcsS0FBSzBrQixvQkFFTDFrQixLQUFLK0osTUFBUSxVQUFPRixPQUFTN0osS0FBS2lrQixTQUFTbGEsT0FBUyxJQUFJL0osS0FBS2lrQixTQUFTbGEsTUFLbEUvSixLQUFLK0osT0FBUy9KLEtBQUtnSyxRQUNyQmhLLEtBQUs4a0IsUUFBUSxVQUFNOWtCLE1BQ25CQSxLQUFLeXFDLFlBQVl6cUMsS0FBSytKLFFBQ2IvSixLQUFLZ0ssUUFDZGhLLEtBQUs4a0IsUUFBUTlrQixLQUFLZ0ssT0FBUWhLLEtBQUtnSyxRQUU3QmhLLEtBQUtnSyxTQUNQaEssS0FBS2dLLE9BQU9QLEdBQUcsWUFBYSxLQUMxQnpKLEtBQUs0a0IsYUFDTDVrQixLQUFLMkosTUFBTSxlQUViM0osS0FBS2dLLE9BQU9QLEdBQUcsZ0JBQWlCLEtBQzlCekosS0FBSzRrQixhQUNMNWtCLEtBQUsySixNQUFNLG1CQUVUM0osS0FBS2dLLE9BQU8yRyxZQUNkM1EsS0FBSzRrQixhQUNMNWtCLEtBQUsySixNQUFNLGNBR1IzSixLQUFLeWtCLFdBQVcsY0FDbkJ6a0IsS0FBS2dLLE9BQU9xRSx1QkFJaEJyTyxLQUFLMmtCLDJCQUVMLElBQ0Uza0IsS0FBS2lsQixZQUFhLEVBQ2xCamxCLEtBQUsySixNQUFNLG1CQUNYLE1BQU00RyxHQUNOLEVBQUFuTyxTQUFTbU8sR0FDVHZRLEtBQUsySixNQUFNLFFBQVM0RyxHQUV0QnZRLEtBQUswcUMsbUJBR1AsMkJBQ0UxcUMsS0FBSzRqQixVQUFZLEdBQ2pCLElBQUssSUFBSXhqQixFQUFFLEVBQUdBLEVBQUlKLEtBQUtpa0IsU0FBU25nQixPQUFRMUQsSUFBSyxDQUMzQyxNQUFNd2xCLEVBQVU1bEIsS0FBS2lrQixTQUFTN2pCLEdBQUd3bEIsUUFDVCxtQkFBZCxHQUNSNWxCLEtBQUs0akIsVUFBVS9lLEtBQUsrZ0IsTUFNNUIsVUFBZW1rQixHLDhkQ2hRZixnQkFFQSxTQUFTWSxFQUFXcm5DLEdBQ2xCLE1BQTBCLFlBQWpCdEQsS0FBS3dNLFdBQ0hsSixFQUFLc0QsTUFBTSx1QkFheEIsTUFBTWdrQyxFQUFxQixDQUN6QjNwQyxJQUFLLFNBQVVxQyxFQUFjMEwsR0FDM0IsR0FBS2hQLEtBQUsrSixNQUVILENBQ0wsUUFBc0IsSUFBWGlGLEVBQ1RBLEVBZnlCLGlCQURWOUksRUFnQlFsRyxNQWZUZ0ssUUFDaEI5RCxFQUFROEQsT0FBTzJHLFdBQWF6SyxFQUFROEQsT0FBTzRKLE9BQ3RDLEVBQUkxTixFQUFRMmtDLG1CQUVuQixVQUFJLDJFQUNHLFFBV0UsR0FBc0IsaUJBQVg3N0IsSUFBa0MsSUFBWEEsRUFDdkMsT0FBTy9ILFFBQVF1RyxPQUFPLGlEQUV4QixPQUFPeE4sS0FBSytKLE1BQU05SSxJQUFJcUMsRUFBTTBMLEVBQVFoUCxLQUFLeWhCLEtBQUt0SyxnQkFBZ0J2VixLQUFLNUIsS0FBS3loQixPQVB4RSxPQUFPemhCLEtBQUtnSyxPQUFPL0ksSUFBSXFDLEdBYjdCLElBQXVCNEMsR0F3QnJCNkosSUFBSyxTQUFVek0sRUFBYzRMLEVBQWVPLEdBQzFDLE9BQUlrN0IsRUFBVy9vQyxLQUFLNUIsS0FBaEIycUMsQ0FBc0JybkMsR0FDakJzbkMsRUFBbUJFLGNBQWN2cUMsS0FBS1AsS0FBTUEsS0FBS2dLLE9BQU8rRixJQUFJek0sRUFBTTRMLEVBQU1PLElBRXhFelAsS0FBSytKLE1BQ0wvSixLQUFLK0osTUFBTWdHLElBQUl6TSxFQUFNNEwsRUFBTU8sR0FFM0JtN0IsRUFBbUJFLGNBQWN2cUMsS0FBS1AsS0FBTUEsS0FBS2dLLE9BQU8rRixJQUFJek0sRUFBTTRMLEVBQU1PLEtBSW5GLE9BQVUsU0FBVW5NLEdBQ2xCLE9BQUl0RCxLQUFLK0osTUFDQS9KLEtBQUsrSixNQUFNMEcsT0FBT25OLEdBRWxCc25DLEVBQW1CRSxjQUFjdnFDLEtBQUtQLEtBQU1BLEtBQUtnSyxPQUFPeUcsT0FBT25OLEtBSTFFd25DLGNBQWUsU0FBZ0I3aUMsRyx5Q0FFN0IsT0FEQWpJLEtBQUsySixNQUFNLGFBQ0oxQixFQUFPOEUsS0FBTTdMLElBQ2xCbEIsS0FBSzJKLE1BQU0sWUFBYSxDQUFFa0ssU0FBUyxJQUM1QjVNLFFBQVFDLFFBQVFoRyxJQUNyQm1ZLElBQ0ZyWixLQUFLMkosTUFBTSxZQUFhLENBQUVrSyxTQUFTLElBQzVCNU0sUUFBUXVHLE9BQU82TCxVQUs1QixVQUFldXhCLEcsOGRDOURmLGdCQUNBLFdBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUNBLE9BU0EsSUFBSUcsRUFBYUMsRUFrQmpCLFNBQVNDLEVBQVNDLEVBQVE1bkMsRUFBYzJWLEdBQ3RDLE1BQU8sQ0FBRWl5QixTQUFRNW5DLE9BQU0yVixXQUd6QixTQUFTa3lCLEVBQWE3ekIsRUFBY3FGLEdBQ2xDLE9BQU9yRixFQUFLYSxPQUFPekksV0FBYWlOLEtBQ3ZCckYsRUFBS3ROLFFBQVVzTixFQUFLdE4sT0FBTzBGLFdBQWFpTixHQU9uRCxTQUFTeXVCLEVBQW1COXpCLEdBQzFCLE9BQU9BLEVBQUthLFFBQVViLEVBQUthLE9BQU96SSxTQW9EcEMsTUFBTTI3QixFQWFKLFlBQWFsL0IsR0FDWG5NLEtBQUsrUyxHQUFLNUcsRUFFVm5NLEtBQUtzckMsT0FBZSxHQUNwQnRyQyxLQUFLdXJDLFNBQWUsR0FDcEJ2ckMsS0FBS3dyQyxhQUFlLEdBRXBCeHJDLEtBQUt5ckMsV0FBYSxHQUVsQnpyQyxLQUFLK1MsR0FBR2hKLE1BQU0yaEMsT0FBT3BvQyxJQUNuQnRELEtBQUsyckMsUUFBUXJvQyxHQUNidEQsS0FBSzRyQyxZQUdQNXJDLEtBQUsrUyxHQUFHbEMsUUFBUWc3QixXQUFZdm9DLElBQzFCdEQsS0FBSzJyQyxRQUFRcm9DLEdBQ2J0RCxLQUFLNHJDLFlBR1A1ckMsS0FBSzJPLFVBQVUsQ0FBQyxPQUFRLGFBR25CLE1BQ0wsT0FBTyxJQUFJaUwsTUFBT0MsVUFHYixnQkFBaUJ2VyxHQUN0QixPQUFPLElBQUkyRCxRQUFRLENBQUNDLEVBQVNzRyxLQUN0QnhOLEtBQUsrUyxHQUFHL0ksT0FBTzJHLFVBRVIzUSxLQUFLK1MsR0FBRy9JLE9BQU80SixRQUd6QjVULEtBQUsyckMsUUFBUXJvQyxFQUFNLFdBQ2pCdEQsS0FBSytTLEdBQUdoSixNQUFNOUksSUFBSXFDLEdBQU15SixLQUFLN0wsR0FBS2dHLEVBQVFoRyxLQUMxQ1UsS0FBSzVCLE9BRVBBLEtBQUs0ckMsV0FOTHArQixFQUFPLDREQUZQQSxFQUFPLGlFQWNOLHNCQUF1QmdILEVBQVVzM0IsR0FDdEMsR0FBMEIsaUJBQWYsR0FBNkI3b0MsTUFBTXVDLFFBQVFnUCxHQUNwRCxPQUFPLEVBR1QsSUFBSyxNQUFNNEQsS0FBWTVELEVBQVUsQ0FDL0IsTUFBTUMsRUFBT0QsRUFBUzRELEdBRXRCLEdBQXFCLGlCQUFYLEVBQ1IsT0FBTyxFQUVULEdBQTBCLGlCQUFmM0QsRUFBUyxLQUNsQixPQUFPLEVBRVQsR0FBSSxFQUFBalIsU0FBUzRVLElBQ1gsSUFBK0QsSUFBM0RBLEVBQVM1TSxVQUFVLEVBQUc0TSxFQUFTdFUsT0FBTyxHQUFHYyxRQUFRLEtBQ25ELE9BQU8sTUFFSixDQUNMLElBQStCLElBQTNCd1QsRUFBU3hULFFBQVEsS0FDbkIsT0FBTyxFQUVULEdBQUlrbkMsRUFBUyxDQUNYLEdBQXFDLGlCQUExQnIzQixFQUFLLGdCQUNkLE9BQU8sRUFFVCxHQUF1QyxpQkFBNUJBLEVBQUssa0JBQ2QsT0FBTyxJQU1mLE9BQU8sRUFHRixnQkFBaUJELEdBQ3RCLEdBQTBCLGlCQUFmLEdBQTZCdlIsTUFBTXVDLFFBQVFnUCxHQUNwRCxPQUFPLEVBR1QsSUFBSyxNQUFNbFIsS0FBUWtSLEVBQ2pCLEdBQThCLGtCQUFuQkEsRUFBU2xSLEdBQ2xCLE9BQU8sRUFJWCxPQUFPLEVBR0YsZ0JBQWlCa2MsR0FDdEIsTUFBeUIsaUJBQVYsR0FDTnZjLE1BQU11QyxRQUFRZ2EsSUFDZEEsRUFBSTlQLFVBQXFDLGlCQUFsQjhQLEVBQVksVUFDbkNBLEVBQUl0USxNQUE2QixpQkFBZHNRLEVBQVEsTUFBdUMsaUJBQWRBLEVBQVEsTUFDNURBLEVBQUkvUCxhQUEyQyxpQkFBckIrUCxFQUFlLGFBQ3pDQSxFQUFJdXNCLGVBQStDLGlCQUF2QnZzQixFQUFpQixlQUM3Q0EsRUFBSTdGLFdBQXVDLGlCQUFuQjZGLEVBQWEsV0FDckNBLEVBQUloTCxVQUFZeFUsS0FBS2dzQyxnQkFBZ0J4c0IsRUFBSWhMLFVBRzdDLFVBQVc4QyxHQUNoQixNQUEwQixpQkFBWCxHQUNOclUsTUFBTXVDLFFBQVE4UixJQUNRLGlCQUFmQSxFQUFTLE1BQ2hCdFgsS0FBS2lzQyxnQkFBZ0IzMEIsRUFBS2EsU0FDMUJiLEVBQUt2TixPQUFTL0osS0FBS2lzQyxnQkFBZ0IzMEIsRUFBS3ZOLFFBQ3hDdU4sRUFBS3ROLFFBQVVoSyxLQUFLaXNDLGdCQUFnQjMwQixFQUFLdE4sU0FDekNzTixFQUFLelMsTUFBUTdFLEtBQUtpc0MsZ0JBQWdCMzBCLEVBQUt6UyxNQUczQyxXQUNMLE9BQU8vRCxPQUFPNEgsb0JBQW9CMUksS0FBS3NyQyxRQUFReG5DLE9BQVMsRUFHN0MsbUIseUNBQ1gsSUFBSXF3QixFQUFNLEVBRVYsT0FBT24wQixLQUFLK1MsR0FBR2hKLE1BQU0yTyxZQUFhcEIsSUFDNUI2YyxFQUFNLE1BRU5uMEIsS0FBS2tzQyxVQUFVNTBCLElBQ2pCLFVBQUksOENBQStDQSxHQUM5QixpQkFBWCxHQUF1QkEsRUFBS2hVLE9BQ3BDdEQsS0FBSzJyQyxRQUFRcjBCLEVBQUtoVSxNQUNsQjZ3QixNQUVPbjBCLEtBQUttc0MsV0FBVzcwQixJQUFTdFgsS0FBSytTLEdBQUduRCxPQUFPQyxvQkFBb0J5SCxFQUFLaFUsS0FBTSxNQUNoRnRELEtBQUsyckMsUUFBUXIwQixFQUFLaFUsTUFDbEI2d0IsS0FDUyxFQUFBendCLFdBQVc0VCxFQUFLaFUsT0FBU3RELEtBQUtvc0MsVUFBVTkwQixJQUN4Q3RYLEtBQUsrUyxHQUFHbkQsT0FBT0Msb0JBQW9CeUgsRUFBS2hVLEtBQU0sUUFDdkR0RCxLQUFLMnJDLFFBQVFyMEIsRUFBS2hVLE1BQ2xCNndCLFFBR0hwbkIsS0FBSyxJQUFjb25CLEdBQ25CalksTUFBTTFWLElBQU8sTUFBTUEsT0FHZixXQUFZOFEsR0FDakIsT0FBUUEsRUFBS3ZOLE9BQVN1TixFQUFLdE4sY0FDR2hGLElBQXJCc1MsRUFBS3ROLE9BQU9rRixNQUFzQm9JLEVBQUt0TixPQUFPd0ssVUFHbEQsYUFBYzhDLEdBQ25CLFFBQUlBLEVBQUthLFVBQ0ZiLEVBQUthLE9BQU93QixXQUdUM1osS0FBS3liLE1BQVFuRSxFQUFLYSxPQUFPd0IsVUFBWSxVQUFPblAsY0FLakQsV0FBWThNLEdBQ2pCLFFBQUl0WCxLQUFLcXNDLFdBQVcvMEIsUUFHaEJBLEVBQUthLGFBQ29CblQsSUFBekJzUyxFQUFLYSxPQUFPM0QsZUFDU3hQLElBQXJCc1MsRUFBS2EsT0FBT2pKLFVBR1pvSSxFQUFLdE4sYUFDb0JoRixJQUF6QnNTLEVBQUt0TixPQUFPd0ssZUFDU3hQLElBQXJCc1MsRUFBS3ROLE9BQU9rRixPQU1YLFVBQVdvSSxHQUNoQixPQUFJdFgsS0FBS3FzQyxXQUFXLzBCLFFBR2hCQSxFQUFLdk4sT0FBVXVOLEVBQUt6UyxZQUF4QixHQUtLLGVBQWdCeVMsR0FDckIsT0FBT0EsRUFBS3ZOLE9BQVN1TixFQUFLdk4sTUFBTW1GLEtBRzNCLGtCQUFtQm9JLEdBQ3hCLE9BQU9BLEVBQUt2TixRQUE2QixJQUFwQnVOLEVBQUt2TixNQUFNbUYsS0FHM0IsY0FBZTVMLEdBQ3BCLE1BQU1NLEVBQVFOLEVBQUtzRCxNQUFNLHVCQUV6QixHQUFJaEQsRUFDRixPQUFPQSxFQUFNLEdBRWIsTUFBTSxJQUFJdUYsTUFBTSxzQkFBc0I3RixFQUFLLEtBSXhDLDRCQUNMLElBQUssTUFBTUEsS0FBUXRELEtBQUtzckMsT0FBUSxDQUM5QixNQUFNdmxDLEVBQVEsRUFBQUQsY0FBY3hDLEdBRTVCLElBQUssSUFBSWxELEVBQUUsRUFBR0EsRUFBRTJGLEVBQU1qQyxPQUFRMUQsSUFDeEJKLEtBQUtzckMsT0FBT3ZsQyxFQUFNM0YsTUFFaEI2QyxNQUFNdUMsUUFBUXhGLEtBQUtzckMsT0FBT2hvQyxLQUFVdEQsS0FBS3NyQyxPQUFPaG9DLEdBQU1RLFFBQ3hEYixNQUFNakIsVUFBVTZDLEtBQUsyRSxNQUNuQnhKLEtBQUtzckMsT0FBT3ZsQyxFQUFNM0YsSUFDbEJKLEtBQUtzckMsT0FBT2hvQyxXQUdUdEQsS0FBS3NyQyxPQUFPaG9DLEtBTWQsc0IseUNBQ1gsT0FBT3RELEtBQUsrUyxHQUFHaEosTUFBTTJPLFlBQWFwQixJQUNoQyxJQUFJOEQsRUFDSixHQUFJcGIsS0FBS3NzQyxhQUFhaDFCLEdBQU8sQ0FDM0IsSUFDRThELEVBQWFwYixLQUFLdXNDLGNBQWNqMUIsRUFBS2hVLE1BQ3JDLE1BQU1rRCxJQUdKNFUsR0FBY3BiLEtBQUsrUyxHQUFHbkQsT0FBT0Msb0JBQW9CdUwsRUFBWSxLQUMvRHBiLEtBQUsyckMsUUFBUXZ3QixHQUNKcGIsS0FBSytTLEdBQUduRCxPQUFPQyxvQkFBb0J5SCxFQUFLaFUsS0FBTSxNQUN2RHRELEtBQUsyckMsUUFBUXIwQixFQUFLaFUsU0FJdkJ5SixLQUFLLElBQU0vTSxLQUFLd3NDLDZCQUNoQnR3QixNQUFPMVYsSUFBZSxNQUFNQSxPQUd4QixNQUFPbVIsR0FDWixJQUFLLE1BQU1yVSxLQUFRcVUsRUFFdUIsVUFBcEMzWCxLQUFLK1MsR0FBR2xDLFFBQVFtSyxVQUFVMVgsSUFDMUJxVSxFQUFNclUsS0FBVXFVLEVBQU1yVSxHQUFNeUcsUUFDOUIsVUFBSSxrQkFBbUJ6RyxHQUN2QnFVLEVBQU1yVSxRQUFRMEIsR0FHbEIsT0FBTzJTLEVBR0YsT0FBUXJVLEdBQ2IsT0FBT3RELEtBQUsrUyxHQUFHaEosTUFBTXFOLFNBQVMsQ0FBQzlULElBQU95SixLQUFNNEssSUFDMUMsTUFBTUwsRUFBT0ssRUFBTXJVLEdBRW5CLFlBQXFCLElBQVgsRUFDRDJuQyxFQUFRLE1BQU8zbkMsRUFBTXRELEtBQUsrUyxHQUFHL0ksT0FBTy9JLElBQUlxQyxJQXhVdkQsU0FBdUJnVSxHQUNyQixPQUFPQSxFQUFLdE4sUUFBVXNOLEVBQUt0TixPQUFPMEYsV0FBYTRILEVBQUt0TixPQUFPd0ssV0FBYThDLEVBQUt0TixPQUFPa0YsS0EwVXZFdTlCLENBQWFuMUIsR0FDYjJ6QixFQUFRLE1BQU8zbkMsRUFBTXRELEtBQUsrUyxHQUFHL0ksT0FBTy9JLElBQUlxQyxJQUd4Q3RELEtBQUswc0MsZUFBZXAxQixJQUMzQkEsRUFBS3pTLEtBQU8sRUFBQUMsVUFBVXdTLEVBQUt2TixPQUMzQnVOLEVBQUt6UyxLQUFLOFUsVUFBWTNaLEtBQUt5YixNQUVwQnpiLEtBQUsrUyxHQUFHaEosTUFBTTBPLFNBQVN6WSxLQUFLOFEsTUFBTTZHLElBQVE1SyxLQUFLLEtBQ3BELElBQUlyQyxFQVFKLE9BTkVBLEVBREUwZ0MsRUFBa0I5ekIsR0FDVixDQUFFMUMsUUFBUzBDLEVBQUthLE9BQU96SSxVQUd2QixDQUFFNkUsWUFBYSxLQUdwQjAyQixFQUFRLE1BQU8zbkMsRUFDcEJ0RCxLQUFLK1MsR0FBRy9JLE9BQU8rRixJQUFJek0sRUFBTWdVLEVBQUt6UyxLQUFLcUssS0FBTW9JLEVBQUt6UyxLQUFLNEssWUFBYS9FLE9BSzdEMUssS0FBSzJzQyxrQkFBa0JyMUIsSUFDOUJBLEVBQUt6UyxLQUFPLENBQUVxSyxNQUFNLEVBQU95SyxVQUFXM1osS0FBS3liLE9BRXBDemIsS0FBSytTLEdBQUdoSixNQUFNME8sU0FBU3pZLEtBQUs4USxNQUFNNkcsSUFBUTVLLEtBQUssSUFDaERxK0IsRUFBa0I5ekIsR0FDYjJ6QixFQUFRLFNBQVUzbkMsRUFDdkJ0RCxLQUFLK1MsR0FBRy9JLE9BQU95RyxPQUFPbk4sRUFBTSxDQUFFc1IsUUFBUzBDLEVBQUthLE9BQU96SSxZQUc5Q3U3QixFQUFRLE1BQU8zbkMsRUFBTXRELEtBQUsrUyxHQUFHL0ksT0FBTy9JLElBQUlxQyxNQUs1QzhuQyxFQUFrQjl6QixHQUNsQjJ6QixFQUFRLE1BQU8zbkMsRUFDcEJ0RCxLQUFLK1MsR0FBRy9JLE9BQU8vSSxJQUFJcUMsRUFBTSxDQUFFaVIsWUFBYStDLEVBQUthLE9BQU96SSxZQUkvQ3U3QixFQUFRLE1BQU8zbkMsRUFBTXRELEtBQUsrUyxHQUFHL0ksT0FBTy9JLElBQUlxQyxNQUs5QyxnQkFBaUJnVSxHQUN0QixHQUFJQSxFQUFLdE4sT0FBT3dLLFdBQ2Q4QyxFQUFLYSxPQUFTYixFQUFLdE4sY0FDWnNOLEVBQUt0TixPQUVSc04sRUFBS2EsT0FBTzNELFVBQVUsQ0FDeEIsSUFBSyxNQUFNNEQsS0FBWWQsRUFBS2EsT0FBTzNELFNBQzVCOEMsRUFBS3ZOLE1BQU15SyxTQUFTNEQsS0FLdkJkLEVBQUt2TixNQUFNeUssU0FBUzRELElBQVksR0FJaEMsRUFBQWhVLE1BQU1rVCxFQUFLdk4sTUFBTXlLLFNBQVU4QyxFQUFLYSxPQUFPM0Qsa0JBQ2xDOEMsRUFBS3ZOLE1BSWxCLE9BQU91TixFQUdGLGtCQUFtQkEsR0E0QnhCLE9BdmFKLFNBQTZCQSxHQUMzQixRQUFJQSxFQUFLdE4sU0FBVXNOLEVBQUt0TixPQUFPMEYsVUFDM0I0SCxFQUFLdE4sT0FBTzBGLFdBQWE0SCxFQUFLYSxPQUFPekksaUJBR1oxSyxJQUFyQnNTLEVBQUthLE9BQU9qSixPQUEyQyxJQUFyQm9JLEVBQUt0TixPQUFPa0YsTUFDbkRvSSxFQUFLdE4sT0FBT2tGLE9BQVNvSSxFQUFLYSxPQUFPakosTUFDakNvSSxFQUFLdE4sT0FBT3lGLGNBQWdCNkgsRUFBS2EsT0FBTzFJLGFBcVlyQ205QixDQUFtQnQxQixRQUdTdFMsSUFBckJzUyxFQUFLdE4sT0FBT2tGLE9BRXJCLFVBQUksK0JBRUpsUCxLQUFLK1MsR0FBR2hKLE1BQU11TyxZQUFZLENBQ3hCMUcsT0FBZ0IsV0FDaEJ0TyxLQUFnQmdVLEVBQUtoVSxLQUNyQmlWLFNBQWdCakIsRUFBS3ZOLE1BQU1tRixLQUMzQnNKLFNBQWdCbEIsRUFBS3ROLE9BQU9rRixLQUM1QjI5QixnQkFBaUJ2MUIsRUFBS2EsT0FBT2pKLEtBQzdCMEosZUFBZ0J0QixFQUFLdk4sTUFBTTBGLFlBQzNCb0osZUFBZ0J2QixFQUFLdE4sT0FBT3lGLFlBQzVCcTlCLHNCQUF1QngxQixFQUFLYSxPQUFPMUksY0FHakM2SCxFQUFLdE4sT0FBT2tGLEtBQ2RvSSxFQUFLYSxPQUFTYixFQUFLdE4sT0FFbkJzTixFQUFLYSxPQUFTLFVBRVRiLEVBQUt0TixjQUNMc04sRUFBS3ZOLGNBdkJadU4sRUFuWU4sU0FBOEJBLEdBSzVCLE9BSklBLEVBQUt0TixTQUErQixJQUFyQnNOLEVBQUt0TixPQUFPa0YsTUFDM0JvSSxFQUFLdk4sUUFBNkIsSUFBcEJ1TixFQUFLdk4sTUFBTW1GLGFBQ3BCb0ksRUFBS3ZOLE1BRVB1TixFQThYSXkxQixDQUFvQnoxQixJQUNmdE4sT0F5QlBzTixFQUdGLFVBQVdBLEdBQ2hCLEdBQUlBLEVBQUt0TixPQUFULENBQ0UsR0FBSXNOLEVBQUt2TixNQUNQLE9BQUksRUFBQXZHLFNBQVM4VCxFQUFLaFUsTUFDVHRELEtBQUtndEMsZ0JBQWdCMTFCLEdBRXJCdFgsS0FBS2l0QyxrQkFBa0IzMUIsR0FHaEMsR0FBSSxFQUFBOVQsU0FBUzhULEVBQUtoVSxXQUNhMEIsSUFBekJzUyxFQUFLdE4sT0FBT3dLLFdBQ2Q4QyxFQUFLYSxPQUFTYixFQUFLdE4sY0FDWnNOLEVBQUt0TixhQUdkLFFBQXlCaEYsSUFBckJzUyxFQUFLdE4sT0FBT2tGLEtBQW9CLENBQ2xDLE1BQU00VSxFQUFTLENBQ2JsUyxPQUFVLFNBQ1Z0TyxLQUFVZ1UsRUFBS2hVLEtBQ2ZpVixVQUFnQyxJQUFyQmpCLEVBQUthLE9BQU9qSixVQUFpQmxLLEVBQVlzUyxFQUFLYSxPQUFPakosS0FDaEVzSixVQUFnQyxJQUFyQmxCLEVBQUt0TixPQUFPa0YsVUFBaUJsSyxFQUFZc1MsRUFBS3ROLE9BQU9rRixLQUNoRTBKLGVBQWdCdEIsRUFBS2EsT0FBTzFJLFlBQzVCb0osZUFBZ0J2QixFQUFLdE4sT0FBT3lGLGFBTTlCLElBSklxVSxFQUFPdkwsVUFBWXVMLEVBQU90TCxXQUM1QnhZLEtBQUsrUyxHQUFHaEosTUFBTXVPLFlBQVl3TCxJQUd2QnhNLEVBQUt0TixPQUFPa0YsS0FDZixPQUdGb0ksRUFBS2EsT0FBU2IsRUFBS3ROLGNBQ1pzTixFQUFLdE4sT0FtQnBCLE9BQU9zTixFQWREQSxFQUFLYSxPQUFPakosTUFDZGxQLEtBQUsrUyxHQUFHaEosTUFBTXVPLFlBQVksQ0FDeEIxRyxPQUFVLFNBQ1Z0TyxLQUFVZ1UsRUFBS2hVLEtBQ2ZpVixTQUFVakIsRUFBS2EsT0FBT2pKLEtBQ3RCc0osY0FBVXhULEVBQ1Y0VCxlQUFnQnRCLEVBQUthLE9BQU8xSSxZQUM1Qm9KLG9CQUFnQjdULElBVVgsc0JBQXVCMUIsRUFBY29NLEcseUNBQ2hELE9BQU8xUCxLQUFLK1MsR0FBR2hKLE1BQU1xTixTQUFTLENBQUM5VCxJQUFPeUosS0FBTTRLLElBQ3RDQSxFQUFNclUsSUFDTnFVLEVBQU1yVSxHQUFNNlUsUUFDWlIsRUFBTXJVLEdBQU02VSxPQUFPekksV0FBYUEsSUFDbENpSSxFQUFNclUsR0FBTTZVLE9BQU93QixVQUFZM1osS0FBS3liLE9BRS9CemIsS0FBSytTLEdBQUdoSixNQUFNME8sU0FBU3pZLEtBQUs4USxNQUFNNkcsU0FJaEMsYUFBY3JVLEVBQU1rUixFQUFVMDRCLEVBQXVCQyxHLHlDQUNoRSxNQUFNcG5DLEVBQVEsR0FDUjBXLEVBQU8sR0FDUDJ3QixFQUFVLEdBRWhCLElBQUssTUFBTTM0QixLQUFRRCxFQUNqQnpPLEVBQU1sQixLQUFLdkIsRUFBS21SLEdBQ2hCZ0ksRUFBS25aLEVBQUttUixHQUFRRCxFQUFTQyxHQUU3QixJQUFLLE1BQU00NEIsS0FBYUYsRUFDdEJwbkMsRUFBTWxCLEtBQUt2QixFQUFLK3BDLEdBR2xCLE9BQU9ydEMsS0FBSytTLEdBQUdoSixNQUFNcU4sU0FBU3JSLEdBQU9nSCxLQUFNNEssSUFDekMsSUFBSTIxQixFQUNBaDJCLEVBRUosSUFBSyxNQUFNTyxLQUFZRixFQUdyQixHQUZBTCxFQUFPSyxFQUFNRSxHQUVUNEUsRUFBSzVFLEdBQ0hQLEdBQVFBLEVBQUthLE9BQ1hnekIsRUFBWTd6QixFQUFNbUYsRUFBSzVFLEdBQVVsRCxRQUNuQ3U0QixFQUFhcjFCLEdBQVksRUFBQS9TLFVBQVV3UyxHQUNuQzQxQixFQUFhcjFCLEdBQVU3TixPQUFTLENBQzlCMEYsU0FBVytNLEVBQUs1RSxHQUFVbEQsS0FDMUJnRixVQUFXM1osS0FBS3liLE9BRWxCeXhCLEVBQWFyMUIsR0FBWTdYLEtBQUt1dEMsVUFBVUwsRUFBYXIxQixNQUd2RHkxQixFQUFrQnR0QyxLQUFLK1MsR0FBR2xDLFFBQVFtSyxVQUFVbkQsR0FDcEIsUUFBcEJ5MUIsSUFDRkosRUFBYXIxQixHQUFZLENBQ3ZCdlUsS0FBTXVVLEVBQ05NLE9BQVEsQ0FDTndCLFVBQVczWixLQUFLeWIsT0FFbEJ6UixPQUFRLENBQ04wRixTQUFVK00sRUFBSzVFLEdBQVVsRCxLQUN6QmdGLFVBQVczWixLQUFLeWIsVUFNcEJ5eEIsRUFBYXIxQixJQUFhNEUsRUFBSzVFLEdBQVUsa0JBQzNDcTFCLEVBQWFyMUIsR0FBVTdOLE9BQU95RixZQUFjZ04sRUFBSzVFLEdBQVUsaUJBR3pEcTFCLEVBQWFyMUIsSUFBYTRFLEVBQUs1RSxHQUFVLG9CQUMzQ3ExQixFQUFhcjFCLEdBQVU3TixPQUFPK2hDLGNBQWdCdHZCLEVBQUs1RSxHQUFVLHdCQUUxRCxHQUFJczFCLEVBQWdCdDFCLEVBQVNyTSxVQUFVbEksRUFBS1EsVUFBWXdULEdBQVFBLEVBQUthLE9BQVEsQ0FDbEYsR0FBSWIsRUFBS2EsT0FBTzNELFNBQ2QsSUFBSyxNQUFNZzVCLEtBQWNsMkIsRUFBS2EsT0FBTzNELFNBQ25DNDRCLEVBQVF2MUIsRUFBUzIxQixJQUFjLEVBSW5DLEdBQUlsMkIsRUFBS3ZOLE9BQVN1TixFQUFLdk4sTUFBTXlLLFNBQzNCLElBQUssTUFBTWk1QixLQUFhbjJCLEVBQUt2TixNQUFNeUssU0FDakM0NEIsRUFBUXYxQixFQUFTNDFCLElBQWEsRUFJbEMsR0FBSW4yQixFQUFLdE4sUUFBVSxFQUFBeEcsU0FBU3FVLEdBQzFCcTFCLEVBQWFyMUIsUUFBWTdTLE9BSXpCLEdBRkFrb0MsRUFBYXIxQixHQUFZN1gsS0FBS3V0QyxVQUFVajJCLFFBRUYsSUFBM0I0MUIsRUFBYXIxQixHQUEyQixDQUNqRCxNQUFNdUQsRUFBYXBiLEtBQUt1c0MsY0FBYzEwQixHQUNoQzYxQixFQUFhUixFQUFhOXhCLEdBQzFCaEQsRUFBV1AsRUFBU3JNLFVBQVVsSSxFQUFLUSxRQUNyQzRwQyxHQUFjQSxFQUFXM2pDLGVBQ3BCMmpDLEVBQVczakMsTUFBTXlLLFNBQVM0RCxHQUU3QixFQUFBaFUsTUFBTXNwQyxFQUFXM2pDLE1BQU15SyxTQUFVazVCLEVBQVd2MUIsT0FBTzNELGtCQUM5Q2s1QixFQUFXM2pDLFFBUTlCLE9BQU8vSixLQUFLMnRDLGtCQUFrQjdzQyxPQUFPc08sS0FBS2crQixHQUFVRixHQUNqRG5nQyxLQUFLNmdDLEdBQ0c1dEMsS0FBSytTLEdBQUdoSixNQUFNME8sU0FBU3pZLEtBQUs4USxNQUFNODhCLFVBS3BDLGtCQUFtQjduQyxFQUFzQm1uQyxHLHlDQUNwRCxPQUFxQixJQUFqQm5uQyxFQUFNakMsT0FDRG1ELFFBQVFDLFFBQVFnbUMsR0FHbEJsdEMsS0FBSytTLEdBQUdoSixNQUFNcU4sU0FBU3JSLEdBQU9nSCxLQUFZNEssR0FBbUIsRUFBRCxnQ0FDakUsTUFBTWsyQixFQUFXLEdBRWpCLFNBQVNDLEVBQWlCcEcsRUFBUXBrQyxHQUNoQyxHQUFJb2tDLEdBQVVBLEVBQU9sekIsU0FDbkIsSUFBSyxNQUFNNEQsS0FBWXN2QixFQUFPbHpCLFNBQzVCcTVCLEVBQVN2cUMsRUFBSzhVLElBQVksRUFLaEMsSUFBSyxNQUFNOVUsS0FBUXFVLEVBQU8sQ0FDeEIsTUFBTUwsRUFBT0ssRUFBTXJVLEdBR2RnVSxJQUVELEVBQUE5VCxTQUFTRixJQUNYd3FDLEVBQWdCeDJCLEVBQUthLE9BQVE3VSxHQUM3QndxQyxFQUFnQngyQixFQUFLdk4sTUFBT3pHLElBRXhCZ1UsRUFBS2EsYUFBdUNuVCxXQUF0QnNTLEVBQUthLE9BQVcsT0FDeEMrMEIsRUFBYTVwQyxHQUFRLEVBQUF3QixVQUFVd1MsR0FDL0I0MUIsRUFBYTVwQyxHQUFNMEcsT0FBUyxDQUMxQmtGLE1BQVcsRUFDWHlLLFVBQVczWixLQUFLeWIsT0FFbEJ5eEIsRUFBYTVwQyxHQUFRdEQsS0FBS3V0QyxVQUFVTCxFQUFhNXBDLE1BTXZELE9BQU90RCxLQUFLMnRDLGtCQUFrQjdzQyxPQUFPc08sS0FBS3krQixHQUFXWCxHQUNsRG5nQyxLQUFLZ2hDLEdBQ0cvdEMsS0FBSytTLEdBQUdoSixNQUFNME8sU0FBU3pZLEtBQUs4USxNQUFNaTlCLFlBS3BDLGNBQWV6cUMsRUFBYzBxQyxFQUF3QnYrQixFQUFxQkMsRyx5Q0FDckYsSUFBSTNKLEVBQ0FxVixFQUNKLE1BQU02eUIsRUFBbUIsRUFBQW5vQyxjQUFjeEMsR0FTdkMsT0FQSSxFQUFBRSxTQUFTRixHQUNYeUMsRUFBUSxDQUFDekMsSUFFVDhYLEVBQWE2eUIsRUFBaUIsR0FDOUJsb0MsRUFBUSxDQUFDekMsRUFBTThYLElBR1ZwYixLQUFLK1MsR0FBR2hKLE1BQU1xTixTQUFTclIsR0FBT2dILEtBQU00SyxJQUN6QyxJQUFJUyxFQUVBczFCLEVBREFwMkIsRUFBZUssRUFBTXJVLEdBRXpCLE1BQU02cEMsRUFBa0IsR0FFeEIsU0FBU2UsRUFBd0J4RyxHQUMvQixHQUFJQSxHQUFVQSxFQUFPbHpCLFNBQ25CLElBQUs0RCxLQUFZc3ZCLEVBQU9sekIsU0FDakJ3NUIsRUFBZTUxQixLQUNsQiswQixFQUFnQi8wQixJQUFZLEdBa0JwQyxHQVpxQixpQkFBWCxHQUNOZCxFQUFLaFUsT0FBU0EsR0FDVSxpQkFBakJnVSxFQUFXLFNBQ3BCQSxFQUFPLENBQUVoVSxLQUFNQSxFQUFNNlUsT0FBUSxJQUM3QlIsRUFBTXJVLEdBQVFnVSxHQUdoQkEsRUFBS3ROLE9BQVMsQ0FDWjBGLFNBQVVBLEVBQ1ZpSyxVQUFXM1osS0FBS3liLE9BR2QsRUFBQWpZLFNBQVNGLEdBS1gsSUFBSzhVLEtBSkw4MUIsRUFBdUI1MkIsRUFBS2EsUUFDNUIrMUIsRUFBdUI1MkIsRUFBS3ROLFFBRTVCc04sRUFBS3ROLE9BQU93SyxTQUFXLEdBQ053NUIsRUFDZjEyQixFQUFLdE4sT0FBT3dLLFNBQVM0RCxJQUFZLE9BR25DZCxFQUFLdE4sT0FBT2tGLEtBQU84K0IsRUFDbkIxMkIsRUFBS3ROLE9BQU95RixZQUFjQSxFQUUxQmkrQixFQUFhLzFCLEVBQU15RCxHQUNmc3lCLEdBQWNBLEVBQVczakMsT0FBUzJqQyxFQUFXM2pDLE1BQU15SyxXQUNyRDRELEVBQVc5VSxFQUFLa0ksVUFBVTRQLEVBQVd0WCxRQUNyQzRwQyxFQUFXM2pDLE1BQU15SyxTQUFTNEQsSUFBWSxFQUNsQyxFQUFBaFUsTUFBTXNwQyxFQUFXM2pDLE1BQU15SyxTQUFVazVCLEVBQVd2MUIsT0FBTzNELGtCQUM5Q2s1QixFQUFXM2pDLE9BT3hCLE9BRkE0TixFQUFNclUsR0FBUXRELEtBQUt1dEMsVUFBVWoyQixHQUV0QixDQUNMNjJCLFVBQWlCeDJCLEVBQ2pCdzFCLGdCQUFpQkEsUUFLVixhQUFjN3BDLEVBQWM0bkMsRUFBUWpoQyxFQUFVeUYsRyx5Q0FDekQsT0FBTzFQLEtBQUsrUyxHQUFHaEosTUFBTXFOLFNBQVMsQ0FBQzlULElBQU95SixLQUFNNEssSUFDMUMsTUFBTUwsRUFBT0ssRUFBTXJVLEdBRW5CLElBQUtnVSxFQUFLelMsS0FFUixNQURBN0UsS0FBSzZtQixTQUFVLEVBQ1QsSUFBSTFkLE1BQU0sNENBd0NsQixPQXJDSWMsR0FDRixVQUFJLDZCQUVDcU4sRUFBS3ROLFFBQVVzTixFQUFLdE4sT0FBTzBGLFdBQWFBLElBQzNDNEgsRUFBS3ROLE9BQVMsQ0FDWjBGLFNBQVdBLEdBQVksV0FDdkJpSyxVQUFXM1osS0FBS3liLGNBRVhuRSxFQUFLelMsTUFHZDhTLEVBQU1yVSxHQUFRdEQsS0FBS3V0QyxVQUFVajJCLEtBRTdCQSxFQUFLYSxPQUFTLENBQ1p6SSxTQUFXQSxFQUNYaUssVUFBVzNaLEtBQUt5YixPQUdILFFBQVh5dkIsR0FDRjV6QixFQUFLYSxPQUFPakosS0FBT29JLEVBQUt6UyxLQUFLcUssS0FDN0JvSSxFQUFLYSxPQUFPMUksWUFBYzZILEVBQUt6UyxLQUFLNEssWUFFaEMsRUFBQXJMLE1BQU1rVCxFQUFLdk4sTUFBTW1GLEtBQU1vSSxFQUFLelMsS0FBS3FLLE9BQ2pDb0ksRUFBS3ZOLE1BQU0wRixjQUFnQjZILEVBQUt6UyxLQUFLNEssb0JBQ2hDNkgsRUFBS3ZOLGFBR1B1TixFQUFLelMsTUFDUSxXQUFYcW1DLEtBQ2UsSUFBcEI1ekIsRUFBS3ZOLE1BQU1tRixLQUNieUksRUFBTXJVLFFBQVEwQixTQUVQc1MsRUFBS3pTLE9BS1g3RSxLQUFLK1MsR0FBR2hKLE1BQU0wTyxTQUFTelksS0FBSzhRLE1BQU02RyxTQUloQyxnQkFBaUJyVSxHLHlDQUM1QixPQUFPdEQsS0FBSytTLEdBQUdoSixNQUFNcU4sU0FBUyxDQUFDOVQsSUFBT3lKLEtBQU00SyxJQUMxQyxHQUFJQSxFQUFNclUsR0FFUixjQURPcVUsRUFBTXJVLEdBQU11QixLQUNaN0UsS0FBSytTLEdBQUdoSixNQUFNME8sU0FBU3pZLEtBQUs4USxNQUFNNkcsU0FLeEMsZ0JBQWlCMUksR0FDdEIsTUFBTTZFLEVBQXlCLENBQzdCN0UsV0FBaUJBLEVBQ2pCbS9CLGdCQUFpQnBwQyxFQUNqQmlGLGNBQWlCakYsRUFDakJxcEMsWUFBaUJycEMsRUFDakJzcEMsY0FBaUJ0cEMsRUFDakJ1cEMsYUFBaUJ2cEMsRUFDakJ3cEMscUJBQWlCeHBDLEdBR25CLEdBQTBCLGlCQUFmaUssSUFDUyxZQUFmQSxHQUEyQyxZQUFmQSxHQUcvQixPQUZBNkUsRUFBT3M2QixZQUFhLEVBQ3BCdDZCLEVBQU8wNkIsaUJBQWtCLEVBQ2xCMTZCLEVBQ0YsR0FBMEIsaUJBQWY3RSxFQUF5QixDQUN6QyxNQUFNdy9CLEVBQVNsaUIsS0FBS2tGLE1BQU14aUIsRUFBYSxLQWF2QyxPQVhBNkUsRUFBT3M2QixXQUF5QixJQUFYSyxHQUNlLE1BQWZ4L0IsR0FDZSxNQUFmQSxHQUNlLE1BQWZBLEVBQ3JCNkUsRUFBTzdKLFNBQTZCLE1BQWZnRixFQUNyQjZFLEVBQU91NkIsT0FBOEIsTUFBZnAvQixHQUFzQmpQLEtBQUsrUyxHQUFHL0ksT0FBT2tELFFBQVUsVUFBVUssb0JBQzNDLE1BQWYwQixHQUNlLE1BQWZBLEVBQ3JCNkUsRUFBT3c2QixTQUE2QixNQUFmci9CLEVBQ3JCNkUsRUFBT3k2QixRQUE2QixNQUFmdC9CLEVBRWQ2RSxHQUlFLGtCQUFtQnhRLEVBQWN3USxFQUF3Qms2QixFQUFnQnYrQixFQUFxQkMsRyx5Q0FTekcsT0FSSW9FLEVBQU93NkIsV0FFUE4sSUFERSxFQUFBeHFDLFNBQVNGLElBQ00sSUFNakJ3USxFQUFPeTZCLFFBQ0Z2dUMsS0FBSzB1QyxjQUFjcHJDLEVBQU0wcUMsRUFBZ0J2K0IsRUFBYUMsR0FDMUQzQyxLQUFLNGhDLEdBQ0EsRUFBQW5yQyxTQUFTRixHQUNQdEQsS0FBSzR1QyxzQkFBc0JaLElBQzdCLFVBQUkseUVBQTJFMXFDLElBQ3hFLEdBRUF0RCxLQUFLNnVDLGFBQWF2ckMsRUFBTTBxQyxFQUFnQlcsRUFBY1IsVUFBV1EsRUFBY3hCLGlCQUNuRnBnQyxLQUFLLEtBQWUsR0FHbEIvTSxLQUFLK1MsR0FBR2hKLE1BQU0wTyxTQUFTelksS0FBSzhRLE1BQU02OUIsRUFBY1IsWUFDcERwaEMsS0FBSyxLQUFlLElBSXRCL00sS0FBSzh1QyxzQkFBc0J4ckMsRUFBTW9NLEdBQ3JDM0MsS0FBSyxLQUFlLE1BSXBCLGVBQWdCekosRUFBYzRuQyxFQUFRaHFDLEdBQzNDLE1BQU00UyxFQUFTOVQsS0FBSyt1QyxnQkFBZ0I3dEMsRUFBRStOLFlBRXRDLEdBQUk2RSxFQUFPczZCLFdBQVksQ0FDckIsR0FBZSxRQUFYbEQsRUFDRixPQUFPbHJDLEtBQUtndkMsa0JBQWtCMXJDLEVBQU13USxFQUFRNVMsRUFBRWdPLEtBQU1oTyxFQUFFdU8sWUFBYXZPLEVBQUV3TyxVQUNoRSxHQUFlLFFBQVh3N0IsR0FBK0IsV0FBWEEsRUFDN0IsT0FBT2xyQyxLQUFLaXZDLGFBQWEzckMsRUFBTTRuQyxFQUFRcDNCLEVBQU83SixTQUFVL0ksRUFBRXdPLFVBQVUzQyxNQUFLLFdBQ3ZFLE9BQU8sS0FHVCxNQUFNLElBQUk1RCxNQUFNLDZDQUE2QytoQyxLQUUxRCxDQUVMLElBQUk3b0MsRUFTSixPQVBFQSxFQURFeVIsRUFBT3U2QixPQUNELElBQUksVUFDSHY2QixFQUFPMDZCLGdCQUNSLElBQUksVUFBVSwyQkFFZCxJQUFJcmxDLE1BQU0sc0JBQXdCMkssRUFBTzdFLFdBQWEsY0FHekRqUCxLQUFLa3ZDLGdCQUFnQjVyQyxHQUFNeUosS0FBSyxLQUVyQyxNQURBL00sS0FBSytTLEdBQUdwSixNQUFNLFFBQVN0SCxHQUNqQkEsS0FLTCxXQUFZOHNDLEdBQ2pCLFFBQW9CbnFDLElBQWhCbXFDLEVBQUtqRSxPQUtULE9BQU9pRSxFQUFLbDJCLFFBQ1RsTSxLQUFLdVQsR0FDR3RnQixLQUFLb3ZDLGVBQWVELEVBQUs3ckMsS0FBTTZyQyxFQUFLakUsT0FBUTVxQixHQUNsRGpILElBQ0QsVUFBSSx5Q0FBMEM4MUIsRUFBSzdyQyxLQUFNNnJDLEVBQUtqRSxPQUFRN3hCLEdBQy9EclosS0FBS292QyxlQUFlRCxFQUFLN3JDLEtBQU02ckMsRUFBS2pFLE9BQVEsQ0FBRWo4QixXQUFZLGNBRWxFbEMsS0FBS3NpQyxJQUlKLFVBSE9ydkMsS0FBS3dyQyxhQUFhMkQsRUFBSzdyQyxhQUN2QnRELEtBQUt1ckMsU0FBUzRELEVBQUs3ckMsTUFFdEIrckMsR0FDRXJ2QyxLQUFLc3JDLE9BQU82RCxFQUFLN3JDLE1BQU8sQ0FDMUIsSUFBSyxJQUFJbEQsRUFBRSxFQUFHQSxFQUFJSixLQUFLc3JDLE9BQU82RCxFQUFLN3JDLE1BQU1RLE9BQVExRCxJQUMvQ0osS0FBS3NyQyxPQUFPNkQsRUFBSzdyQyxNQUFNbEQsWUFFbEJKLEtBQUtzckMsT0FBTzZELEVBQUs3ckMsTUFJNUJ0RCxLQUFLK1MsR0FBR3BKLE1BQU0saUJBRWQzSixLQUFLc3ZDLGNBQWEsR0FBT3ZpQyxLQUFLLE1BRXZCL00sS0FBS3V2QyxZQUFjdnZDLEtBQUs2bUIsU0FDM0IsVUFBSSxtQ0FBb0MvbEIsT0FBTzRILG9CQUFvQjFJLEtBQUtzckMsUUFBUXhuQyxPQUFROUQsS0FBSzZtQixTQUN4RjdtQixLQUFLd3ZDLE9BQ1J4dkMsS0FBS3d2QyxNQUFPLEVBQ1p4dkMsS0FBSytTLEdBQUdwSixNQUFNLGVBTWhCc0osV0FBVyxLQUFRalQsS0FBSzRyQyxXQUFjLE9BR3pDdnlCLElBQ0QsVUFBSSxlQUFnQkEsVUFDYnJaLEtBQUt3ckMsYUFBYTJELEVBQUs3ckMsYUFDdkJ0RCxLQUFLdXJDLFNBQVM0RCxFQUFLN3JDLE1BQzFCdEQsS0FBSytTLEdBQUdwSixNQUFNLGlCQUNUM0osS0FBS3d2QyxPQUNSeHZDLEtBQUt3dkMsTUFBTyxFQUNaeHZDLEtBQUsrUyxHQUFHcEosTUFBTSx1QkFoRFgzSixLQUFLdXJDLFNBQVM0RCxFQUFLN3JDLE1BcUR2QixVQUNMLElBQUltc0MsRUFBaUNuc0MsRUFBZG9zQyxFQUFXLEVBRzlCRCxFQUZBenZDLEtBQUsrUyxHQUFHL0ksT0FBTzJHLFVBQ2IzUSxLQUFLK1MsR0FBRy9JLE9BQU80SixPQUNMNVQsS0FBS3lyQyxXQUVMLEVBR0YsRUFFZCxNQUFNa0UsRUFBV0YsRUFBWTN1QyxPQUFPNEgsb0JBQW9CMUksS0FBS3VyQyxVQUFVem5DLE9BQ3ZFLEdBQUk2ckMsR0FBWSxFQUNkLE9BQU8sRUFFVCxJQUFLcnNDLEtBQVF0RCxLQUFLc3JDLE9BQ2hCLElBQUt0ckMsS0FBS3VyQyxTQUFTam9DLEtBQ2pCdEQsS0FBS3dyQyxhQUFhbG9DLEdBQVF0RCxLQUFLeWIsTUFDL0J6YixLQUFLdXJDLFNBQVNqb0MsR0FBUXRELEtBQUs0dkMsT0FBT3RzQyxHQUNsQ3RELEtBQUt1ckMsU0FBU2pvQyxHQUFNeUosS0FBSy9NLEtBQUs2dkMsV0FBV2p1QyxLQUFLNUIsT0FDOUMwdkMsSUFDSUEsR0FBWUMsR0FDZCxPQUFPLEVBSWIsT0FBUUQsR0FBWUMsRUFHVCxhQUFjRyxHLHlDQUN6QixPQUFJOXZDLEtBQUt1dkMsWUFBY3Z2QyxLQUFLNm1CLFFBQ25CNWYsUUFBUUMsVUFHVmxILEtBQUsrdkMsbUJBQW1CaGpDLEtBQUtpakMsR0FDOUJBLElBQWlDLElBQXJCRixFQUNQN29DLFFBQVFDLFVBRVJsSCxLQUFLaXdDLHVCQUViLFNBQVU1MkIsR0FBTyxNQUFNQSxRQUdyQixRQUFTL1YsRUFBYzRWLEdBQ3ZCbFosS0FBS3NyQyxPQUFPaG9DLEtBQ2Z0RCxLQUFLc3JDLE9BQU9ob0MsR0FBUSxJQUVILG1CQUFULEdBQ1J0RCxLQUFLc3JDLE9BQU9ob0MsR0FBTXVCLEtBQUtxVSxHQU9wQixPQUdMLE9BRkFsWixLQUFLd3ZDLE1BQU8sRUFFUHh2QyxLQUFLNHJDLFVBWUQza0MsUUFBUUMsVUFYUmxILEtBQUtzdkMsZUFBZXZpQyxLQUFLLEtBQzlCLElBQ0UvTSxLQUFLNHJDLFVBQ0wsTUFBTXBsQyxHQUNOLFVBQUksdUJBQXdCQSxNQUU3QixTQUFVQSxHQUVYLE1BREEsVUFBSSxvQkFBcUJBLEdBQ25CLElBQUkyQyxNQUFNLDhCQU90QixnQkFBaUJnRCxHQUNmNCtCLEVBQWMsV0FFWixVQUFJLHdDQUVKLE1BQU1tRixFQUFNLElBQUksVUFDWkEsRUFBSUMsYUE5OEJkLFNBQTJCRCxFQUFLbjlCLEdBQzlCLFNBQVNxOUIsRUFBY0MsR0FDckIsTUFBTTkzQixFQUFXeEYsRUFBR2dVLHlCQUNwQixVQUFPemMsY0FBZ0IrbEMsRUFDdkIsTUFBTTczQixFQUFXekYsRUFBR2dVLHlCQUNwQmhVLEVBQUdwSixNQUFNLHVCQUF3QixDQUFDNE8sU0FBVUEsRUFBVUMsU0FBVUEsSUFFbEUwM0IsRUFBSXptQyxHQUFHLGFBQWMsSUFBTTJtQyxHQUFhLElBQ3hDRixFQUFJem1DLEdBQUcsYUFBYyxJQUFNMm1DLEdBQWEsSUFzOEJiRSxDQUFpQkosRUFBSy9qQyxHQUV4Q0EsRUFBY3NWLE9BRWpCdFYsRUFBY3NWLEtBQU8sSUFBSTRwQixFQUFLbC9CLEdBRTFCQSxFQUFjNmEsY0FDaEIsVUFBSSxxQ0FDSjdhLEVBQWNzVixLQUFLb0YsU0FBVSxTQUN0QjFhLEVBQWM2YSxjQUl6QixVQUFJLHdDQUNKN2EsRUFBYzZWLGFBR2hCZ3BCLEVBQWdCLFdBQ2Q3K0IsRUFBY21CLG9CQUFvQixZQUFhMDlCLEdBQy9DNytCLEVBQWNva0MsYUFHaEJwa0MsRUFBYzFDLEdBQUcsUUFBU3NoQyxHQUMxQjUrQixFQUFjMUMsR0FBRyxZQUFhdWhDLEdBR2hDLG1CQUFvQjcrQixHQUNsQkEsRUFBY3FrQyxXQUNkcmtDLEVBQWNtQixvQkFBb0IsUUFBU3k5QixHQUMzQzUrQixFQUFjbUIsb0JBQW9CLFlBQWEwOUIsR0FFL0M3K0IsRUFBY3NWLFVBQU96YyxTQUNkbUgsRUFBY3NWLE1BS3pCLEVBQUExUCxZQUFZczVCLEVBQU0sQ0FBQyxZQUVuQixVQUFlQSxHLDJlQ3hoQ2YsZ0JBQ0EsV0FDQSxVQUNBLE9BV0EsSUFBSW9GLEVBRUosTUFBTUMsVUFBa0IsVUFRdEIsWUFBWUMsR0FDVmhtQyxRQUNBM0ssS0FBSzJPLFVBQVUsQ0FBQyxTQUFVLHNCQUUxQjNPLEtBQUs0d0MsR0FBS0QsR0FBWUYsRUFFakJ6d0MsS0FBSzR3QyxJQU1WNXdDLEtBQUs2d0MsWUFBYyxFQUNuQjd3QyxLQUFLOHdDLFlBQWMsRUFVbkI5d0MsS0FBSyt3QyxjQUFnQixHQVlyQi93QyxLQUFLZ3hDLGVBQWlCLEdBR3RCaHhDLEtBQUtpeEMsc0JBQXdCLE1BOUIzQixVQUFJLGlDQW9DRixTQUFVbHJDLEcseUNBQ2QsTUFBTW1yQyxFQUFTLEdBQUlDLEVBQVksR0FDL0IsSUFBSyxJQUFJL3dDLEVBQUksRUFBR3dYLEVBQU03UixFQUFNakMsT0FBUTFELEVBQUl3WCxFQUFLeFgsU0FDTjRFLElBQWpDaEYsS0FBSyt3QyxjQUFjaHJDLEVBQU0zRixJQUMzQit3QyxFQUFVcHJDLEVBQU0zRixJQUFNLEVBQUEwRSxVQUFVOUUsS0FBSyt3QyxjQUFjaHJDLEVBQU0zRixVQUFPNEUsUUFDckJBLElBQWxDaEYsS0FBS2d4QyxlQUFlanJDLEVBQU0zRixJQUNuQyt3QyxFQUFVcHJDLEVBQU0zRixJQUFNLEVBQUEwRSxVQUFVOUUsS0FBS2d4QyxlQUFlanJDLEVBQU0zRixVQUFPNEUsR0FFakVrc0MsRUFBT3JzQyxLQUFLa0IsRUFBTTNGLElBR3RCLE9BQUk4d0MsRUFBT3B0QyxPQUFTLEVBQ1g5RCxLQUFLb3hDLGVBQWVGLEdBQVFua0MsTUFBSyxTQUFVNEssR0FDaEQsSUFBSyxNQUFNdlgsS0FBSyt3QyxFQUNkeDVCLEVBQU12WCxHQUFLK3dDLEVBQVUvd0MsR0FFdkIsT0FBT3VYLEtBR0YxUSxRQUFRQyxRQUFRaXFDLE1BT3JCLFNBQVV4NUIsRyx5Q0FDZCxJQUFLLE1BQU12WCxLQUFLdVgsRUFDZDNYLEtBQUsrd0MsY0FBYzN3QyxHQUFLdVgsRUFBTXZYLEtBQU0sRUFHdEMsT0FEQUosS0FBS3F4QyxhQUNFcHFDLFFBQVFDLGFBTWpCLGFBQzJCLElBQXJCbEgsS0FBSzh3QyxZQUNQOXdDLEtBQUtzeEMscUJBRUF0eEMsS0FBS2l4Qyx3QkFDUmp4QyxLQUFLaXhDLHNCQUF3QnJ1QyxFQUFPMnVDLGFBQVksV0FDOUNqdkMsUUFBUXdOLEtBQUssd0VBQ1osTUFRVCxxQkFDTTlQLEtBQUtpeEMsd0JBQ1BPLGNBQWN4eEMsS0FBS2l4Qyx1QkFDbkJqeEMsS0FBS2l4QyxzQkFBd0IsTUFFM0Jud0MsT0FBT3NPLEtBQUtwUCxLQUFLK3dDLGVBQWVqdEMsT0FBUyxJQUMzQzlELEtBQUtneEMsZUFBaUJoeEMsS0FBSyt3QyxjQUMzQi93QyxLQUFLK3dDLGNBQWdCLEdBQ3JCL3dDLEtBQUt5eEMsYUFBYXp4QyxLQUFLZ3hDLGdCQUFnQmprQyxLQUFLL00sS0FBS3N4QyxtQkFBbUIxdkMsS0FBSzVCLFFBTzdFLGVBQWdCK0YsR0FDZCxPQUFPLElBQUlrQixRQUFRLENBQUNDLEVBQVNzRyxLQUUzQixNQUFNa2tDLEVBQWMxeEMsS0FBSzR3QyxHQUFHYyxZQUFZLENBQUMsU0FBVSxZQUM3Qy81QixFQUFRKzVCLEVBQVlDLFlBQVksU0FDaENDLEVBQWlCLEdBRXZCNXhDLEtBQUs2d0MsY0FFTDlxQyxFQUFNL0IsSUFBS1YsSUFDVHFVLEVBQU0xVyxJQUFJcUMsR0FBTXV1QyxVQUFhN3BDLElBQzNCNHBDLEVBQWV0dUMsR0FBUTBFLEVBQUloRixPQUFPaUYsVUFJdEN5cEMsRUFBWUksV0FBYSxLQUN2QjVxQyxFQUFRMHFDLEdBQ1I1eEMsS0FBSzZ3QyxlQUdQYSxFQUFZajdCLFFBQVVpN0IsRUFBWUssUUFBVSxLQUMxQ3ZrQyxFQUFPLCtCQUNQeE4sS0FBSzZ3QyxpQkFTTCxhQUFjbDVCLEcseUNBQ2xCLE9BQU8sSUFBSTFRLFFBQVEsQ0FBQ0MsRUFBU3NHLEtBRTNCLE1BQU1ra0MsRUFBYzF4QyxLQUFLNHdDLEdBQUdjLFlBQVksQ0FBQyxTQUFVLGFBQzdDTSxFQUFhTixFQUFZQyxZQUFZLFNBQ3JDTSxHQUFZLElBQUlyNEIsTUFBT0MsVUFFN0I3WixLQUFLOHdDLGNBRUwsVUFBSSwyQkFBNEJuNUIsRUFBTzNYLEtBQUs4d0MsYUFFNUMsSUFBSyxNQUFNeHRDLEtBQVFxVSxFQUFPLENBQ3hCLE1BQU1MLEVBQU9LLEVBQU1yVSxHQUNuQixHQUFzQixpQkFBWCxFQUNULElBQ0UwdUMsRUFBV2ppQyxJQUFJdUgsR0FDZixNQUFPOVEsR0FFUCxNQURBLFVBQUksa0NBQW1DOFEsRUFBTTlRLEdBQ3ZDQSxPQUdSLElBQ0V3ckMsRUFBV3ZoQyxPQUFPbk4sR0FDbEIsTUFBT2tELEdBRVAsTUFEQSxVQUFJLG1DQUFvQ3dyQyxFQUFZMTZCLEVBQU05USxHQUNwREEsR0FLWmtyQyxFQUFZSSxXQUFhLEtBQ3ZCOXhDLEtBQUs4d0MsY0FDTCxVQUFJLDJCQUE0Qm41QixFQUFPM1gsS0FBSzh3QyxhQUFjLElBQUlsM0IsTUFBT0MsVUFBWW80QixFQUFhLE1BQzlGL3FDLEtBR0Z3cUMsRUFBWWo3QixRQUFVLEtBQ3BCelcsS0FBSzh3QyxjQUNMdGpDLEVBQU8sc0JBR1Rra0MsRUFBWUssUUFBVSxLQUNwQnZrQyxFQUFPLHFCQUNQeE4sS0FBSzh3QyxvQkFVWCxNQUFPb0IsR0FDTCxNQUFNQyxFQUFTbnlDLEtBQUs0d0MsR0FBR2p3QyxLQUV2QlgsS0FBSzR3QyxHQUFHL2lDLFFBRVI2aUMsRUFBVTBCLE1BQU1weUMsS0FBSzR3QyxHQUFHandDLEtBQU0sS0FDNUIrdkMsRUFBVWhqQyxLQUFLeWtDLEVBQVEsQ0FBQzk0QixFQUFLZzVCLEtBQ3ZCaDVCLEVBQ0YsVUFBSSxrREFBbURBLEdBR3ZEclosS0FBSzR3QyxHQUFLeUIsRUFFWSxtQkFBYkgsR0FDVEEsRUFBU3Z2QyxVQVVYLFlBQWF1VyxHLHlDQUNqQixPQUFPLElBQUlqUyxRQUFTQyxJQUVFbEgsS0FBSzR3QyxHQUFHYyxZQUFZLENBQUMsU0FBVSxZQUNyQkMsWUFBWSxTQUFTVyxhQUV6Q1QsVUFBYTdwQyxJQUNyQixNQUFNMlgsRUFBUzNYLEVBQUloRixPQUFPaUYsT0FFdEIwWCxHQUNGekcsRUFBR2xaLEtBQUt1eUMsUUFBUTV5QixFQUFPdGUsUUFDdkJzZSxFQUFPNnlCLFlBRVB0ckMsVUFNUixVQUMyQixJQUFyQmxILEtBQUs4d0MsWUFDUDl3QyxLQUFLNHdDLEdBQUcvaUMsUUFFUm9GLFdBQVdqVCxLQUFLeXlDLFFBQVE3d0MsS0FBSzVCLE1BQU8sS0FReEMsWUFBYVcsRUFBY3V4QyxHQUN6QixNQUFNOTdCLEVBQVFuRCxZQUFXLFdBQ3ZCaS9CLEVBQVMsK0JBQ1IsS0FFSCxJQUNFLE1BQU1RLEVBQU1DLFVBQVVqbEMsS0FBSy9NLEVBL1FkLEdBaVJiK3hDLEVBQUlqOEIsUUFBVSxXQUNaLFVBQUksZ0NBQWlDaThCLEdBRXJDbDhCLGFBQWFKLEdBQ2I4N0IsRUFBU1EsRUFBSXJ3QyxRQUdmcXdDLEVBQUlFLGdCQUFrQixTQUFVbHBDLEdBQzlCLE1BQU1rbkMsRUFBSzhCLEVBQUl6cUMsT0FFZixVQUFJLDZCQUE4QnlCLEVBQU1tcEMsV0FBWSxPQUFRbnBDLEVBQU1vcEMsWUFFekMsSUFBckJwcEMsRUFBTW1wQyxhQUNSLFVBQUksNENBQ0pqQyxFQUFHbUMsa0JBQWtCLFFBQVMsQ0FBQ0MsUUFBUyxVQUcxQyxVQUFJLDhDQUVKcEMsRUFBR21DLGtCQUFrQixVQUFXLENBQUNDLFFBQVMsVUFHNUNOLEVBQUliLFVBQVksV0FDZHI3QixhQUFhSixHQUdiLE1BQU13NkIsRUFBSzhCLEVBQUl6cUMsT0FDZixJQUFLMm9DLEVBQUdxQyxpQkFBaUJDLFNBQVMsV0FBYXRDLEVBQUdxQyxpQkFBaUJDLFNBQVMsV0FLMUUsT0FKQSxVQUFJLGtFQUNKeEMsRUFBVTBCLE1BQU16eEMsR0FBTSxXQUNwQit2QyxFQUFVaGpDLEtBQUsvTSxFQUFNdXhDLE1BS3pCQSxFQUFTLEtBQU1RLEVBQUl6cUMsU0FFckIsTUFBTzVGLEdBQ1AsVUFBSSx3Q0FBMENBLEdBQzlDLFVBQUksb0RBRUptVSxhQUFhSixHQUViczZCLEVBQVUwQixNQUFNenhDLEdBQU0sV0FDcEIrdkMsRUFBVWhqQyxLQUFLL00sRUFBTXV4QyxPQVEzQixhQUFjaUIsRUFBc0JqQixHQUNsQyxNQUFNUSxFQUFNQyxVQUFVUyxlQUFlRCxHQUVyQ1QsRUFBSWIsVUFBWSxXQUNkLFVBQUksZ0NBQ0pLLEtBSUZRLEVBQUlqOEIsUUFBV2k4QixFQUFZWCxRQUFVLFNBQVUvcEMsR0FDN0MxRixRQUFRRCxNQUFNLDhCQUFnQzh3QyxFQUFlLElBQUtuckMsSUFZdEUsZ0JBQWlCbUUsR0FFZixPQUFPLElBQUlsRixRQUFRLENBQUNDLEVBQVNzRyxLQUUzQmtqQyxFQUFVaGpDLEtBN1ZRLGlCQTZWYyxTQUFVMkwsRUFBS3UzQixHQUN6Q3YzQixFQUNGN0wsRUFBTzZMLElBRVBvM0IsRUFBYUcsRUFFWkEsRUFBV242QixRQUFVLEtBQ25CdEssRUFBc0J4QyxNQUFNLFFBQVMwUCxJQUV4Q25TLFVBZVIsdUJBQ0UsT0FBTyxJQUFJRCxRQUFRLENBQUNDLEVBQVNzRyxLQUUzQixNQUFNdEgsRUFBVSxFQUFBckQsbUJBUWhCLElBQUl3d0MsR0FBdUIsRUFTM0IsR0FSeUIsb0JBQWRDLFdBQ1RBLFVBQVVDLFVBQVUzc0MsTUFBTSw0QkFFckIwc0MsVUFBVUMsVUFBVTNzQyxNQUFNLG9CQUM3QnlzQyxHQUF1QixJQUl2QixjQUFlbnRDLElBQVltdEMsRUFDN0IsSUFDRSxNQUFNRyxFQUFRYixVQUFVamxDLEtBQUssWUFDN0I4bEMsRUFBTS84QixRQUFVLFdBQ2RqSixLQUVGZ21DLEVBQU0zQixVQUFZLFdBQ2hCMkIsRUFBTXZyQyxPQUFPNEYsUUFDYjhrQyxVQUFVUyxlQUFlLFlBQ3pCbHNDLEtBRUYsTUFBT1YsR0FDUGdILFNBR0ZBLE1BY04sbUJBQW9CckIsR0FDbEIsT0FBTyxJQUFJbEYsUUFBU0MsSUFDZGlGLEVBQWNwQyxPQUNoQm9DLEVBQWNwQyxNQUFNMG9DLFVBR3RCL0IsRUFBVTBCLE1BNWFRLGdCQTRhZWxyQyxLQUlyQyxnQkFPRixFQUFBNkssWUFBWTIrQixFQUFXLENBQUMsWUFFeEIsVUFBZUEsSSxtTEN0ZWYsaUJBQ0EsVUFDQSxVQUNBLE9BTU0rQyxFQUFlLDZCQUdyQixTQUFTQyxFQUFtQi94QyxHQUMxQixPQUFPQSxFQUFJOEIsT0FBTyxFQUFHZ3dDLEVBQWEzdkMsVUFBWTJ2QyxHQUh6QixpQ0FJbkI5eEMsRUFBSThCLE9BQU8sRUFKUSwrQkFJVUssUUFPakMsTUFBTTZ2QyxVQUFxQixVQUN6QixjQUNFaHBDLFFBQ0EzSyxLQUFLMk8sVUFBVSxDQUFDLFNBQVUsc0JBSTVCLGVBQWU1TCxJQUlmLFNBQVNnRCxHQUNQLE1BQU00UixFQUFRLEdBRWQsSUFBSyxJQUFJdlgsRUFBSSxFQUFHd1gsRUFBTTdSLEVBQU1qQyxPQUFRMUQsRUFBSXdYLEVBQUt4WCxJQUMzQyxJQUNFdVgsRUFBTTVSLEVBQU0zRixJQUFNOEUsS0FBS0MsTUFBTWdCLGFBQWFzdEMsRUFBZTF0QyxFQUFNM0YsS0FDL0QsTUFBT29HLEdBQ1BtUixFQUFNNVIsRUFBTTNGLFNBQU00RSxFQUl0QixPQUFPaUMsUUFBUUMsUUFBUXlRLEdBR3pCLFNBQVNBLEdBQ1AsSUFBSyxNQUFNclUsS0FBUXFVLEVBRWpCeFIsYUFBYXN0QyxFQUFlbndDLEdBQVE0QixLQUFLRSxVQUFVdVMsRUFBTXJVLElBRzNELE9BQU8yRCxRQUFRQyxVQUdqQixZQUFZZ1MsR0FDVixJQUFJNUIsRUFFSixJQUFLLElBQUlsWCxFQUFJLEVBQUd3WCxFQUFNelIsYUFBYXJDLE9BQVExRCxFQUFJd1gsRUFBS3hYLElBQ2xELEdBQWMrRixhQUFheEUsSUFBSXZCLEdBekN4QnFELE9BQU8sRUFBR2d3QyxFQUFhM3ZDLFVBQVkydkMsRUF5Q04sQ0FDbEMsSUFFRW44QixFQUFPdFgsS0FBS3V5QyxRQUFRcnRDLEtBQUtDLE1BQU1nQixhQUFhQSxhQUFheEUsSUFBSXZCLE1BQzdELE1BQU9vRyxHQUNQOFEsT0FBT3RTLEVBRUxzUyxHQUNGNEIsRUFBRzVCLEdBSVQsT0FBT3JRLFFBQVFDLFVBUWpCLG1CQVNBLHVCQUNFLE9BQU8sRUFBQWpCLHdCQVVULHFCQUNFLE1BQU1tSixFQUFPLEdBRWIsSUFBSyxJQUFJaFAsRUFBSSxFQUFHd1gsRUFBTXpSLGFBQWFyQyxPQUFRMUQsRUFBSXdYLEVBQUt4WCxJQUFLLENBQ3ZELE1BQU11QixFQUFNd0UsYUFBYXhFLElBQUl2QixHQUN6QnN6QyxFQUFtQi94QyxJQUNyQnlOLEVBQUt2SyxLQUFLbEQsR0FJZHlOLEVBQUtqTSxRQUFTeEIsSUFDWixVQUFJLDBCQUEyQkEsVUFDeEJ3RSxhQUFheEUsTUFPMUIsRUFBQW9RLFlBQVk0aEMsRUFBYyxDQUFDLFlBRTNCLFVBQWVBLEcsa0tDeEhmLGdCQUNBLFdBVUEsTUFBTUMsVUFBd0IsVUFJNUIsY0FDRWpwQyxRQUhNLEtBQUFnOEIsU0FBbUMsR0FJekMzbUMsS0FBSzJPLFVBQVUsQ0FBQyxTQUFVLHNCQUc1QixTQUFTNUksR0FDUCxNQUFNNFIsRUFBaUIsR0FFdkIsSUFBSyxJQUFJdlgsRUFBSSxFQUFHd1gsRUFBTTdSLEVBQU1qQyxPQUFRMUQsRUFBSXdYLEVBQUt4WCxJQUMzQ3VYLEVBQU01UixFQUFNM0YsSUFBTUosS0FBSzJtQyxTQUFTNWdDLEVBQU0zRixJQUd4QyxPQUFPNkcsUUFBUUMsUUFBUXlRLEdBR3pCLFNBQVNBLEdBQ1AsSUFBSyxNQUFNclUsS0FBUXFVLE9BQ0czUyxJQUFoQjJTLEVBQU1yVSxVQUNEdEQsS0FBSzJtQyxTQUFTcmpDLEdBRXJCdEQsS0FBSzJtQyxTQUFTcmpDLEdBQVFxVSxFQUFNclUsR0FJaEMsT0FBTzJELFFBQVFDLFVBR2pCLFlBQVlnUyxHQUNWLElBQUssTUFBTTVWLEtBQVF0RCxLQUFLMm1DLFNBQ3RCenRCLEVBQUdsWixLQUFLdXlDLFFBQVF2eUMsS0FBSzJtQyxTQUFTcmpDLEtBRWhDLE9BQU8yRCxRQUFRQyxVQUdqQixlQVdVLG1CQVdBLHVCQUVSLE9BQU8sRUFRQyx1QkEvRVosS0FzRkE2SyxZQUFZNmhDLEVBQWlCLENBQUMsWUFFOUIsVUFBZUEiLCJmaWxlIjoicmVtb3Rlc3RvcmFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiUmVtb3RlU3RvcmFnZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJSZW1vdGVTdG9yYWdlXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlbW90ZVN0b3JhZ2VcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTcpO1xuIiwiLy8gUmV1c2FibGUgdXRpbGl0eSBmdW5jdGlvbnNcblxuaW1wb3J0IEdsb2JhbCA9IE5vZGVKUy5HbG9iYWw7XG5cbi8qKlxuICogVGFrZXMgYW4gb2JqZWN0IGFuZCBpdHMgY29weSBhcyBwcm9kdWNlZCBieSB0aGUgX2RlZXBDbG9uZSBmdW5jdGlvblxuICogYmVsb3csIGFuZCBmaW5kcyBhbmQgZml4ZXMgYW55IEFycmF5QnVmZmVycyB0aGF0IHdlcmUgY2FzdCB0byBge31gIGluc3RlYWRcbiAqIG9mIGJlaW5nIGNsb25lZCB0byBuZXcgQXJyYXlCdWZmZXJzIHdpdGggdGhlIHNhbWUgY29udGVudC5cbiAqXG4gKiBJdCByZWN1cnNlcyBpbnRvIHN1Yi1vYmplY3RzLCBidXQgc2tpcHMgYXJyYXlzIGlmIHRoZXkgb2NjdXIuXG4gKi9cbmZ1bmN0aW9uIF9maXhBcnJheUJ1ZmZlcnMoc3JjT2JqOiBvYmplY3QsIGRzdE9iajogb2JqZWN0KSB7XG4gIGlmICh0eXBlb2YgKHNyY09iaikgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoc3JjT2JqKSB8fCBzcmNPYmogPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBmaWVsZCBpbiBzcmNPYmopIHtcbiAgICBpZiAodHlwZW9mIChzcmNPYmpbZmllbGRdKSA9PT0gJ29iamVjdCcgJiYgc3JjT2JqW2ZpZWxkXSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHNyY09ialtmaWVsZF0udG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgICAgICBkc3RPYmpbZmllbGRdID0gbmV3IEFycmF5QnVmZmVyKHNyY09ialtmaWVsZF0uYnl0ZUxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHNyY0FyciA9IG5ldyBJbnQ4QXJyYXkoc3JjT2JqW2ZpZWxkXSk7XG4gICAgICAgIGNvbnN0IGRzdEFyciA9IG5ldyBJbnQ4QXJyYXkoZHN0T2JqW2ZpZWxkXSk7XG4gICAgICAgIGRzdEFyci5zZXQoc3JjQXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9maXhBcnJheUJ1ZmZlcnMoc3JjT2JqW2ZpZWxkXSwgZHN0T2JqW2ZpZWxkXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvciA9IChlcnJvcjogc3RyaW5nIHwgRXJyb3IpOiB2b2lkID0+IHtcbiAgaWYgKHR5cGVvZiAoZXJyb3IpID09PSAnc3RyaW5nJykge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2xvYmFsQ29udGV4dCA9ICh0eXBlb2YgKHdpbmRvdykgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyA/IHNlbGYgOiBnbG9iYWwpKTtcblxuZXhwb3J0IGNvbnN0IGdldEdsb2JhbENvbnRleHQgPSAoKTogYW55ID0+IHtcbiAgcmV0dXJuICh0eXBlb2YgKHdpbmRvdykgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyA/IHNlbGYgOiBnbG9iYWwpKTtcbn07XG5cbi8vIFRPRE8gUmVtb3ZlIGluIGZhdm9yIG9mIG1vZGVybiBKUzpcbi8vIGBjb25zdCBtZXJnZWRPYmplY3QgPSB7IC4uLm9iajEsIC4ub2JqMiB9YFxuZXhwb3J0IGNvbnN0IGV4dGVuZCA9ICguLi5hcmdzKTogdW5rbm93biA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGFyZ3NbMF07XG4gIGNvbnN0IHNvdXJjZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAxKTtcbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb250YWluaW5nRm9sZGVyID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGlmIChwYXRoID09PSAnJykge1xuICAgIHJldHVybiAnLyc7XG4gIH1cbiAgaWYgKCFwYXRoKSB7XG4gICAgdGhyb3cgXCJQYXRoIG5vdCBnaXZlbiFcIjtcbiAgfVxuXG4gIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKVxuICAgIC5yZXBsYWNlKC9bXlxcL10rXFwvPyQvLCAnJyk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNGb2xkZXIgPSAocGF0aDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBwYXRoLnN1YnN0cigtMSkgPT09ICcvJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0RvY3VtZW50ID0gKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gIWlzRm9sZGVyKHBhdGgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGJhc2VOYW1lID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICByZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gMl0gKyAnLyc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYW5QYXRoID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKVxuICAgIC5zcGxpdCgnLycpLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oJy8nKVxuICAgIC5yZXBsYWNlKC8nL2csICclMjcnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBiaW5kQWxsID0gKG9iamVjdDogb2JqZWN0KSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIHRoaXMpIHtcbiAgICBpZiAodHlwZW9mIChvYmplY3Rba2V5XSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9iamVjdFtrZXldID0gb2JqZWN0W2tleV0uYmluZChvYmplY3QpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVxdWFsID0gKGE6IGFueSwgYjogYW55LCBzZWVuID0gW10pOiBib29sZWFuID0+IHtcbiAgbGV0IGtleTtcblxuICBpZiAodHlwZW9mIChhKSAhPT0gdHlwZW9mIChiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgKGEpID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgKGEpID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIChhKSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuXG4gIGlmICh0eXBlb2YgKGEpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuICB9XG5cbiAgaWYgKGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciAmJiBiIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAvLyBXaXRob3V0IHRoZSBmb2xsb3dpbmcgY29udmVyc2lvbiB0aGUgYnJvd3NlcnMgd291bGRuJ3QgYmUgYWJsZSB0b1xuICAgIC8vIHRlbGwgdGhlIEFycmF5QnVmZmVyIGluc3RhbmNlcyBhcGFydC5cbiAgICBhID0gbmV3IFVpbnQ4QXJyYXkoYSk7XG4gICAgYiA9IG5ldyBVaW50OEFycmF5KGIpO1xuICB9XG5cbiAgLy8gSWYgdGhpcyBwb2ludCBoYXMgYmVlbiByZWFjaGVkLCBhIGFuZCBiIGFyZSBlaXRoZXIgYXJyYXlzIG9yIG9iamVjdHMuXG5cbiAgaWYgKGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMCwgYyA9IGEubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0sIHNlZW4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2hlY2sgdGhhdCBrZXlzIGZyb20gYSBleGlzdCBpbiBiXG4gICAgZm9yIChrZXkgaW4gYSkge1xuICAgICAgaWYgKGEuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhKGtleSBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdGhhdCBrZXlzIGZyb20gYiBleGlzdCBpbiBhLCBhbmQgY29tcGFyZSB0aGUgdmFsdWVzXG4gICAgZm9yIChrZXkgaW4gYikge1xuICAgICAgaWYgKCFiLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghKGtleSBpbiBhKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGxldCBzZWVuQXJnO1xuXG4gICAgICBpZiAodHlwZW9mIChiW2tleV0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKGJba2V5XSkgPj0gMCkge1xuICAgICAgICAgIC8vIENpcmN1bGFyIHJlZmVyZW5jZSwgZG9uJ3QgYXR0ZW1wdCB0byBjb21wYXJlIHRoaXMgb2JqZWN0LlxuICAgICAgICAgIC8vIElmIG5vdGhpbmcgZWxzZSByZXR1cm5zIGZhbHNlLCB0aGUgb2JqZWN0cyBtYXRjaC5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlZW5BcmcgPSBzZWVuLnNsaWNlKCk7XG4gICAgICAgIHNlZW5BcmcucHVzaChiW2tleV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWVxdWFsKGFba2V5XSwgYltrZXldLCBzZWVuQXJnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgZGVlcENsb25lID0gKG9iajogYW55KTogYW55ID0+IHtcbiAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjbG9uZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgX2ZpeEFycmF5QnVmZmVycyhvYmosIGNsb25lKTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBwYXRoc0Zyb21Sb290ID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdID0+IHtcbiAgY29uc3QgcGF0aHMgPSBbcGF0aF07XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5yZXBsYWNlKC9cXC8kLywgJycpLnNwbGl0KCcvJyk7XG5cbiAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICBwYXJ0cy5wb3AoKTtcbiAgICBwYXRocy5wdXNoKHBhcnRzLmpvaW4oJy8nKSArICcvJyk7XG4gIH1cbiAgcmV0dXJuIHBhdGhzO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSA9ICgpOiBib29sZWFuID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcblxuICBpZiAoISgnbG9jYWxTdG9yYWdlJyBpbiBjb250ZXh0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29udGV4dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncnMtY2hlY2snLCAnMScpO1xuICAgIGNvbnRleHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JzLWNoZWNrJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIEV4dHJhY3QgYW5kIHBhcnNlIEpTT04gZGF0YSBmcm9tIGxvY2FsU3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gbG9jYWxTdG9yYWdlIGtleVxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IHBhcnNlZCBvYmplY3Qgb3IgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSA9IChrZXk6IHN0cmluZyk6IG9iamVjdCA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBnZXRHbG9iYWxDb250ZXh0KCkgYXMgV2luZG93O1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGV4dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIG5vIEpTT04gc3RvcmVkXG4gIH1cbn07XG5cbi8qKlxuICogRGVjaWRlIGlmIGRhdGEgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYmluYXJ5IGJhc2VkIG9uIHRoZSBjb250ZW50IChwcmVzZW5jZSBvZiBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnNcbiAqIG9yIHJlcGxhY2VtZW50IGNoYXJhY3RlcikgYW5kIGNvbnRlbnQtdHlwZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIFRoZSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gbWltZVR5cGUgLSBUaGUgZGF0YSdzIGNvbnRlbnQtdHlwZVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3Qgc2hvdWxkQmVUcmVhdGVkQXNCaW5hcnkgPSAoY29udGVudDogc3RyaW5nIHwgQXJyYXlCdWZmZXIsIG1pbWVUeXBlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgcmV0dXJuICEhKChtaW1lVHlwZSAmJiBtaW1lVHlwZS5tYXRjaCgvY2hhcnNldD1iaW5hcnkvKSkgfHwgL1tcXHgwMC1cXHgwOFxceDBFLVxceDFGXFx1RkZGRF0vLnRlc3QoY29udGVudCBhcyBzdHJpbmcpKTtcbn07XG5cbi8qKlxuICogUmVhZCBkYXRhIGZyb20gYW4gQXJyYXlCdWZmZXIgYW5kIHJldHVybiBpdCBhcyBhIHN0cmluZ1xuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZ1xuICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYSBzdHJpbmcgY29udGFpbmluZyB0aGUgZGF0YVxuICovXG5leHBvcnQgY29uc3QgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlciA9IChhcnJheUJ1ZmZlcjogQXJyYXlCdWZmZXIsIGVuY29kaW5nOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IEFycmF5QnVmZmVyPiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZS8qLCByZWplY3QqLykgPT4ge1xuICAgIGlmICh0eXBlb2YgQmxvYiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBCdWZmZXIobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJlc29sdmUoYnVmZmVyLnRvU3RyaW5nKGVuY29kaW5nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBibG9iO1xuICAgICAgY29uc3QgZ2MgPSBnbG9iYWxDb250ZXh0IGFzIGFueTtcbiAgICAgIC8vIFRPRE8gZml4IGFzIEJsb2JCdWlsZGVyIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9CbG9iQnVpbGRlclxuICAgICAgZ2MuQmxvYkJ1aWxkZXIgPSBnYy5CbG9iQnVpbGRlciB8fCBnYy5XZWJLaXRCbG9iQnVpbGRlcjtcbiAgICAgIGlmICh0eXBlb2YgZ2MuQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGJiID0gbmV3IGdjLkJsb2JCdWlsZGVyKCk7XG4gICAgICAgIGJiLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgICAgIGJsb2IgPSBiYi5nZXRCbG9iKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgaWYgKHR5cGVvZiBmaWxlUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHJlc29sdmUoZXZ0LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGVSZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHJlc29sdmUoZXZ0LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIGVuY29kaW5nKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBFbmNvZGUgc3RyaW5nIGluIGJhc2U2NFxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge1N0cmluZ30gYmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCB0b0Jhc2U2NCA9IChzdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBnZXRHbG9iYWxDb250ZXh0KCk7XG4gIGlmICgnYnRvYScgaW4gY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0WydidG9hJ10oc3RyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cbn07XG5cbi8qXG4gKiBBcHBseSBtaXhpbnMgdG8gYW4gb2JqZWN0XG4gKlxuICogaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svbWl4aW5zLmh0bWxcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gUGFyZW50IG9iamVjdFxuICogQHBhcmFtIHtBcnJheX0gTWl4aW5zIHRvIGFwcGx5IG1ldGhvZHMgZnJvbVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5TWl4aW5zKGRlcml2ZWRDdG9yOiBhbnksIGJhc2VDdG9yczogYW55W10pOiB2b2lkIHtcbiAgYmFzZUN0b3JzLmZvckVhY2goYmFzZUN0b3IgPT4ge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGJhc2VDdG9yLnByb3RvdHlwZSkuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZXJpdmVkQ3Rvci5wcm90b3R5cGUsIG5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZUN0b3IucHJvdG90eXBlLCBuYW1lKSk7XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5cbi8qKlxuICogTG9nIHVzaW5nIGNvbnNvbGUubG9nLCB3aGVuIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZyBpcyBlbmFibGVkLlxuICpcbiAqIFlvdSBjYW4gZW5hYmxlIGxvZ2dpbmcgd2l0aCBgYFJlbW90ZVN0b3JhZ2UjZW5hYmxlTG9nYGAuXG4gKlxuICogKFlvdSBjYW4gYWxzbyBlbmFibGUgbG9nZ2luZyBkdXJpbmcgcmVtb3RlU3RvcmFnZSBvYmplY3QgY3JlYXRpb24uIFNlZTpcbiAqIHtAbGluayBSZW1vdGVTdG9yYWdlfSkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvZyguLi5hcmdzKTogdm9pZCB7XG4gIGlmIChjb25maWcubG9nZ2luZykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gIH1cbn1cbiIsImltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuXG4vLyBUT0RPIGFkZCByZWFsIHR5cGUgZm9yIGV2ZW50XG50eXBlIEV2ZW50SGFuZGxlciA9IChldmVudD86IHVua25vd24pID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50SGFuZGxpbmcge1xuICBfaGFuZGxlcnM6IHsgW2tleTogc3RyaW5nXTogRXZlbnRIYW5kbGVyW10gfTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgZXZlbnQgbmFtZXNcbiAgICpcbiAgICogVE9ETyBzZWUgaWYgbmVjZXNzYXJ5LCBvciBjYW4gYmUgZG9uZSBvbiB0aGUgZmx5IGluIGFkZEV2ZW50TGlzdGVuZXJcbiAgICovXG4gIGFkZEV2ZW50cyhhZGRpdGlvbmFsRXZlbnRzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIGFkZGl0aW9uYWxFdmVudHMuZm9yRWFjaChldk5hbWUgPT4gdGhpcy5fYWRkRXZlbnQoZXZOYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogSW5zdGFsbCBhbiBldmVudCBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQgbmFtZVxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lciAoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcik6IHZvaWQge1xuICAgIC8vIENoZWNrIHR5cGUgZm9yIHB1YmxpYyBjb25zdW1wdGlvbiBvZiBBUElcbiAgICBpZiAodHlwZW9mIChldmVudE5hbWUpICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBldmVudE5hbWUgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKGhhbmRsZXIpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IGhhbmRsZXIgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgbG9nKCdbRXZlbnRIYW5kbGluZ10gQWRkaW5nIGV2ZW50IGxpc3RlbmVyJywgZXZlbnROYW1lKTtcbiAgICB0aGlzLl92YWxpZGF0ZUV2ZW50KGV2ZW50TmFtZSk7XG4gICAgdGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGhhbmRsZXIpO1xuICB9XG5cbiAgLypcbiAgICogQWxpYXMgZm9yIGFkZEV2ZW50TGlzdGVuZXJcbiAgICovXG4gIG9uIChldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyKTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHByZXZpb3VzbHkgaW5zdGFsbGVkIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIgKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXIpOiB2b2lkIHtcbiAgICB0aGlzLl92YWxpZGF0ZUV2ZW50KGV2ZW50TmFtZSk7XG4gICAgY29uc3QgaGwgPSB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhsOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdW2ldID09PSBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0uc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2VtaXQgKGV2ZW50TmFtZTogc3RyaW5nLCAuLi5hcmdzKTogdm9pZCB7XG4gICAgdGhpcy5fdmFsaWRhdGVFdmVudChldmVudE5hbWUpO1xuICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0uc2xpY2UoKS5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgX3ZhbGlkYXRlRXZlbnQgKGV2ZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCEoZXZlbnROYW1lIGluIHRoaXMuX2hhbmRsZXJzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBldmVudDogXCIgKyBldmVudE5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIF9kZWxlZ2F0ZUV2ZW50IChldmVudE5hbWU6IHN0cmluZywgdGFyZ2V0KTogdm9pZCB7XG4gICAgdGFyZ2V0Lm9uKGV2ZW50TmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9lbWl0KGV2ZW50TmFtZSwgZXZlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgX2FkZEV2ZW50IChldmVudE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdGhpcy5faGFuZGxlcnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9oYW5kbGVycyA9IHt9O1xuICAgIH1cbiAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdID0gW107XG4gIH1cbn1cbiIsIi8qKlxuICogVGhlIGRlZmF1bHQgY29uZmlnLCBtZXJnZWQgd2l0aCB0aGUgb2JqZWN0IHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3Igb2YgdGhlXG4gKiBSZW1vdGVTdG9yYWdlIG9iamVjdFxuICovXG5jb25zdCBjb25maWcgPSB7XG4gIGNhY2hlOiB0cnVlLFxuICBjaGFuZ2VFdmVudHM6IHtcbiAgICBsb2NhbDogICAgdHJ1ZSxcbiAgICB3aW5kb3c6ICAgZmFsc2UsXG4gICAgcmVtb3RlOiAgIHRydWUsXG4gICAgY29uZmxpY3Q6IHRydWVcbiAgfSxcbiAgY29yZG92YVJlZGlyZWN0VXJpOiB1bmRlZmluZWQsXG4gIGxvZ2dpbmc6IGZhbHNlLFxuICBtb2R1bGVzOiBbXSxcbiAgLy8gdGhlIGZvbGxvd2luZyBhcmUgbm90IHB1YmxpYyBhbmQgd2lsbCBwcm9iYWJseSBiZSBtb3ZlZCBhd2F5IGZyb20gdGhlXG4gIC8vIGRlZmF1bHQgY29uZmlnXG4gIGJhY2tncm91bmRTeW5jSW50ZXJ2YWw6IDYwMDAwLFxuICBkaXNhYmxlRmVhdHVyZXM6IFtdLFxuICBkaXNjb3ZlcnlUaW1lb3V0OiAxMDAwMCxcbiAgaXNCYWNrZ3JvdW5kOiBmYWxzZSxcbiAgcmVxdWVzdFRpbWVvdXQ6IDMwMDAwLFxuICBzeW5jSW50ZXJ2YWw6IDEwMDAwXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWc7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVbmF1dGhvcml6ZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yIChtZXNzYWdlPzogc3RyaW5nLCBvcHRpb25zOiB7Y29kZT86IHN0cmluZ30gPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gJ1VuYXV0aG9yaXplZCc7XG5cbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSAnQXBwIGF1dGhvcml6YXRpb24gZXhwaXJlZCBvciByZXZva2VkLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvZGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmNvZGUgPSBvcHRpb25zLmNvZGU7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH07XG59XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSwgZ2xvYmFsQ29udGV4dCwgdG9CYXNlNjQgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IFVuYXV0aG9yaXplZEVycm9yIGZyb20gJy4vdW5hdXRob3JpemVkLWVycm9yJztcblxuaW50ZXJmYWNlIEF1dGhPcHRpb25zIHtcbiAgYXV0aFVSTDogc3RyaW5nO1xuICBzY29wZT86IHN0cmluZztcbiAgY2xpZW50SWQ/OiBzdHJpbmc7XG4gIHJlZGlyZWN0VXJpPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXV0aFJlc3VsdCB7XG4gIGFjY2Vzc190b2tlbj86IHN0cmluZztcbiAgcnNEaXNjb3Zlcnk/OiBvYmplY3Q7XG4gIGVycm9yPzogc3RyaW5nO1xuICByZW1vdGVzdG9yYWdlPzogc3RyaW5nO1xuICBzdGF0ZT86IHN0cmluZztcbn1cblxuLy8gVGhpcyBpcyBzZXQgaW4gX3JzX2luaXQgYW5kIG5lZWRlZCBmb3IgcmVtb3ZhbCBpbiBfcnNfY2xlYW51cFxubGV0IG9uRmVhdHVyZXNMb2FkZWQ6IEZ1bmN0aW9uO1xuXG5mdW5jdGlvbiBleHRyYWN0UGFyYW1zICh1cmw/OiBzdHJpbmcpOiBBdXRoUmVzdWx0IHtcbiAgLy8gRkYgYWxyZWFkeSBkZWNvZGVzIHRoZSBVUkwgZnJhZ21lbnQgaW4gZG9jdW1lbnQubG9jYXRpb24uaGFzaCwgc28gdXNlIHRoaXMgaW5zdGVhZDpcbiAgY29uc3QgbG9jYXRpb24gPSB1cmwgfHwgQXV0aG9yaXplLmdldExvY2F0aW9uKCkuaHJlZjtcbiAgY29uc3QgaGFzaFBvcyAgPSBsb2NhdGlvbi5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoUG9zID09PSAtMSkgeyByZXR1cm47IH1cbiAgY29uc3QgdXJsRnJhZ21lbnQgPSBsb2NhdGlvbi5zdWJzdHJpbmcoaGFzaFBvcysxKTtcbiAgLy8gaWYgaGFzaCBpcyBub3Qgb2YgdGhlIGZvcm0gI2tleT12YWwma2V5PXZhbCwgaXQncyBwcm9iYWJseSBub3QgZm9yIHVzXG4gIGlmICghdXJsRnJhZ21lbnQuaW5jbHVkZXMoJz0nKSkgeyByZXR1cm47IH1cblxuICByZXR1cm4gdXJsRnJhZ21lbnQuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24ocGFyYW1zLCBrdnMpIHtcbiAgICBjb25zdCBrdiA9IGt2cy5zcGxpdCgnPScpO1xuXG4gICAgaWYgKGt2WzBdID09PSAnc3RhdGUnICYmIGt2WzFdLm1hdGNoKC9yc0Rpc2NvdmVyeS8pKSB7XG4gICAgICAvLyBleHRyYWN0IHJzRGlzY292ZXJ5IGRhdGEgZnJvbSB0aGUgc3RhdGUgcGFyYW1cbiAgICAgIGxldCBzdGF0ZVZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzFdKTtcbiAgICAgIGNvbnN0IGVuY29kZWREYXRhID0gc3RhdGVWYWx1ZS5zdWJzdHIoc3RhdGVWYWx1ZS5pbmRleE9mKCdyc0Rpc2NvdmVyeT0nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJyYnKVswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnPScpWzFdO1xuXG4gICAgICBwYXJhbXNbJ3JzRGlzY292ZXJ5J10gPSBKU09OLnBhcnNlKGF0b2IoZW5jb2RlZERhdGEpKTtcblxuICAgICAgLy8gcmVtb3ZlIHJzRGlzY292ZXJ5IHBhcmFtXG4gICAgICBzdGF0ZVZhbHVlID0gc3RhdGVWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyY/cnNEaXNjb3Zlcnk9JyArIGVuY29kZWREYXRhKSwgJycpO1xuXG4gICAgICBpZiAoc3RhdGVWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhcmFtc1snc3RhdGUnXSA9IHN0YXRlVmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtc1tkZWNvZGVVUklDb21wb25lbnQoa3ZbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChrdlsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBidWlsZE9BdXRoVVJMIChhdXRoVVJMOiBzdHJpbmcsIHJlZGlyZWN0VXJpOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcsIGNsaWVudElkOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBoYXNoUG9zID0gcmVkaXJlY3RVcmkuaW5kZXhPZignIycpO1xuICBsZXQgdXJsID0gYXV0aFVSTDtcblxuICB1cmwgKz0gYXV0aFVSTC5pbmRleE9mKCc/JykgPiAwID8gJyYnIDogJz8nO1xuICB1cmwgKz0gJ3JlZGlyZWN0X3VyaT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpLnJlcGxhY2UoLyMuKiQvLCAnJykpO1xuICB1cmwgKz0gJyZzY29wZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNjb3BlKTtcbiAgdXJsICs9ICcmY2xpZW50X2lkPScgKyBlbmNvZGVVUklDb21wb25lbnQoY2xpZW50SWQpO1xuXG4gIGlmIChoYXNoUG9zICE9PSAtIDEgJiYgaGFzaFBvcysxICE9PSByZWRpcmVjdFVyaS5sZW5ndGgpIHtcbiAgICB1cmwgKz0gJyZzdGF0ZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpLnN1YnN0cmluZyhoYXNoUG9zKzEpKTtcbiAgfVxuICB1cmwgKz0gJyZyZXNwb25zZV90eXBlPXRva2VuJztcblxuICByZXR1cm4gdXJsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRob3JpemUge1xuICBzdGF0aWMgSU1QTElFRF9GQUtFX1RPS0VOID0gZmFsc2U7XG5cbiAgc3RhdGljIGF1dGhvcml6ZSAocmVtb3RlU3RvcmFnZSwgeyBhdXRoVVJMLCBzY29wZSwgcmVkaXJlY3RVcmksIGNsaWVudElkIH06IEF1dGhPcHRpb25zKTogdm9pZCB7XG4gICAgbG9nKCdbQXV0aG9yaXplXSBhdXRoVVJMID0gJywgYXV0aFVSTCwgJ3Njb3BlID0gJywgc2NvcGUsICdyZWRpcmVjdFVyaSA9ICcsIHJlZGlyZWN0VXJpLCAnY2xpZW50SWQgPSAnLCBjbGllbnRJZCk7XG5cbiAgICAvLyBUT0RPIGFkZCBhIHRlc3QgZm9yIHRoaXNcbiAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBkaXNjb3ZlcnkgZGF0YSBkdXJpbmcgcmVkaXJlY3QgaWYgd2UgY2FuJ3Qgc2F2ZSBpdCBpbiBsb2NhbFN0b3JhZ2VcbiAgICBpZiAoIWxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpICYmIHJlbW90ZVN0b3JhZ2UuYmFja2VuZCA9PT0gJ3JlbW90ZXN0b3JhZ2UnKSB7XG4gICAgICByZWRpcmVjdFVyaSArPSByZWRpcmVjdFVyaS5pbmRleE9mKCcjJykgPiAwID8gJyYnIDogJyMnO1xuXG4gICAgICBjb25zdCBkaXNjb3ZlcnlEYXRhID0ge1xuICAgICAgICB1c2VyQWRkcmVzczogcmVtb3RlU3RvcmFnZS5yZW1vdGUudXNlckFkZHJlc3MsXG4gICAgICAgIGhyZWY6IHJlbW90ZVN0b3JhZ2UucmVtb3RlLmhyZWYsXG4gICAgICAgIHN0b3JhZ2VBcGk6IHJlbW90ZVN0b3JhZ2UucmVtb3RlLnN0b3JhZ2VBcGksXG4gICAgICAgIHByb3BlcnRpZXM6IHJlbW90ZVN0b3JhZ2UucmVtb3RlLnByb3BlcnRpZXNcbiAgICAgIH07XG5cbiAgICAgIHJlZGlyZWN0VXJpICs9ICdyc0Rpc2NvdmVyeT0nICsgdG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoZGlzY292ZXJ5RGF0YSkpO1xuICAgIH1cblxuICAgIGNvbnN0IHVybCA9IGJ1aWxkT0F1dGhVUkwoYXV0aFVSTCwgcmVkaXJlY3RVcmksIHNjb3BlLCBjbGllbnRJZCk7XG5cbiAgICAvLyBGSVhNRSBkZWNsYXJlIHBvdGVudGlhbCBgY29yZG9udmFgIHByb3BlcnR5IG9uIGdsb2JhbCBzb21laG93LCBzbyB3ZSBkb24ndCBoYXZlIHRvXG4gICAgLy8gdXNlIGEgc3RyaW5nIGFjY2Vzc29yIGhlcmUuXG4gICAgaWYgKGdsb2JhbENvbnRleHRbJ2NvcmRvdmEnXSkge1xuICAgICAgQXV0aG9yaXplXG4gICAgICAgIC5vcGVuV2luZG93KHVybCwgcmVkaXJlY3RVcmksICdsb2NhdGlvbj15ZXMsY2xlYXJzZXNzaW9uY2FjaGU9eWVzLGNsZWFyY2FjaGU9eWVzJylcbiAgICAgICAgLnRoZW4oKGF1dGhSZXN1bHQ6IEF1dGhSZXN1bHQpID0+IHtcbiAgICAgICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZS5jb25maWd1cmUoeyB0b2tlbjogYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4gfSk7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEF1dGhvcml6ZS5zZXRMb2NhdGlvbih1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGRvY3VtZW50IGxvY2F0aW9uXG4gICAqXG4gICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIGFjY2VzcyB0byBkb2N1bWVudC5sb2NhdGlvbiBpcyBmb3JiaWRkZW5cbiAgICovXG4gIHN0YXRpYyBnZXRMb2NhdGlvbiA9IGZ1bmN0aW9uICgpOiBMb2NhdGlvbiB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPcGVuIG5ldyBJbkFwcEJyb3dzZXIgd2luZG93IGZvciBPQXV0aCBpbiBDb3Jkb3ZhXG4gICAqL1xuICBzdGF0aWMgb3BlbldpbmRvdyA9IGZ1bmN0aW9uICh1cmwsIHJlZGlyZWN0VXJpLCBvcHRpb25zKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IGFueSA9PiB7XG5cbiAgICAgIGNvbnN0IG5ld1dpbmRvdyA9IG9wZW4odXJsLCAnX2JsYW5rJywgb3B0aW9ucyk7XG5cbiAgICAgIGlmICghbmV3V2luZG93IHx8IG5ld1dpbmRvdy5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdCgnQXV0aG9yaXphdGlvbiBwb3B1cCB3YXMgYmxvY2tlZCcpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVFeGl0ICgpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdCgnQXV0aG9yaXphdGlvbiB3YXMgY2FuY2VsZWQnKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUxvYWRzdGFydCAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnVybC5pbmRleE9mKHJlZGlyZWN0VXJpKSAhPT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld1dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdleGl0JywgaGFuZGxlRXhpdCk7XG4gICAgICAgIG5ld1dpbmRvdy5jbG9zZSgpO1xuXG4gICAgICAgIGNvbnN0IGF1dGhSZXN1bHQ6IEF1dGhSZXN1bHQgPSBleHRyYWN0UGFyYW1zKGV2ZW50LnVybCk7XG5cbiAgICAgICAgaWYgKCFhdXRoUmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdCgnQXV0aG9yaXphdGlvbiBlcnJvcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc29sdmUoYXV0aFJlc3VsdCk7XG4gICAgICB9O1xuXG4gICAgICBuZXdXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZHN0YXJ0JywgaGFuZGxlTG9hZHN0YXJ0KTtcbiAgICAgIG5ld1dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdleGl0JywgaGFuZGxlRXhpdCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCBjdXJyZW50IGRvY3VtZW50IGxvY2F0aW9uXG4gICAqXG4gICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIGFjY2VzcyB0byBkb2N1bWVudC5sb2NhdGlvbiBpcyBmb3JiaWRkZW5cbiAgICovXG4gIHN0YXRpYyBzZXRMb2NhdGlvbiAobG9jYXRpb246IHN0cmluZyB8IExvY2F0aW9uKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IFwiSW52YWxpZCBsb2NhdGlvbiBcIiArIGxvY2F0aW9uO1xuICAgIH1cbiAgfTtcblxuICBzdGF0aWMgX3JzX3N1cHBvcnRlZCAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHR5cGVvZihkb2N1bWVudCkgIT09ICd1bmRlZmluZWQnO1xuICB9O1xuXG4gIHN0YXRpYyBfcnNfaW5pdCA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlKTogdm9pZCB7XG4gICAgY29uc3QgcGFyYW1zID0gZXh0cmFjdFBhcmFtcygpO1xuICAgIGxldCBsb2NhdGlvbjtcblxuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIGxvY2F0aW9uID0gQXV0aG9yaXplLmdldExvY2F0aW9uKCk7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuXG4gICAgb25GZWF0dXJlc0xvYWRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGF1dGhQYXJhbXNVc2VkID0gZmFsc2U7XG5cbiAgICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLnN0b3BXYWl0aW5nRm9yVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfTtcblxuICAgICAgaWYgKHBhcmFtcy5lcnJvcikge1xuICAgICAgICBpZiAocGFyYW1zLmVycm9yID09PSAnYWNjZXNzX2RlbmllZCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoJ0F1dGhvcml6YXRpb24gZmFpbGVkOiBhY2Nlc3MgZGVuaWVkJywgeyBjb2RlOiAnYWNjZXNzX2RlbmllZCcgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKGBBdXRob3JpemF0aW9uIGZhaWxlZDogJHtwYXJhbXMuZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcnNEaXNjb3ZlcnkgY2FtZSB3aXRoIHRoZSByZWRpcmVjdCwgYmVjYXVzZSBpdCBjb3VsZG4ndCBiZVxuICAgICAgLy8gc2F2ZWQgaW4gbG9jYWxTdG9yYWdlXG4gICAgICBpZiAocGFyYW1zLnJzRGlzY292ZXJ5KSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZShwYXJhbXMucnNEaXNjb3ZlcnkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmFjY2Vzc190b2tlbikge1xuICAgICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZS5jb25maWd1cmUoeyB0b2tlbjogcGFyYW1zLmFjY2Vzc190b2tlbiB9KTtcbiAgICAgICAgYXV0aFBhcmFtc1VzZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnJlbW90ZXN0b3JhZ2UpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5jb25uZWN0KHBhcmFtcy5yZW1vdGVzdG9yYWdlKTtcbiAgICAgICAgYXV0aFBhcmFtc1VzZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnN0YXRlKSB7XG4gICAgICAgIGxvY2F0aW9uID0gQXV0aG9yaXplLmdldExvY2F0aW9uKCk7XG4gICAgICAgIEF1dGhvcml6ZS5zZXRMb2NhdGlvbihsb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMF0rJyMnK3BhcmFtcy5zdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXV0aFBhcmFtc1VzZWQpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuc3RvcFdhaXRpbmdGb3JUb2tlbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZW1vdGVTdG9yYWdlLm9uKCdmZWF0dXJlcy1sb2FkZWQnLCBvbkZlYXR1cmVzTG9hZGVkKTtcbiAgfTtcblxuICBzdGF0aWMgX3JzX2NsZWFudXAgKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICByZW1vdGVTdG9yYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZlYXR1cmVzLWxvYWRlZCcsIG9uRmVhdHVyZXNMb2FkZWQpO1xuICB9O1xufTtcbiIsImltcG9ydCB0djQgZnJvbSAndHY0JztcbmltcG9ydCBUeXBlcyBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBTY2hlbWFOb3RGb3VuZCBmcm9tICcuL3NjaGVtYS1ub3QtZm91bmQtZXJyb3InO1xuaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgYXBwbHlNaXhpbnMsIGNsZWFuUGF0aCB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogUHJvdmlkZXMgYSBoaWdoLWxldmVsIGludGVyZmFjZSB0byBhY2Nlc3MgZGF0YSBiZWxvdyBhIGdpdmVuIHJvb3QgcGF0aC5cbiAqL1xuZnVuY3Rpb24gQmFzZUNsaWVudCAoc3RvcmFnZSwgYmFzZTogc3RyaW5nKSB7XG4gIGlmIChiYXNlW2Jhc2UubGVuZ3RoIC0gMV0gIT09ICcvJykge1xuICAgIHRocm93IFwiTm90IGEgZm9sZGVyOiBcIiArIGJhc2U7XG4gIH1cblxuICBpZiAoYmFzZSA9PT0gJy8nKSB7XG4gICAgLy8gYWxsb3cgYWJzb2x1dGUgYW5kIHJlbGF0aXZlIHBhdGhzIGZvciB0aGUgcm9vdCBzY29wZS5cbiAgICB0aGlzLm1ha2VQYXRoID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICByZXR1cm4gKHBhdGhbMF0gPT09ICcvJyA/ICcnIDogJy8nKSArIHBhdGg7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgPFJlbW90ZVN0b3JhZ2U+IGluc3RhbmNlIHRoaXMgPEJhc2VDbGllbnQ+IG9wZXJhdGVzIG9uLlxuICAgKi9cbiAgdGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcblxuICAvKipcbiAgICogQmFzZSBwYXRoLCB3aGljaCB0aGlzIDxCYXNlQ2xpZW50PiBvcGVyYXRlcyBvbi5cbiAgICpcbiAgICogRm9yIHRoZSBtb2R1bGUncyBwcml2YXRlQ2xpZW50IHRoaXMgd291bGQgYmUgLzxtb2R1bGVOYW1lPi8sIGZvciB0aGVcbiAgICogY29ycmVzcG9uZGluZyBwdWJsaWNDbGllbnQgL3B1YmxpYy88bW9kdWxlTmFtZT4vLlxuICAgKi9cbiAgdGhpcy5iYXNlID0gYmFzZTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnQgd2hhdCB0aGlzIGRvZXMgZXhhY3RseVxuICAgKi9cbiAgY29uc3QgcGFydHMgPSB0aGlzLmJhc2Uuc3BsaXQoJy8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA+IDIpIHtcbiAgICB0aGlzLm1vZHVsZU5hbWUgPSBwYXJ0c1sxXTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm1vZHVsZU5hbWUgPSAncm9vdCc7XG4gIH1cblxuICB0aGlzLmFkZEV2ZW50cyhbJ2NoYW5nZSddKTtcbiAgdGhpcy5vbiA9IHRoaXMub24uYmluZCh0aGlzKTtcbiAgc3RvcmFnZS5vbkNoYW5nZSh0aGlzLmJhc2UsIHRoaXMuX2ZpcmVDaGFuZ2UuYmluZCh0aGlzKSk7XG59O1xuXG5CYXNlQ2xpZW50LlR5cGVzID0gVHlwZXM7XG5cbkJhc2VDbGllbnQucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgYSBuZXcgY2xpZW50LCBzY29wZWQgdG8gYSBzdWJwYXRoIG9mIHRoZSBjdXJyZW50IGNsaWVudCdzXG4gICAqIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gc2NvcGUgdGhlIG5ldyBjbGllbnQgdG8uXG4gICAqXG4gICAqIEByZXR1cm5zIHtCYXNlQ2xpZW50fSBBIG5ldyBjbGllbnQgb3BlcmF0aW5nIG9uIGEgc3VicGF0aCBvZiB0aGUgY3VycmVudFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgYmFzZSBwYXRoLlxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCB0eXBlIChyZXF1aXJlcyBiaWdnZXIgcmVmYWN0b3IpXG4gIHNjb3BlOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nKTogdW5rbm93biB7XG4gICAgcmV0dXJuIG5ldyBCYXNlQ2xpZW50KHRoaXMuc3RvcmFnZSwgdGhpcy5tYWtlUGF0aChwYXRoKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhIGxpc3Qgb2YgY2hpbGQgbm9kZXMgYmVsb3cgYSBnaXZlbiBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIHF1ZXJ5LiBJdCBNVVNUIGVuZCB3aXRoIGEgZm9yd2FyZCBzbGFzaC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEFnZSAtIChvcHRpb25hbCkgRWl0aGVyIGBgZmFsc2VgYCBvciB0aGUgbWF4aW11bSBhZ2Ugb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlZCBsaXN0aW5nIGluIG1pbGxpc2Vjb25kcy4gU2VlIDpyZWY6YG1heC1hZ2VgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciBhbiBvYmplY3QgcmVwcmVzZW50aW5nIGNoaWxkIG5vZGVzXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIGdldExpc3Rpbmc6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG1heEFnZT86IGZhbHNlIHwgbnVtYmVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXRoID0gJyc7XG4gICAgfSBlbHNlIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aFtwYXRoLmxlbmd0aCAtIDFdICE9PSAnLycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIk5vdCBhIGZvbGRlcjogXCIgKyBwYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKFxuICAgICAgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIChyLnN0YXR1c0NvZGUgPT09IDQwNCkgPyB7fSA6IHIuYm9keTtcbiAgICAgIH1cbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIG9iamVjdHMgZGlyZWN0bHkgYmVsb3cgYSBnaXZlbiBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggdG8gdGhlIGZvbGRlci4gTXVzdCBlbmQgaW4gYSBmb3J3YXJkIHNsYXNoLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gKG9wdGlvbmFsKSBFaXRoZXIgYGBmYWxzZWBgIG9yIHRoZSBtYXhpbXVtIGFnZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkIG9iamVjdHMgaW4gbWlsbGlzZWNvbmRzLiBTZWUgOnJlZjpgbWF4LWFnZWAuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCByZXR1cm4gdHlwZVxuICBnZXRBbGw6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG1heEFnZT86IGZhbHNlIHwgbnVtYmVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXRoID0gJyc7XG4gICAgfSBlbHNlIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aFtwYXRoLmxlbmd0aCAtIDFdICE9PSAnLycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIk5vdCBhIGZvbGRlcjogXCIgKyBwYXRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBtYXhBZ2UpLnRoZW4oKHIpID0+IHtcbiAgICAgIGlmIChyLnN0YXR1c0NvZGUgPT09IDQwNCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIChyLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoci5ib2R5KTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gdHJlYXQgdGhpcyBsaWtlIDQwNC4gaXQgcHJvYmFibHkgbWVhbnMgYSBmb2xkZXIgbGlzdGluZyB0aGF0XG4gICAgICAgICAgLy8gaGFzIGNoYW5nZXMgdGhhdCBoYXZlbid0IGJlZW4gcHVzaGVkIG91dCB5ZXQuXG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FsbHMgPSBrZXlzLm1hcCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGggKyBrZXkpLCBtYXhBZ2UpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIChvLmJvZHkpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBvLmJvZHkgPSBKU09OLnBhcnNlKG8uYm9keSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoby5ib2R5KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICByLmJvZHlba2V5XSA9IG8uYm9keTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoY2FsbHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiByLmJvZHk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGUgYXQgdGhlIGdpdmVuIHBhdGguIEEgZmlsZSBpcyByYXcgZGF0YSwgYXMgb3Bwb3NlZCB0b1xuICAgKiBhIEpTT04gb2JqZWN0ICh1c2UgOmZ1bmM6YGdldE9iamVjdGAgZm9yIHRoYXQpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFJlbGF0aXZlIHBhdGggZnJvbSB0aGUgbW9kdWxlIHJvb3QgKHdpdGhvdXQgbGVhZGluZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHNsYXNoKS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEFnZSAtIChvcHRpb25hbCkgRWl0aGVyIGBgZmFsc2VgYCBvciB0aGUgbWF4aW11bSBhZ2Ugb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBjYWNoZWQgZmlsZSBpbiBtaWxsaXNlY29uZHMuIFNlZSA6cmVmOmBtYXgtYWdlYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIGdldEZpbGU6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG1heEFnZT86IGZhbHNlIHwgbnVtYmVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5nZXRGaWxlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiByLmJvZHksXG4gICAgICAgIGNvbnRlbnRUeXBlOiByLmNvbnRlbnRUeXBlLFxuICAgICAgICByZXZpc2lvbjogci5yZXZpc2lvbiAvLyAodGhpcyBpcyBuZXcpXG4gICAgICB9O1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdG9yZSByYXcgZGF0YSBhdCBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIE1JTUUgbWVkaWEgdHlwZSBvZiB0aGUgZGF0YSBiZWluZyBzdG9yZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggICAgIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3RcbiAgICogQHBhcmFtIHtzdHJpbmd8QXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBib2R5IC0gUmF3IGRhdGEgdG8gc3RvcmVcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgdGhlIGNyZWF0ZWQvdXBkYXRlZCByZXZpc2lvbiAoRVRhZylcbiAgICovXG4gIHN0b3JlRmlsZTogZnVuY3Rpb24gKG1pbWVUeXBlOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgYm9keTogc3RyaW5nIHwgQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmICh0eXBlb2YgKG1pbWVUeXBlKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwnbWltZVR5cGVcXCcgb2YgYmFzZUNsaWVudC5zdG9yZUZpbGUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlRmlsZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKGJvZHkpICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgKGJvZHkpICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdib2R5XFwnIG9mIGJhc2VDbGllbnQuc3RvcmVGaWxlIG11c3QgYmUgYSBzdHJpbmcsIEFycmF5QnVmZmVyLCBvciBBcnJheUJ1ZmZlclZpZXcnKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnN0b3JhZ2UuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24odGhpcy5tYWtlUGF0aChwYXRoKSwgJ3J3JykpIHtcbiAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogRWRpdGluZyBhIGRvY3VtZW50IHRvIHdoaWNoIG9ubHkgcmVhZCBhY2Nlc3MgKFxcJ3JcXCcpIHdhcyBjbGFpbWVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5wdXQodGhpcy5tYWtlUGF0aChwYXRoKSwgYm9keSwgbWltZVR5cGUpLnRoZW4oKHIpID0+IHtcbiAgICAgIGlmIChyLnN0YXR1c0NvZGUgPT09IDIwMCB8fCByLnN0YXR1c0NvZGUgPT09IDIwMSkge1xuICAgICAgICByZXR1cm4gci5yZXZpc2lvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlJlcXVlc3QgKFBVVCBcIiArIHRoaXMubWFrZVBhdGgocGF0aCkgKyBcIikgZmFpbGVkIHdpdGggc3RhdHVzOiBcIiArIHIuc3RhdHVzQ29kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhIEpTT04gb2JqZWN0IGZyb20gdGhlIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUmVsYXRpdmUgcGF0aCBmcm9tIHRoZSBtb2R1bGUgcm9vdCAod2l0aG91dCBsZWFkaW5nXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgc2xhc2gpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gKG9wdGlvbmFsKSBFaXRoZXIgYGBmYWxzZWBgIG9yIHRoZSBtYXhpbXVtIGFnZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkIG9iamVjdCBpbiBtaWxsaXNlY29uZHMuIFNlZSA6cmVmOmBtYXgtYWdlYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSwgd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgcmVxdWVzdGVkIG9iamVjdCAob3IgYGBudWxsYGBcbiAgICogICAgICAgICAgaWYgbm9uLWV4aXN0ZW50KVxuICAgKi9cblxuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIGdldE9iamVjdDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmdldE9iamVjdCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRoaXMubWFrZVBhdGgocGF0aCksIG1heEFnZSkudGhlbigocikgPT4ge1xuICAgICAgaWYgKHR5cGVvZiAoci5ib2R5KSA9PT0gJ29iamVjdCcpIHsgLy8gd2lsbCBiZSB0aGUgY2FzZSBmb3IgZG9jdW1lbnRzIHN0b3JlZCB3aXRoIHJzLmpzIDw9IDAuMTAuMC1iZXRhMlxuICAgICAgICByZXR1cm4gci5ib2R5O1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKHIuYm9keSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoci5ib2R5KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRocm93IFwiTm90IHZhbGlkIEpTT046IFwiICsgdGhpcy5tYWtlUGF0aChwYXRoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKHIuYm9keSkgIT09ICd1bmRlZmluZWQnICYmIHIuc3RhdHVzQ29kZSA9PT0gMjAwKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIk5vdCBhbiBvYmplY3Q6IFwiICsgdGhpcy5tYWtlUGF0aChwYXRoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN0b3JlIG9iamVjdCBhdCBnaXZlbiBwYXRoLiBUcmlnZ2VycyBzeW5jaHJvbml6YXRpb24uXG4gICAqXG4gICAqIFNlZSBgYGRlY2xhcmVUeXBlKClgYCBhbmQgOmRvYzpgZGF0YSB0eXBlcyA8L2RhdGEtbW9kdWxlcy9kZWZpbmluZy1kYXRhLXR5cGVzPmBcbiAgICogZm9yIGFuIGV4cGxhbmF0aW9uIG9mIHR5cGVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlQWxpYXMgICAtIFVuaXF1ZSB0eXBlIG9mIHRoaXMgb2JqZWN0IHdpdGhpbiB0aGlzIG1vZHVsZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggICAtIFBhdGggcmVsYXRpdmUgdG8gdGhlIG1vZHVsZSByb290LlxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IC0gQSBKYXZhU2NyaXB0IG9iamVjdCB0byBiZSBzdG9yZWQgYXQgdGhlIGdpdmVuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoLiBNdXN0IGJlIHNlcmlhbGl6YWJsZSBhcyBKU09OLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCByZXZpc2lvbiBvbiBzdWNjZXNzLiBSZWplY3RzIHdpdGhcbiAgICogICAgICAgICAgICAgICAgICAgIGEgVmFsaWRhdGlvbkVycm9yLCBpZiB2YWxpZGF0aW9ucyBmYWlsLlxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCByZXR1cm4gdHlwZVxuICBzdG9yZU9iamVjdDogZnVuY3Rpb24gKHR5cGVBbGlhczogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIG9iamVjdDogb2JqZWN0KTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAodHlwZUFsaWFzKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwndHlwZUFsaWFzXFwnIG9mIGJhc2VDbGllbnQuc3RvcmVPYmplY3QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlT2JqZWN0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAob2JqZWN0KSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwnb2JqZWN0XFwnIG9mIGJhc2VDbGllbnQuc3RvcmVPYmplY3QgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hdHRhY2hUeXBlKG9iamVjdCwgdHlwZUFsaWFzKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gdGhpcy52YWxpZGF0ZShvYmplY3QpO1xuICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnZhbGlkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh2YWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChleGMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChleGMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UucHV0KHRoaXMubWFrZVBhdGgocGF0aCksIEpTT04uc3RyaW5naWZ5KG9iamVjdCksICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JykudGhlbigocikgPT4ge1xuICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gMjAwIHx8IHIuc3RhdHVzQ29kZSA9PT0gMjAxKSB7XG4gICAgICAgIHJldHVybiByLnJldmlzaW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiUmVxdWVzdCAoUFVUIFwiICsgdGhpcy5tYWtlUGF0aChwYXRoKSArIFwiKSBmYWlsZWQgd2l0aCBzdGF0dXM6IFwiICsgci5zdGF0dXNDb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIG5vZGUgYXQgZ2l2ZW4gcGF0aCBmcm9tIHN0b3JhZ2UuIFRyaWdnZXJzIHN5bmNocm9uaXphdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHJlbGF0aXZlIHRvIHRoZSBtb2R1bGUgcm9vdC5cbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIHJlbW92ZTogZnVuY3Rpb24gKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQucmVtb3ZlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnN0b3JhZ2UuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24odGhpcy5tYWtlUGF0aChwYXRoKSwgJ3J3JykpIHtcbiAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogUmVtb3ZpbmcgYSBkb2N1bWVudCB0byB3aGljaCBvbmx5IHJlYWQgYWNjZXNzIChcXCdyXFwnKSB3YXMgY2xhaW1lZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZGVsZXRlKHRoaXMubWFrZVBhdGgocGF0aCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBmdWxsIFVSTCBvZiBhIGRvY3VtZW50LiBVc2VmdWwgZm9yIGV4YW1wbGUgZm9yIHNoYXJpbmcgdGhlIHB1YmxpY1xuICAgKiBVUkwgb2YgYW4gaXRlbSBpbiB0aGUgYGAvcHVibGljYGAgZm9sZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggcmVsYXRpdmUgdG8gdGhlIG1vZHVsZSByb290LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZnVsbCBVUkwgb2YgdGhlIGl0ZW0sIGluY2x1ZGluZyB0aGUgc3RvcmFnZSBvcmlnaW5cbiAgICovXG4gIGdldEl0ZW1VUkw6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5nZXRJdGVtVVJMIG11c3QgYmUgYSBzdHJpbmcnO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdG9yYWdlLmNvbm5lY3RlZCkge1xuICAgICAgcGF0aCA9IGNsZWFuUGF0aCh0aGlzLm1ha2VQYXRoKHBhdGgpKTtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UucmVtb3RlLmhyZWYgKyBwYXRoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU2V0IGNhY2hpbmcgc3RyYXRlZ3kgZm9yIGEgZ2l2ZW4gcGF0aCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgKlxuICAgKiBTZWUgOnJlZjpgY2FjaGluZy1zdHJhdGVnaWVzYCBmb3IgYSBkZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGUgYXZhaWxhYmxlXG4gICAqIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byBjYWNoZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyYXRlZ3kgLSBDYWNoaW5nIHN0cmF0ZWd5LiBPbmUgb2YgJ0FMTCcsICdTRUVOJywgb3JcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZMVVNIJy4gRGVmYXVsdHMgdG8gJ0FMTCcuXG4gICAqXG4gICAqIEByZXR1cm5zIHtCYXNlQ2xpZW50fSBUaGUgc2FtZSBpbnN0YW5jZSB0aGlzIGlzIGNhbGxlZCBvbiB0byBhbGxvdyBmb3IgbWV0aG9kIGNoYWluaW5nXG4gICAqL1xuICBjYWNoZTogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgc3RyYXRlZ3k6ICdBTEwnIHwgJ1NFRU4nIHwgJ0ZMVVNIJyA9ICdBTEwnKSB7XG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5jYWNoZSBtdXN0IGJlIGEgc3RyaW5nJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHN0cmF0ZWd5ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgJ0FyZ3VtZW50IFxcJ3N0cmF0ZWd5XFwnIG9mIGJhc2VDbGllbnQuY2FjaGUgbXVzdCBiZSBhIHN0cmluZyBvciB1bmRlZmluZWQnO1xuICAgIH1cblxuICAgIGlmIChzdHJhdGVneSAhPT0gJ0ZMVVNIJyAmJlxuICAgICAgc3RyYXRlZ3kgIT09ICdTRUVOJyAmJlxuICAgICAgc3RyYXRlZ3kgIT09ICdBTEwnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwnc3RyYXRlZ3lcXCcgb2YgYmFzZWNsaWVudC5jYWNoZSBtdXN0IGJlIG9uZSBvZiAnXG4gICAgICArICdbXCJGTFVTSFwiLCBcIlNFRU5cIiwgXCJBTExcIl0nO1xuICAgIH1cbiAgICB0aGlzLnN0b3JhZ2UuY2FjaGluZy5zZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgc3RyYXRlZ3kpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZXR1cm4gdHlwZSBvbmNlIGtub3duXG4gIGZsdXNoOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nKTogdW5rbm93biB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5sb2NhbC5mbHVzaChwYXRoKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVjbGFyZSBhIHJlbW90ZVN0b3JhZ2Ugb2JqZWN0IHR5cGUgdXNpbmcgYSBKU09OIHNjaGVtYS5cbiAgICpcbiAgICogU2VlIDpkb2M6YERlZmluaW5nIGRhdGEgdHlwZXMgPC9kYXRhLW1vZHVsZXMvZGVmaW5pbmctZGF0YS10eXBlcz5gIGZvciBtb3JlIGluZm8uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhbGlhcyAgLSBBIHR5cGUgYWxpYXMvc2hvcnRuYW1lXG4gICAqIEBwYXJhbSB7dXJpfSAgICB1cmkgICAgLSAob3B0aW9uYWwpIEpTT04tTEQgVVJJIG9mIHRoZSBzY2hlbWEuIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGlmIG5vbmUgZ2l2ZW5cbiAgICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYSAtIEEgSlNPTiBTY2hlbWEgb2JqZWN0IGRlc2NyaWJpbmcgdGhlIG9iamVjdCB0eXBlXG4gICAqKi9cbiAgZGVjbGFyZVR5cGU6IGZ1bmN0aW9uIChhbGlhczogYW55LCB1cmlPclNjaGVtYTogYW55LCBzY2hlbWE/OiBhbnkpOiB2b2lkIHtcbiAgICBsZXQgdXJpOiBzdHJpbmc7XG5cbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgc2NoZW1hID0gdXJpT3JTY2hlbWE7XG4gICAgICB1cmkgPSB0aGlzLl9kZWZhdWx0VHlwZVVSSShhbGlhcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVyaSA9IHVyaU9yU2NoZW1hO1xuICAgIH1cblxuICAgIEJhc2VDbGllbnQuVHlwZXMuZGVjbGFyZSh0aGlzLm1vZHVsZU5hbWUsIGFsaWFzLCB1cmksIHNjaGVtYSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGFuIG9iamVjdCBhZ2FpbnN0IHRoZSBhc3NvY2lhdGVkIHNjaGVtYS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEpTIG9iamVjdCB0byB2YWxpZGF0ZS4gTXVzdCBoYXZlIGEgYGBAY29udGV4dGBgIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB2YWxpZGF0aW9uIGVycm9yc1xuICAgKiovXG4gIHZhbGlkYXRlOiBmdW5jdGlvbiAob2JqZWN0OiBvYmplY3QpOiBvYmplY3Qge1xuICAgIGNvbnN0IHNjaGVtYSA9IEJhc2VDbGllbnQuVHlwZXMuZ2V0U2NoZW1hKG9iamVjdFsnQGNvbnRleHQnXSk7XG4gICAgaWYgKHNjaGVtYSkge1xuICAgICAgcmV0dXJuIHR2NC52YWxpZGF0ZVJlc3VsdChvYmplY3QsIHNjaGVtYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBTY2hlbWFOb3RGb3VuZChvYmplY3RbJ0Bjb250ZXh0J10pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVE9ETyBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2NoZW1hczoge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBCYXNlQ2xpZW50LlR5cGVzLmluU2NvcGUodGhpcy5tb2R1bGVOYW1lKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IEpTT04tTEQgQGNvbnRleHQgVVJMIGZvciBSUyB0eXBlcy9vYmplY3RzL2RvY3VtZW50c1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlZmF1bHRUeXBlVVJJOiBmdW5jdGlvbiAoYWxpYXM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdodHRwOi8vcmVtb3Rlc3RvcmFnZS5pby9zcGVjL21vZHVsZXMvJyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLm1vZHVsZU5hbWUpICsgJy8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFsaWFzKTtcbiAgfSxcblxuICAvKipcbiAgICogQXR0YWNoZXMgdGhlIEpTT04tTEQgQGNvbnRlbnQgdG8gYW4gb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYXR0YWNoVHlwZTogZnVuY3Rpb24gKG9iamVjdDogb2JqZWN0LCBhbGlhczogc3RyaW5nKTogdm9pZCB7XG4gICAgb2JqZWN0WydAY29udGV4dCddID0gQmFzZUNsaWVudC5UeXBlcy5yZXNvbHZlQWxpYXModGhpcy5tb2R1bGVOYW1lICsgJy8nICsgYWxpYXMpIHx8IHRoaXMuX2RlZmF1bHRUeXBlVVJJKGFsaWFzKTtcbiAgfSxcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1ha2VQYXRoOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5iYXNlICsgKHBhdGggfHwgJycpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZpcmVDaGFuZ2U6IGZ1bmN0aW9uIChldmVudDogQ2hhbmdlT2JqKSB7XG4gICAgaWYgKGNvbmZpZy5jaGFuZ2VFdmVudHNbZXZlbnQub3JpZ2luXSkge1xuICAgICAgWyduZXcnLCAnb2xkJywgJ2xhc3RDb21tb24nXS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZE5hbWVQcmVmaXgpIHtcbiAgICAgICAgaWYgKCghZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ0NvbnRlbnRUeXBlJ10pXG4gICAgICAgICAgfHwgKC9eYXBwbGljYXRpb25cXC8oLiopanNvbiguKikvLmV4ZWMoZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ0NvbnRlbnRUeXBlJ10pKSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgKGV2ZW50W2ZpZWxkTmFtZVByZWZpeCArICdWYWx1ZSddKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGV2ZW50W2ZpZWxkTmFtZVByZWZpeCArICdWYWx1ZSddID0gSlNPTi5wYXJzZShldmVudFtmaWVsZE5hbWVQcmVmaXggKyAnVmFsdWUnXSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2VtaXQoJ2NoYW5nZScsIGV2ZW50KTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbkJhc2VDbGllbnQuX3JzX2luaXQgPSBmdW5jdGlvbiAoKTogdm9pZCB7XG59O1xuXG5pbnRlcmZhY2UgQmFzZUNsaWVudCBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhCYXNlQ2xpZW50LCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXNlQ2xpZW50O1xuIiwiaW1wb3J0IEF1dGhvcml6ZSBmcm9tICcuL2F1dGhvcml6ZSc7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IFVuYXV0aG9yaXplZEVycm9yIGZyb20gJy4vdW5hdXRob3JpemVkLWVycm9yJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQge1xuICBhcHBseU1peGlucyxcbiAgY2xlYW5QYXRoLFxuICBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSxcbiAgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcixcbiAgaXNGb2xkZXIsXG4gIGxvY2FsU3RvcmFnZUF2YWlsYWJsZSxcbiAgc2hvdWxkQmVUcmVhdGVkQXNCaW5hcnlcbn0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIGZpbGUgZXhwb3NlcyBhIGdldC9wdXQvZGVsZXRlIGludGVyZmFjZSBvbiB0b3Agb2YgZmV0Y2goKSBvciBYTUxIdHRwUmVxdWVzdC5cbiAqIEl0IHJlcXVpcmVzIHRvIGJlIGNvbmZpZ3VyZWQgd2l0aCBwYXJhbWV0ZXJzIGFib3V0IHRoZSByZW1vdGVzdG9yYWdlIHNlcnZlciB0b1xuICogY29ubmVjdCB0by5cbiAqIEVhY2ggaW5zdGFuY2Ugb2YgV2lyZUNsaWVudCBpcyBhbHdheXMgYXNzb2NpYXRlZCB3aXRoIGEgc2luZ2xlIHJlbW90ZXN0b3JhZ2VcbiAqIHNlcnZlciBhbmQgYWNjZXNzIHRva2VuLlxuICpcbiAqIFVzdWFsbHkgdGhlIFdpcmVDbGllbnQgaW5zdGFuY2UgY2FuIGJlIGFjY2Vzc2VkIHZpYSBgcmVtb3RlU3RvcmFnZS5yZW1vdGVgLlxuICpcbiAqIFRoaXMgaXMgdGhlIGdldC9wdXQvZGVsZXRlIGludGVyZmFjZTpcbiAqXG4gKiAgIC0gI2dldCgpIHRha2VzIGEgcGF0aCBhbmQgb3B0aW9uYWxseSBhIGlmTm9uZU1hdGNoIG9wdGlvbiBjYXJyeWluZyBhIHZlcnNpb25cbiAqICAgICBzdHJpbmcgdG8gY2hlY2suIEl0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2l0aCB0aGUgSFRUUFxuICogICAgIHJlc3BvbnNlIHN0YXR1cywgdGhlIHJlc3BvbnNlIGJvZHksIHRoZSBNSU1FIHR5cGUgYXMgcmV0dXJuZWQgaW4gdGhlXG4gKiAgICAgJ0NvbnRlbnQtVHlwZScgaGVhZGVyIGFuZCB0aGUgY3VycmVudCByZXZpc2lvbiwgYXMgcmV0dXJuZWQgaW4gdGhlICdFVGFnJ1xuICogICAgIGhlYWRlci5cbiAqICAgLSAjcHV0KCkgdGFrZXMgYSBwYXRoLCB0aGUgcmVxdWVzdCBib2R5IGFuZCBhIGNvbnRlbnQgdHlwZSBzdHJpbmcuIEl0IGFsc29cbiAqICAgICBhY2NlcHRzIHRoZSBpZk1hdGNoIGFuZCBpZk5vbmVNYXRjaCBvcHRpb25zLCB0aGF0IG1hcCB0byB0aGUgSWYtTWF0Y2ggYW5kXG4gKiAgICAgSWYtTm9uZS1NYXRjaCBoZWFkZXJzIHJlc3BlY3RpdmVseS4gU2VlIHRoZSByZW1vdGVzdG9yYWdlLTAxIHNwZWNpZmljYXRpb25cbiAqICAgICBmb3IgZGV0YWlscyBvbiBoYW5kbGluZyB0aGVzZSBoZWFkZXJzLiBJdCByZXR1cm5zIGEgcHJvbWlzZSwgZnVsZmlsbGVkIHdpdGhcbiAqICAgICB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhlIG9uZSBmb3IgI2dldCgpLlxuICogICAtICNkZWxldGUoKSB0YWtlcyBhIHBhdGggYW5kIHRoZSBpZk1hdGNoIG9wdGlvbiBhcyB3ZWxsLiBJdCByZXR1cm5zIGEgcHJvbWlzZVxuICogICAgIGZ1bGZpbGxlZCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGUgb25lIGZvciAjZ2V0KCkuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gdGhpcywgdGhlIFdpcmVDbGllbnQgaGFzIHNvbWUgY29tcGF0aWJpbGl0eSBmZWF0dXJlcyB0byB3b3JrIHdpdGhcbiAqIHJlbW90ZXN0b3JhZ2UgMjAxMi4wNCBjb21wYXRpYmxlIHN0b3JhZ2VzLiBGb3IgZXhhbXBsZSBpdCB3aWxsIGNhY2hlIHJldmlzaW9uc1xuICogZnJvbSBmb2xkZXIgbGlzdGluZ3MgaW4tbWVtb3J5IGFuZCByZXR1cm4gdGhlbSBhY2NvcmRpbmdseSBhcyB0aGUgXCJyZXZpc2lvblwiXG4gKiBwYXJhbWV0ZXIgaW4gcmVzcG9uc2UgdG8gI2dldCgpIHJlcXVlc3RzLiBTaW1pbGFybHkgaXQgd2lsbCByZXR1cm4gNDA0IHdoZW4gaXRcbiAqIHJlY2VpdmVzIGFuIGVtcHR5IGZvbGRlciBsaXN0aW5nLCB0byBtaW1pYyByZW1vdGVzdG9yYWdlLTAxIGJlaGF2aW9yLiBOb3RlXG4gKiB0aGF0IGl0IGlzIG5vdCBhbHdheXMgcG9zc2libGUgdG8ga25vdyB0aGUgcmV2aXNpb24gYmVmb3JlaGFuZCwgaGVuY2UgaXQgbWF5XG4gKiBiZSB1bmRlZmluZWQgYXQgdGltZXMgKGVzcGVjaWFsbHkgZm9yIGNhY2hpbmctcm9vdHMpLlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqL1xuXG5sZXQgaGFzTG9jYWxTdG9yYWdlO1xuY29uc3QgU0VUVElOR1NfS0VZID0gJ3JlbW90ZXN0b3JhZ2U6d2lyZWNsaWVudCc7XG5cbmNvbnN0IEFQSV8yMDEyID0gMTtcbmNvbnN0IEFQSV8wMCA9IDI7XG5jb25zdCBBUElfMDEgPSAzO1xuY29uc3QgQVBJXzAyID0gNDtcbmNvbnN0IEFQSV9IRUFEID0gNTtcblxuY29uc3QgU1RPUkFHRV9BUElTID0ge1xuICAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDAnOiBBUElfMDAsXG4gICdkcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wMSc6IEFQSV8wMSxcbiAgJ2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlLTAyJzogQVBJXzAyLFxuICAnaHR0cHM6Ly93d3cudzMub3JnL2NvbW11bml0eS9yd3cvd2lraS9yZWFkLXdyaXRlLXdlYi0wMCNzaW1wbGUnOiBBUElfMjAxMlxufTtcblxubGV0IGlzQXJyYXlCdWZmZXJWaWV3O1xuXG5pZiAodHlwZW9mICgoZ2xvYmFsIHx8IHdpbmRvdyBhcyBhbnkpLkFycmF5QnVmZmVyVmlldykgPT09ICdmdW5jdGlvbicpIHtcbiAgaXNBcnJheUJ1ZmZlclZpZXcgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCAmJiAob2JqZWN0IGluc3RhbmNlb2YgKGdsb2JhbCB8fCB3aW5kb3cgYXMgYW55KS5BcnJheUJ1ZmZlclZpZXcpO1xuICB9O1xufSBlbHNlIHtcbiAgY29uc3QgYXJyYXlCdWZmZXJWaWV3cyA9IFtcbiAgICBJbnQ4QXJyYXksIFVpbnQ4QXJyYXksIEludDE2QXJyYXksIFVpbnQxNkFycmF5LFxuICAgIEludDMyQXJyYXksIFVpbnQzMkFycmF5LCBGbG9hdDMyQXJyYXksIEZsb2F0NjRBcnJheVxuICBdO1xuICBpc0FycmF5QnVmZmVyVmlldyA9IGZ1bmN0aW9uIChvYmplY3QpOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIGFycmF5QnVmZmVyVmlld3NbaV0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuLy8gVE9ETyBkb3VibGUgY2hlY2tcbmludGVyZmFjZSBXaXJlQ2xpZW50U2V0dGluZ3Mge1xuICB1c2VyQWRkcmVzczogc3RyaW5nO1xuICBocmVmOiBzdHJpbmc7XG4gIHN0b3JhZ2VBcGk6IHVua25vd247XG4gIHRva2VuOiBzdHJpbmc7XG4gIHByb3BlcnRpZXM6IHVua25vd247XG59XG5cbmludGVyZmFjZSBXaXJlUmVxdWVzdFJlc3BvbnNlIHtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xuICByZXZpc2lvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBhZGRRdW90ZXMgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiAoc3RyKSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIGlmIChzdHIgPT09ICcqJykge1xuICAgIHJldHVybiAnKic7XG4gIH1cblxuICByZXR1cm4gJ1wiJyArIHN0ciArICdcIic7XG59XG5cbmZ1bmN0aW9uIHN0cmlwUXVvdGVzIChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgKHN0cikgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZUNoYXJzZXQgKG1pbWVUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBsZXQgY2hhcnNldCA9ICdVVEYtOCc7XG4gIGxldCBjaGFyc2V0TWF0Y2g7XG5cbiAgaWYgKG1pbWVUeXBlKSB7XG4gICAgY2hhcnNldE1hdGNoID0gbWltZVR5cGUubWF0Y2goL2NoYXJzZXQ9KC4rKSQvKTtcbiAgICBpZiAoY2hhcnNldE1hdGNoKSB7XG4gICAgICBjaGFyc2V0ID0gY2hhcnNldE1hdGNoWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhcnNldDtcbn1cblxuZnVuY3Rpb24gaXNGb2xkZXJEZXNjcmlwdGlvbiAoYm9keTogb2JqZWN0KTogYm9vbGVhbiB7XG4gIHJldHVybiAoKGJvZHlbJ0Bjb250ZXh0J10gPT09ICdodHRwOi8vcmVtb3Rlc3RvcmFnZS5pby9zcGVjL2ZvbGRlci1kZXNjcmlwdGlvbicpXG4gICAgJiYgKHR5cGVvZiAoYm9keVsnaXRlbXMnXSkgPT09ICdvYmplY3QnKSk7XG59XG5cbmZ1bmN0aW9uIGlzU3VjY2Vzc1N0YXR1cyAoc3RhdHVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIFsyMDEsIDIwNCwgMzA0XS5pbmRleE9mKHN0YXR1cykgPj0gMDtcbn1cblxuZnVuY3Rpb24gaXNFcnJvclN0YXR1cyAoc3RhdHVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgcmV0dXJuIFs0MDEsIDQwMywgNDA0LCA0MTJdLmluZGV4T2Yoc3RhdHVzKSA+PSAwO1xufVxuXG5mdW5jdGlvbiBpc0ZvcmJpZGRlblJlcXVlc3RNZXRob2QobWV0aG9kOiBzdHJpbmcsIHVyaTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmIChtZXRob2QgPT09ICdQVVQnIHx8IG1ldGhvZCA9PT0gJ0RFTEVURScpIHtcbiAgICByZXR1cm4gaXNGb2xkZXIodXJpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGFzcyA6IFdpcmVDbGllbnRcbiAqKi9cbmNvbnN0IFdpcmVDbGllbnQgPSBmdW5jdGlvbiBXaXJlQ2xpZW50KHJzKTogdm9pZCB7XG4gIHRoaXMucnMgPSBycztcbiAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogRXZlbnQ6IGNvbm5lY3RlZFxuICAgKiAgIEZpcmVkIHdoZW4gdGhlIHdpcmVjbGllbnQgY29ubmVjdCBtZXRob2QgcmVhbGl6ZXMgdGhhdCBpdCBpcyBpblxuICAgKiAgIHBvc3Nlc3Npb24gb2YgYSB0b2tlbiBhbmQgaHJlZlxuICAgKiovXG4gIHRoaXMuYWRkRXZlbnRzKFsnY29ubmVjdGVkJywgJ25vdC1jb25uZWN0ZWQnXSk7XG5cbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UoU0VUVElOR1NfS0VZKTtcbiAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLl9yZXZpc2lvbkNhY2hlID0ge307XG5cbiAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgc2V0VGltZW91dCh0aGlzLl9lbWl0LmJpbmQodGhpcyksIDAsICdjb25uZWN0ZWQnKTtcbiAgfVxufTtcblxuV2lyZUNsaWVudC5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBQcm9wZXJ0eTogdG9rZW5cbiAgICpcbiAgICogSG9sZHMgdGhlIGJlYXJlciB0b2tlbiBvZiB0aGlzIFdpcmVDbGllbnQsIGFzIG9idGFpbmVkIGluIHRoZSBPQXV0aCBkYW5jZVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKlxuICAgKiAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLnRva2VuXG4gICAqICAgLy8gLT4gJ0RFQURCRUVGMDE9PSdcbiAgICovXG5cbiAgLyoqXG4gICAqIFByb3BlcnR5OiBocmVmXG4gICAqXG4gICAqIEhvbGRzIHRoZSBzZXJ2ZXIncyBiYXNlIFVSTCwgYXMgb2J0YWluZWQgaW4gdGhlIFdlYmZpbmdlciBkaXNjb3ZlcnlcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICpcbiAgICogICByZW1vdGVTdG9yYWdlLnJlbW90ZS5ocmVmXG4gICAqICAgLy8gLT4gJ2h0dHBzOi8vc3RvcmFnZS5leGFtcGxlLmNvbS91c2Vycy9qYmxvZ2cvJ1xuICAgKi9cblxuICAvKipcbiAgICogUHJvcGVydHk6IHN0b3JhZ2VBcGlcbiAgICpcbiAgICogSG9sZHMgdGhlIHNwZWMgdmVyc2lvbiB0aGUgc2VydmVyIGNsYWltcyB0byBiZSBjb21wYXRpYmxlIHdpdGhcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICpcbiAgICogICByZW1vdGVTdG9yYWdlLnJlbW90ZS5zdG9yYWdlQXBpXG4gICAqICAgLy8gLT4gJ2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlLTAxJ1xuICAgKi9cblxuICBfcmVxdWVzdDogYXN5bmMgZnVuY3Rpb24gKG1ldGhvZDogc3RyaW5nLCB1cmk6IHN0cmluZywgdG9rZW46IHN0cmluZyB8IGZhbHNlLCBoZWFkZXJzOiBvYmplY3QsIGJvZHk6IHVua25vd24sIGdldEV0YWc6IGJvb2xlYW4sIGZha2VSZXZpc2lvbj86IHN0cmluZyk6IFByb21pc2U8V2lyZVJlcXVlc3RSZXNwb25zZT4ge1xuICAgIGlmIChpc0ZvcmJpZGRlblJlcXVlc3RNZXRob2QobWV0aG9kLCB1cmkpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYERvbid0IHVzZSAke21ldGhvZH0gb24gZGlyZWN0b3JpZXMhYCk7XG4gICAgfVxuXG4gICAgbGV0IHJldmlzaW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAodG9rZW4gIT09IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU4pIHtcbiAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRva2VuO1xuICAgIH1cblxuICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtYnVzeScsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVyaSlcbiAgICB9KTtcblxuICAgIHJldHVybiBXaXJlQ2xpZW50LnJlcXVlc3QobWV0aG9kLCB1cmksIHtcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgfSkudGhlbigocmVzcG9uc2U6IFhNTEh0dHBSZXF1ZXN0KTogUHJvbWlzZTxXaXJlUmVxdWVzdFJlc3BvbnNlPiA9PiB7XG4gICAgICBpZiAoIXRoaXMub25saW5lKSB7XG4gICAgICAgIHRoaXMub25saW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vbmxpbmUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtZG9uZScsIHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmkpLFxuICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKGlzRXJyb3JTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgICAgICBsb2coJ1tXaXJlQ2xpZW50XSBFcnJvciByZXNwb25zZSBzdGF0dXMnLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBpZiAoZ2V0RXRhZykge1xuICAgICAgICAgIHJldmlzaW9uID0gc3RyaXBRdW90ZXMocmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXNpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgcmV2aXNpb246IHJldmlzaW9ufSk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3VjY2Vzc1N0YXR1cyhyZXNwb25zZS5zdGF0dXMpIHx8XG4gICAgICAgIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiBtZXRob2QgIT09ICdHRVQnKSkge1xuICAgICAgICByZXZpc2lvbiA9IHN0cmlwUXVvdGVzKHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdFVGFnJykpO1xuICAgICAgICBsb2coJ1tXaXJlQ2xpZW50XSBTdWNjZXNzZnVsIHJlcXVlc3QnLCByZXZpc2lvbik7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgcmV2aXNpb246IHJldmlzaW9ufSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcbiAgICAgICAgaWYgKGdldEV0YWcpIHtcbiAgICAgICAgICByZXZpc2lvbiA9IHN0cmlwUXVvdGVzKHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdFVGFnJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmlzaW9uID0gKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSA/IGZha2VSZXZpc2lvbiA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYXJzZXQgPSBkZXRlcm1pbmVDaGFyc2V0KG1pbWVUeXBlKTtcblxuICAgICAgICBpZiAoc2hvdWxkQmVUcmVhdGVkQXNCaW5hcnkocmVzcG9uc2UucmVzcG9uc2UsIG1pbWVUeXBlKSkge1xuICAgICAgICAgIGxvZygnW1dpcmVDbGllbnRdIFN1Y2Nlc3NmdWwgcmVxdWVzdCB3aXRoIHVua25vd24gb3IgYmluYXJ5IG1pbWUtdHlwZScsIHJldmlzaW9uKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IG1pbWVUeXBlLFxuICAgICAgICAgICAgcmV2aXNpb246IHJldmlzaW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGdldFRleHRGcm9tQXJyYXlCdWZmZXIocmVzcG9uc2UucmVzcG9uc2UsIGNoYXJzZXQpXG4gICAgICAgICAgICAudGhlbigodGV4dENvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgbG9nKCdbV2lyZUNsaWVudF0gU3VjY2Vzc2Z1bCByZXF1ZXN0JywgcmV2aXNpb24pO1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgYm9keTogdGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IG1pbWVUeXBlLFxuICAgICAgICAgICAgICAgIHJldmlzaW9uOiByZXZpc2lvblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgaWYgKHRoaXMub25saW5lKSB7XG4gICAgICAgIHRoaXMub25saW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb2ZmbGluZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVyaSksXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICpcbiAgICogTWV0aG9kOiBjb25maWd1cmVcbiAgICpcbiAgICogU2V0cyB0aGUgdXNlckFkZHJlc3MsIGhyZWYsIHN0b3JhZ2VBcGksIHRva2VuLCBhbmQgcHJvcGVydGllcyBvZiBhXG4gICAqIHJlbW90ZSBzdG9yZS4gQWxzbyBzZXRzIGNvbm5lY3RlZCBhbmQgb25saW5lIHRvIHRydWUgYW5kIGVtaXRzIHRoZVxuICAgKiAnY29ubmVjdGVkJyBldmVudCwgaWYgYm90aCB0b2tlbiBhbmQgaHJlZiBhcmUgcHJlc2VudC5cbiAgICpcbiAgICogUGFyYW1ldGVyczpcbiAgICogICBzZXR0aW5ncyAtIEFuIG9iamVjdCB0aGF0IG1heSBjb250YWluIHVzZXJBZGRyZXNzIChzdHJpbmcgb3IgbnVsbCksXG4gICAqICAgICAgICAgICAgICBocmVmIChzdHJpbmcgb3IgbnVsbCksIHN0b3JhZ2VBcGkgKHN0cmluZyBvciBudWxsKSwgdG9rZW4gKHN0cmluZ1xuICAgKiAgICAgICAgICAgICAgb3IgbnVsbCksIGFuZC9vciBwcm9wZXJ0aWVzICh0aGUgSlNPTi1wYXJzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICogICAgICAgICAgICAgIGZyb20gdGhlIHVzZXIncyBXZWJGaW5nZXIgcmVjb3JkLCBzZWUgc2VjdGlvbiAxMCBvZlxuICAgKiAgICAgICAgICAgICAgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDNcbiAgICogICAgICAgICAgICAgIG9yIG51bGwpLlxuICAgKiAgICAgICAgICAgICAgRmllbGRzIHRoYXQgYXJlIG5vdCBpbmNsdWRlZCAoaS5lLiBgdW5kZWZpbmVkYCksIHN0YXkgYXRcbiAgICogICAgICAgICAgICAgIHRoZWlyIGN1cnJlbnQgdmFsdWUuIFRvIHNldCBhIGZpZWxkLCBpbmNsdWRlIHRoYXQgZmllbGRcbiAgICogICAgICAgICAgICAgIHdpdGggYSBgc3RyaW5nYCB2YWx1ZS4gVG8gcmVzZXQgYSBmaWVsZCwgZm9yIGluc3RhbmNlIHdoZW5cbiAgICogICAgICAgICAgICAgIHRoZSB1c2VyIGRpc2Nvbm5lY3RlZCB0aGVpciBzdG9yYWdlLCBvciB5b3UgZm91bmQgdGhhdCB0aGVcbiAgICogICAgICAgICAgICAgIHRva2VuIHlvdSBoYXZlIGhhcyBleHBpcmVkLCBzaW1wbHkgc2V0IHRoYXQgZmllbGQgdG8gYG51bGxgLlxuICAgKi9cbiAgY29uZmlndXJlOiBmdW5jdGlvbiAoc2V0dGluZ3M6IFdpcmVDbGllbnRTZXR0aW5ncyk6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dpcmVDbGllbnQgY29uZmlndXJlIHNldHRpbmdzIHBhcmFtZXRlciBzaG91bGQgYmUgYW4gb2JqZWN0Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudXNlckFkZHJlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnVzZXJBZGRyZXNzID0gc2V0dGluZ3MudXNlckFkZHJlc3M7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MuaHJlZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuaHJlZiA9IHNldHRpbmdzLmhyZWY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3Muc3RvcmFnZUFwaSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuc3RvcmFnZUFwaSA9IHNldHRpbmdzLnN0b3JhZ2VBcGk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudG9rZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLnRva2VuID0gc2V0dGluZ3MudG9rZW47XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MucHJvcGVydGllcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHNldHRpbmdzLnByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLnN0b3JhZ2VBcGkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9zdG9yYWdlQXBpID0gU1RPUkFHRV9BUElTW3RoaXMuc3RvcmFnZUFwaV0gfHwgQVBJX0hFQUQ7XG4gICAgICB0aGlzLnN1cHBvcnRzUmV2cyA9IHRoaXMuX3N0b3JhZ2VBcGkgPj0gQVBJXzAwO1xuICAgIH1cbiAgICBpZiAodGhpcy5ocmVmICYmIHRoaXMudG9rZW4pIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMub25saW5lID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICBsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlckFkZHJlc3M6IHRoaXMudXNlckFkZHJlc3MsXG4gICAgICAgIGhyZWY6IHRoaXMuaHJlZixcbiAgICAgICAgc3RvcmFnZUFwaTogdGhpcy5zdG9yYWdlQXBpLFxuICAgICAgICB0b2tlbjogdGhpcy50b2tlbixcbiAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgc3RvcFdhaXRpbmdGb3JUb2tlbjogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ25vdC1jb25uZWN0ZWQnKTtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBvcHRpb25zOiB7IGlmTm9uZU1hdGNoPzogc3RyaW5nIH0gPSB7fSk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnbm90IGNvbm5lY3RlZCAocGF0aDogJyArIHBhdGggKyAnKScpO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1JldnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmlmTm9uZU1hdGNoKSB7XG4gICAgICAgIGhlYWRlcnNbJ0lmLU5vbmUtTWF0Y2gnXSA9IGFkZFF1b3RlcyhvcHRpb25zLmlmTm9uZU1hdGNoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY29tbWVudGluZyBpdCBvdXQgYXMgdGhpcyBpcyBkb2luZyBub3RoaW5nIGFuZCBqc2hpbnQgaXMgY29tcGxhaW5pbmcgLWxlc1xuICAgIC8vIGVsc2UgaWYgKG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAvLyAgIGxldCBvbGRSZXYgPSB0aGlzLl9yZXZpc2lvbkNhY2hlW3BhdGhdO1xuICAgIC8vIH1cblxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIHRoaXMuaHJlZiArIGNsZWFuUGF0aChwYXRoKSwgdGhpcy50b2tlbiwgaGVhZGVycyxcbiAgICAgIHVuZGVmaW5lZCwgdGhpcy5zdXBwb3J0c1JldnMsIHRoaXMuX3JldmlzaW9uQ2FjaGVbcGF0aF0pXG4gICAgICAudGhlbigocikgPT4ge1xuICAgICAgICBpZiAoIWlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXRlbXNNYXAgPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiAoci5ib2R5KSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgci5ib2R5ID0gSlNPTi5wYXJzZShyLmJvZHkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnRm9sZGVyIGRlc2NyaXB0aW9uIGF0ICcgKyB0aGlzLmhyZWYgKyBjbGVhblBhdGgocGF0aCkgKyAnIGlzIG5vdCBKU09OJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gMjAwICYmIHR5cGVvZiAoci5ib2R5KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBOZXcgZm9sZGVyIGxpc3RpbmcgcmVjZWl2ZWRcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoci5ib2R5KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIEVtcHR5IGZvbGRlciBsaXN0aW5nIG9mIGFueSBzcGVjXG4gICAgICAgICAgICByLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0ZvbGRlckRlc2NyaXB0aW9uKHIuYm9keSkpIHtcbiAgICAgICAgICAgIC8vID49IDAyIHNwZWNcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBpbiByLmJvZHkuaXRlbXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcmV2aXNpb25DYWNoZVtwYXRoICsgaXRlbV0gPSByLmJvZHkuaXRlbXNbaXRlbV0uRVRhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1zTWFwID0gci5ib2R5Lml0ZW1zO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyA8IDAyIHNwZWNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHIuYm9keSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX3JldmlzaW9uQ2FjaGVbcGF0aCArIGtleV0gPSByLmJvZHlba2V5XTtcbiAgICAgICAgICAgICAgaXRlbXNNYXBba2V5XSA9IHsnRVRhZyc6IHIuYm9keVtrZXldfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByLmJvZHkgPSBpdGVtc01hcDtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LFxuXG4gIHB1dDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgYm9keTogdW5rbm93biwgY29udGVudFR5cGU6IHN0cmluZywgb3B0aW9uczogeyBpZk1hdGNoPzogc3RyaW5nOyBpZk5vbmVNYXRjaD86IHN0cmluZyB9ID0ge30pIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ25vdCBjb25uZWN0ZWQgKHBhdGg6ICcgKyBwYXRoICsgJyknKTtcbiAgICB9XG4gICAgaWYgKCghY29udGVudFR5cGUubWF0Y2goL2NoYXJzZXQ9LykpICYmIChib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICBjb250ZW50VHlwZSArPSAnOyBjaGFyc2V0PWJpbmFyeSc7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7J0NvbnRlbnQtVHlwZSc6IGNvbnRlbnRUeXBlfTtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1JldnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTWF0Y2gnXSA9IGFkZFF1b3RlcyhvcHRpb25zLmlmTWF0Y2gpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTm9uZS1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZOb25lTWF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgdGhpcy5ocmVmICsgY2xlYW5QYXRoKHBhdGgpLCB0aGlzLnRva2VuLFxuICAgICAgaGVhZGVycywgYm9keSwgdGhpcy5zdXBwb3J0c1JldnMpO1xuICB9LFxuXG4gICdkZWxldGUnOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBvcHRpb25zOiB7IGlmTWF0Y2g/OiBzdHJpbmcgfSA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgaWYgKHRoaXMuc3VwcG9ydHNSZXZzKSB7XG4gICAgICBpZiAob3B0aW9ucy5pZk1hdGNoKSB7XG4gICAgICAgIGhlYWRlcnNbJ0lmLU1hdGNoJ10gPSBhZGRRdW90ZXMob3B0aW9ucy5pZk1hdGNoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIHRoaXMuaHJlZiArIGNsZWFuUGF0aChwYXRoKSwgdGhpcy50b2tlbixcbiAgICAgIGhlYWRlcnMsXG4gICAgICB1bmRlZmluZWQsIHRoaXMuc3VwcG9ydHNSZXZzKTtcbiAgfVxufTtcblxuLy8gU2hhcmVkIGlzQXJyYXlCdWZmZXJWaWV3IHVzZWQgYnkgV2lyZUNsaWVudCBhbmQgRHJvcGJveFxuV2lyZUNsaWVudC5pc0FycmF5QnVmZmVyVmlldyA9IGlzQXJyYXlCdWZmZXJWaWV3O1xuXG4vLyBUT0RPIGFkZCBwcm9wZXIgZGVmaW5pdGlvbiBmb3Igb3B0aW9uc1xuLy8gU2hhcmVkIHJlcXVlc3QgZnVuY3Rpb24gdXNlZCBieSBXaXJlQ2xpZW50LCBHb29nbGVEcml2ZSBhbmQgRHJvcGJveC5cbldpcmVDbGllbnQucmVxdWVzdCA9IGFzeW5jIGZ1bmN0aW9uIChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnM6IHVua25vd24pOiBQcm9taXNlPFhNTEh0dHBSZXF1ZXN0IHwgUmVzcG9uc2U+IHtcbiAgaWYgKHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBXaXJlQ2xpZW50Ll9mZXRjaFJlcXVlc3QobWV0aG9kLCB1cmwsIG9wdGlvbnMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBXaXJlQ2xpZW50Ll94aHJSZXF1ZXN0KG1ldGhvZCwgdXJsLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBsb2coJ1tXaXJlQ2xpZW50XSBZb3UgbmVlZCB0byBhZGQgYSBwb2x5ZmlsbCBmb3IgZmV0Y2ggb3IgWE1MSHR0cFJlcXVlc3QnKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ1tXaXJlQ2xpZW50XSBZb3UgbmVlZCB0byBhZGQgYSBwb2x5ZmlsbCBmb3IgZmV0Y2ggb3IgWE1MSHR0cFJlcXVlc3QnKTtcbiAgfVxufTtcblxuLyoqIG9wdGlvbnMgaW5jbHVkZXMgYm9keSwgaGVhZGVycyBhbmQgcmVzcG9uc2VUeXBlICovXG5XaXJlQ2xpZW50Ll9mZXRjaFJlcXVlc3QgPSBmdW5jdGlvbiAobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBvcHRpb25zKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICBsZXQgc3ludGhldGljWGhyO1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSB7fTtcbiAgbGV0IGFib3J0Q29udHJvbGxlcjtcbiAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIH1cbiAgY29uc3QgbmV0d29ya1Byb21pc2U6IFByb21pc2U8UmVzcG9uc2U+ID0gZmV0Y2godXJsLCB7XG4gICAgbWV0aG9kOiBtZXRob2QsXG4gICAgaGVhZGVyczogb3B0aW9ucy5oZWFkZXJzLFxuICAgIGJvZHk6IG9wdGlvbnMuYm9keSxcbiAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlciA/IGFib3J0Q29udHJvbGxlci5zaWduYWwgOiB1bmRlZmluZWRcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICBsb2coJ1tXaXJlQ2xpZW50IGZldGNoXScsIHJlc3BvbnNlKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgodmFsdWU6IHN0cmluZywgaGVhZGVyTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICByZXNwb25zZUhlYWRlcnNbaGVhZGVyTmFtZS50b1VwcGVyQ2FzZSgpXSA9IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgc3ludGhldGljWGhyID0ge1xuICAgICAgcmVhZHlTdGF0ZTogNCxcbiAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgIHJlc3BvbnNlOiB1bmRlZmluZWQsXG4gICAgICBnZXRSZXNwb25zZUhlYWRlcjogKGhlYWRlck5hbWU6IHN0cmluZyk6IHVua25vd24gPT4ge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VIZWFkZXJzW2hlYWRlck5hbWUudG9VcHBlckNhc2UoKV0gfHwgbnVsbDtcbiAgICAgIH0sXG4gICAgICAvLyByZXNwb25zZVRleHQ6ICdmb28nLFxuICAgICAgcmVzcG9uc2VUeXBlOiBvcHRpb25zLnJlc3BvbnNlVHlwZSxcbiAgICAgIHJlc3BvbnNlVVJMOiB1cmwsXG4gICAgfTtcbiAgICBzd2l0Y2ggKG9wdGlvbnMucmVzcG9uc2VUeXBlKSB7XG4gICAgICBjYXNlICdhcnJheWJ1ZmZlcic6XG4gICAgICAgIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgY2FzZSAnYmxvYic6XG4gICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgY2FzZSAnJzpcbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgZGVmYXVsdDogICAvLyBkb2N1bWVudFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXNwb25zZVR5cGUgJ2RvY3VtZW50JyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCB1c2luZyBmZXRjaFwiKTtcbiAgICB9XG4gIH0pLnRoZW4oKHByb2Nlc3NlZEJvZHkpID0+IHtcbiAgICBzeW50aGV0aWNYaHIucmVzcG9uc2UgPSBwcm9jZXNzZWRCb2R5O1xuICAgIGlmICghb3B0aW9ucy5yZXNwb25zZVR5cGUgfHwgb3B0aW9ucy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgc3ludGhldGljWGhyLnJlc3BvbnNlVGV4dCA9IHByb2Nlc3NlZEJvZHk7XG4gICAgfVxuICAgIHJldHVybiBzeW50aGV0aWNYaHI7XG4gIH0pO1xuXG4gIGNvbnN0IHRpbWVvdXRQcm9taXNlOiBQcm9taXNlPFJlc3BvbnNlPiA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlamVjdCgndGltZW91dCcpO1xuICAgICAgaWYgKGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9LCBjb25maWcucmVxdWVzdFRpbWVvdXQpO1xuICB9KTtcblxuICByZXR1cm4gUHJvbWlzZS5yYWNlKFtuZXR3b3JrUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbn07XG5cbldpcmVDbGllbnQuX3hoclJlcXVlc3QgPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIG9wdGlvbnMpOiBQcm9taXNlPFhNTEh0dHBSZXF1ZXN0PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICBsb2coJ1tXaXJlQ2xpZW50XScsIG1ldGhvZCwgdXJsKTtcblxuICAgIGxldCB0aW1lZE91dCA9IGZhbHNlO1xuXG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRpbWVkT3V0ID0gdHJ1ZTtcbiAgICAgIHJlamVjdCgndGltZW91dCcpO1xuICAgIH0sIGNvbmZpZy5yZXF1ZXN0VGltZW91dCk7XG5cbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICBpZiAob3B0aW9ucy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBvcHRpb25zLmhlYWRlcnNba2V5XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9ubG9hZCA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGlmICh0aW1lZE91dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgcmVzb2x2ZSh4aHIpO1xuICAgIH07XG5cbiAgICB4aHIub25lcnJvciA9IChlcnJvcik6IHZvaWQgPT4ge1xuICAgICAgaWYgKHRpbWVkT3V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH07XG5cbiAgICBsZXQgYm9keSA9IG9wdGlvbnMuYm9keTtcblxuICAgIGlmICh0eXBlb2YgKGJvZHkpID09PSAnb2JqZWN0JyAmJiAhaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgJiYgYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICBib2R5ID0gbmV3IFVpbnQ4QXJyYXkoYm9keSk7XG4gICAgfVxuICAgIHhoci5zZW5kKGJvZHkpO1xuICB9KTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXaXJlQ2xpZW50LnByb3RvdHlwZSwgJ3N0b3JhZ2VUeXBlJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zdG9yYWdlQXBpKSB7XG4gICAgICBjb25zdCBzcGVjID0gdGhpcy5zdG9yYWdlQXBpLm1hdGNoKC9kcmFmdC1kZWpvbmctKHJlbW90ZXN0b3JhZ2UtXFxkXFxkKS8pO1xuICAgICAgcmV0dXJuIHNwZWMgPyBzcGVjWzFdIDogJzIwMTIuMDQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufSk7XG5cblxuV2lyZUNsaWVudC5fcnNfaW5pdCA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlKTogdm9pZCB7XG4gIGhhc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuICByZW1vdGVTdG9yYWdlLnJlbW90ZSA9IG5ldyBXaXJlQ2xpZW50KHJlbW90ZVN0b3JhZ2UpO1xuICB0aGlzLm9ubGluZSA9IHRydWU7XG59O1xuXG5XaXJlQ2xpZW50Ll9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgZmV0Y2ggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuV2lyZUNsaWVudC5fcnNfY2xlYW51cCA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXTtcbiAgfVxufTtcblxuaW50ZXJmYWNlIFdpcmVDbGllbnQgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoV2lyZUNsaWVudCwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgV2lyZUNsaWVudDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN5bmNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgb3JpZ2luYWxFcnJvcjogRXJyb3JcblxuICBjb25zdHJ1Y3RvciAob3JpZ2luYWxFcnJvcjogc3RyaW5nIHwgRXJyb3IpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubmFtZSA9ICdTeW5jRXJyb3InO1xuICAgIHRoaXMubWVzc2FnZSA9ICdTeW5jIGZhaWxlZDogJztcbiAgICBpZiAodHlwZW9mIG9yaWdpbmFsRXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgKz0gb3JpZ2luYWxFcnJvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZXNzYWdlICs9IG9yaWdpbmFsRXJyb3IubWVzc2FnZTtcbiAgICAgIHRoaXMuc3RhY2sgPSBvcmlnaW5hbEVycm9yLnN0YWNrO1xuICAgICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGRlZXBDbG9uZSxcbiAgZXF1YWwsXG4gIGlzRG9jdW1lbnQsXG4gIGlzRm9sZGVyLFxuICBwYXRoc0Zyb21Sb290XG59IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBmdW5jdGlvbnMgdGhhdCBhcmUgbWl4ZWQgaW50byByZW1vdGVTdG9yYWdlLmxvY2FsIHdoZW5cbiAqIGl0IGlzIGluc3RhbnRpYXRlZCAoY3VycmVudGx5IG9uZSBvZiBpbmRleGVkZGIuanMsIGxvY2Fsc3RvcmFnZS5qcywgb3JcbiAqIGlubWVtb3J5c3RvcmFnZS5qcykuXG4gKlxuICogQWxsIHJlbW90ZVN0b3JhZ2UubG9jYWwgaW1wbGVtZW50YXRpb25zIHNob3VsZCB0aGVyZWZvcmUgaW1wbGVtZW50XG4gKiB0aGlzLmdldE5vZGVzLCB0aGlzLnNldE5vZGVzLCBhbmQgdGhpcy5mb3JBbGxOb2Rlcy4gVGhlIHJlc3QgaXMgYmxlbmRlZCBpblxuICogaGVyZSB0byBjcmVhdGUgYSBHUEQgKGdldC9wdXQvZGVsZXRlKSBpbnRlcmZhY2Ugd2hpY2ggdGhlIEJhc2VDbGllbnQgY2FuXG4gKiB0YWxrIHRvLlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqL1xuXG5hYnN0cmFjdCBjbGFzcyBDYWNoaW5nTGF5ZXIge1xuICAvLyBGSVhNRVxuICAvLyB0aGlzIHByb2Nlc3Mgb2YgdXBkYXRpbmcgbm9kZXMgbmVlZHMgdG8gYmUgaGVhdmlseSBkb2N1bWVudGVkIGZpcnN0LCB0aGVuXG4gIC8vIHJlZmFjdG9yZWQuIFJpZ2h0IG5vdyBpdCdzIGFsbW9zdCBpbXBvc3NpYmxlIHRvIHJlZmFjdG9yIGFzIHRoZXJlJ3Mgbm9cbiAgLy8gZXhwbGFuYXRpb24gb2Ygd2h5IHRoaW5ncyBhcmUgaW1wbGVtZW50ZWQgY2VydGFpbiB3YXlzIG9yIHdoYXQgdGhlIGdvYWwocylcbiAgLy8gb2YgdGhlIGJlaGF2aW9yIGFyZS4gLXNsdnJiY2t0ICgrMSAtbGVzKVxuICBwcml2YXRlIF91cGRhdGVOb2Rlc1J1bm5pbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfdXBkYXRlTm9kZXNRdWV1ZWQgPSBbXTtcblxuXG4gIC8vIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgb3ZlcndyaXR0ZW5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBhYnN0cmFjdCBnZXROb2RlcyhwYXRoczogc3RyaW5nW10pOiBQcm9taXNlPFJTTm9kZXM+O1xuXG4gIGFic3RyYWN0IGRpZmZIYW5kbGVyKC4uLmFyZ3M6IGFueVtdKTtcblxuICBhYnN0cmFjdCBmb3JBbGxOb2RlcyhjYjogKG5vZGUpID0+IGFueSk6IFByb21pc2U8dm9pZD47XG5cbiAgYWJzdHJhY3Qgc2V0Tm9kZXMobm9kZXM6IFJTTm9kZXMpOiBQcm9taXNlPHZvaWQ+O1xuXG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUT0RPOiBpbXByb3ZlIG91ciBjb2RlIHN0cnVjdHVyZSBzbyB0aGF0IHRoaXMgZnVuY3Rpb25cbiAgLy8gY291bGQgY2FsbCBzeW5jLnF1ZXVlR2V0UmVxdWVzdCBkaXJlY3RseSBpbnN0ZWFkIG9mIG5lZWRpbmdcbiAgLy8gdGhpcyBoYWNreSB0aGlyZCBwYXJhbWV0ZXIgYXMgYSBjYWxsYmFja1xuICBnZXQgKHBhdGg6IHN0cmluZywgbWF4QWdlOiBudW1iZXIsIHF1ZXVlR2V0UmVxdWVzdDogKHBhdGg6IHN0cmluZykgPT4gUHJvbWlzZTxRdWV1ZWRSZXF1ZXN0UmVzcG9uc2U+KTogUHJvbWlzZTxRdWV1ZWRSZXF1ZXN0UmVzcG9uc2U+IHtcblxuICAgIGlmICh0eXBlb2YgKG1heEFnZSkgPT09ICdudW1iZXInKSB7XG5cbiAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzKHBhdGhzRnJvbVJvb3QocGF0aCkpXG4gICAgICAgIC50aGVuKChvYmpzKSA9PiB7XG4gICAgICAgICAgY29uc3Qgbm9kZTogUlNOb2RlID0gZ2V0TGF0ZXN0KG9ianNbcGF0aF0pO1xuICAgICAgICAgIGlmIChpc091dGRhdGVkKG9ianMsIG1heEFnZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBxdWV1ZUdldFJlcXVlc3QocGF0aCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDIwMCwgYm9keTogbm9kZS5ib2R5IHx8IG5vZGUuaXRlbXNNYXAsIGNvbnRlbnRUeXBlOiBub2RlLmNvbnRlbnRUeXBlfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiA0MDR9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzKFtwYXRoXSlcbiAgICAgICAgLnRoZW4oKG9ianMpID0+IHtcbiAgICAgICAgICBjb25zdCBub2RlID0gZ2V0TGF0ZXN0KG9ianNbcGF0aF0pO1xuICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBpIGluIG5vZGUuaXRlbXNNYXApIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSBpcyBvbmx5IGJlY2F1c2Ugb3VyIGpzaGludCBzZXR0aW5ncyByZXF1aXJlIGl0OlxuICAgICAgICAgICAgICAgIGlmIChub2RlLml0ZW1zTWFwLmhhc093blByb3BlcnR5KGkpICYmIG5vZGUuaXRlbXNNYXBbaV0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgbm9kZS5pdGVtc01hcFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogMjAwLCBib2R5OiBub2RlLmJvZHkgfHwgbm9kZS5pdGVtc01hcCwgY29udGVudFR5cGU6IG5vZGUuY29udGVudFR5cGV9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDQwNH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdXQocGF0aDogc3RyaW5nLCBib2R5OiBhbnksIGNvbnRlbnRUeXBlOiBzdHJpbmcpOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICBjb25zdCBwYXRocyA9IHBhdGhzRnJvbVJvb3QocGF0aCk7XG5cbiAgICBmdW5jdGlvbiBfcHJvY2Vzc05vZGVzKG5vZGVQYXRocywgbm9kZXMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2RlUGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBub2RlUGF0aCA9IG5vZGVQYXRoc1tpXTtcbiAgICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW25vZGVQYXRoXTtcbiAgICAgICAgICBsZXQgcHJldmlvdXM7XG5cbiAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIG5vZGVzW25vZGVQYXRoXSA9IG5vZGUgPSBtYWtlTm9kZShub2RlUGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRG9jdW1lbnRcbiAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgcHJldmlvdXMgPSBnZXRMYXRlc3Qobm9kZSk7XG4gICAgICAgICAgICBub2RlLmxvY2FsID0ge1xuICAgICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgICAgICAgICAgIHByZXZpb3VzQm9keTogKHByZXZpb3VzID8gcHJldmlvdXMuYm9keSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgIHByZXZpb3VzQ29udGVudFR5cGU6IChwcmV2aW91cyA/IHByZXZpb3VzLmNvbnRlbnRUeXBlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEZvbGRlclxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBub2RlUGF0aHNbaSAtIDFdLnN1YnN0cmluZyhub2RlUGF0aC5sZW5ndGgpO1xuICAgICAgICAgICAgbm9kZSA9IHVwZGF0ZUZvbGRlck5vZGVXaXRoSXRlbU5hbWUobm9kZSwgaXRlbU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZygnW0NhY2hpbmdsYXllcl0gRXJyb3IgZHVyaW5nIFBVVCcsIG5vZGVzLCBlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlTm9kZXMocGF0aHMsIF9wcm9jZXNzTm9kZXMpO1xuICB9XG5cbiAgZGVsZXRlKHBhdGg6IHN0cmluZyk6IHVua25vd24ge1xuICAgIGNvbnN0IHBhdGhzID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgIHJldHVybiB0aGlzLl91cGRhdGVOb2RlcyhwYXRocywgZnVuY3Rpb24gKG5vZGVQYXRocywgbm9kZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2RlUGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZVBhdGggPSBub2RlUGF0aHNbaV07XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tub2RlUGF0aF07XG4gICAgICAgIGxldCBwcmV2aW91cztcblxuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgZGVsZXRlIG5vbi1leGlzdGluZyBub2RlICcgKyBub2RlUGF0aCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIC8vIERvY3VtZW50XG4gICAgICAgICAgcHJldmlvdXMgPSBnZXRMYXRlc3Qobm9kZSk7XG4gICAgICAgICAgbm9kZS5sb2NhbCA9IHtcbiAgICAgICAgICAgIGJvZHk6IGZhbHNlLFxuICAgICAgICAgICAgcHJldmlvdXNCb2R5OiAocHJldmlvdXMgPyBwcmV2aW91cy5ib2R5IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIHByZXZpb3VzQ29udGVudFR5cGU6IChwcmV2aW91cyA/IHByZXZpb3VzLmNvbnRlbnRUeXBlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZvbGRlclxuICAgICAgICAgIGlmICghbm9kZS5sb2NhbCkge1xuICAgICAgICAgICAgbm9kZS5sb2NhbCA9IGRlZXBDbG9uZShub2RlLmNvbW1vbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gbm9kZVBhdGhzW2kgLSAxXS5zdWJzdHJpbmcobm9kZVBhdGgubGVuZ3RoKTtcbiAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV07XG5cbiAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobm9kZS5sb2NhbC5pdGVtc01hcCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBmb2xkZXIgc3RpbGwgY29udGFpbnMgb3RoZXIgaXRlbXMsIGRvbid0IHJlbW92ZSBhbnkgZnVydGhlciBhbmNlc3RvcnNcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVzO1xuICAgIH0pO1xuICB9XG5cbiAgZmx1c2gocGF0aDogc3RyaW5nKTogdW5rbm93biB7XG5cbiAgICByZXR1cm4gdGhpcy5fZ2V0QWxsRGVzY2VuZGVudFBhdGhzKHBhdGgpLnRoZW4oKHBhdGhzKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5nZXROb2RlcyhwYXRocyk7XG4gICAgfSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGZvciAoY29uc3Qgbm9kZVBhdGggaW4gbm9kZXMpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW25vZGVQYXRoXTtcblxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLmNvbW1vbiAmJiBub2RlLmxvY2FsKSB7XG4gICAgICAgICAgdGhpcy5fZW1pdENoYW5nZSh7XG4gICAgICAgICAgICBwYXRoOiBub2RlLnBhdGgsXG4gICAgICAgICAgICBvcmlnaW46ICdsb2NhbCcsXG4gICAgICAgICAgICBvbGRWYWx1ZTogKG5vZGUubG9jYWwuYm9keSA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBub2RlLmxvY2FsLmJvZHkpLFxuICAgICAgICAgICAgbmV3VmFsdWU6IChub2RlLmNvbW1vbi5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUuY29tbW9uLmJvZHkpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZXNbbm9kZVBhdGhdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zZXROb2Rlcyhub2Rlcyk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9lbWl0Q2hhbmdlKG9iajogQ2hhbmdlT2JqKSB7XG4gICAgaWYgKGNvbmZpZy5jaGFuZ2VFdmVudHNbb2JqLm9yaWdpbl0pIHtcbiAgICAgIHRoaXMuX2VtaXQoJ2NoYW5nZScsIG9iaik7XG4gICAgfVxuICB9XG5cbiAgZmlyZUluaXRpYWwoKSB7XG4gICAgaWYgKCFjb25maWcuY2hhbmdlRXZlbnRzLmxvY2FsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5mb3JBbGxOb2Rlcygobm9kZSkgPT4ge1xuXG4gICAgICBpZiAoaXNEb2N1bWVudChub2RlLnBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGxhdGVzdCA9IGdldExhdGVzdChub2RlKTtcbiAgICAgICAgaWYgKGxhdGVzdCkge1xuICAgICAgICAgIHRoaXMuX2VtaXRDaGFuZ2Uoe1xuICAgICAgICAgICAgcGF0aDogbm9kZS5wYXRoLFxuICAgICAgICAgICAgb3JpZ2luOiAnbG9jYWwnLFxuICAgICAgICAgICAgb2xkVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9sZENvbnRlbnRUeXBlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBuZXdWYWx1ZTogbGF0ZXN0LmJvZHksXG4gICAgICAgICAgICBuZXdDb250ZW50VHlwZTogbGF0ZXN0LmNvbnRlbnRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX2VtaXQoJ2xvY2FsLWV2ZW50cy1kb25lJyk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPIGFkZCBwcm9wZXIgdHlwZVxuICBvbkRpZmYoZGlmZkhhbmRsZXI6IGFueSkge1xuICAgIHRoaXMuZGlmZkhhbmRsZXIgPSBkaWZmSGFuZGxlcjtcbiAgfVxuXG4gIG1pZ3JhdGUobm9kZTogUlNOb2RlKTogUlNOb2RlIHtcbiAgICBpZiAodHlwZW9mIChub2RlKSA9PT0gJ29iamVjdCcgJiYgIW5vZGUuY29tbW9uKSB7XG4gICAgICBub2RlLmNvbW1vbiA9IHt9O1xuICAgICAgaWYgKHR5cGVvZiAobm9kZS5wYXRoKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKG5vZGUucGF0aC5zdWJzdHIoLTEpID09PSAnLycgJiYgdHlwZW9mIChub2RlLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIG5vZGUuY29tbW9uLml0ZW1zTWFwID0gbm9kZS5ib2R5O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL3NhdmUgbGVnYWN5IGNvbnRlbnQgb2YgZG9jdW1lbnQgbm9kZSBhcyBsb2NhbCB2ZXJzaW9uXG4gICAgICAgIGlmICghbm9kZS5sb2NhbCkge1xuICAgICAgICAgIG5vZGUubG9jYWwgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmxvY2FsLmJvZHkgPSBub2RlLmJvZHk7XG4gICAgICAgIG5vZGUubG9jYWwuY29udGVudFR5cGUgPSBub2RlLmNvbnRlbnRUeXBlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG5cbiAgcHJpdmF0ZSBfdXBkYXRlTm9kZXMocGF0aHM6IHN0cmluZ1tdLCBfcHJvY2Vzc05vZGVzKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX2RvVXBkYXRlTm9kZXMocGF0aHMsIF9wcm9jZXNzTm9kZXMsIHtcbiAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0OiByZWplY3RcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfZG9VcGRhdGVOb2RlcyhwYXRocywgX3Byb2Nlc3NOb2RlcywgcHJvbWlzZSkge1xuICAgIGlmICh0aGlzLl91cGRhdGVOb2Rlc1J1bm5pbmcpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZU5vZGVzUXVldWVkLnB1c2goe1xuICAgICAgICBwYXRoczogcGF0aHMsXG4gICAgICAgIGNiOiBfcHJvY2Vzc05vZGVzLFxuICAgICAgICBwcm9taXNlOiBwcm9taXNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlTm9kZXNSdW5uaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmdldE5vZGVzKHBhdGhzKS50aGVuKChub2RlcykgPT4ge1xuICAgICAgY29uc3QgZXhpc3RpbmdOb2RlcyA9IGRlZXBDbG9uZShub2Rlcyk7XG4gICAgICBjb25zdCBjaGFuZ2VFdmVudHMgPSBbXTtcblxuICAgICAgbm9kZXMgPSBfcHJvY2Vzc05vZGVzKHBhdGhzLCBub2Rlcyk7XG5cbiAgICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbcGF0aF07XG4gICAgICAgIGlmIChlcXVhbChub2RlLCBleGlzdGluZ05vZGVzW3BhdGhdKSkge1xuICAgICAgICAgIGRlbGV0ZSBub2Rlc1twYXRoXTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RvY3VtZW50KHBhdGgpKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWVxdWFsKG5vZGUubG9jYWwuYm9keSwgbm9kZS5sb2NhbC5wcmV2aW91c0JvZHkpIHx8XG4gICAgICAgICAgICBub2RlLmxvY2FsLmNvbnRlbnRUeXBlICE9PSBub2RlLmxvY2FsLnByZXZpb3VzQ29udGVudFR5cGVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNoYW5nZUV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgb3JpZ2luOiAnd2luZG93JyxcbiAgICAgICAgICAgICAgb2xkVmFsdWU6IG5vZGUubG9jYWwucHJldmlvdXNCb2R5LFxuICAgICAgICAgICAgICBuZXdWYWx1ZTogbm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUubG9jYWwuYm9keSxcbiAgICAgICAgICAgICAgb2xkQ29udGVudFR5cGU6IG5vZGUubG9jYWwucHJldmlvdXNDb250ZW50VHlwZSxcbiAgICAgICAgICAgICAgbmV3Q29udGVudFR5cGU6IG5vZGUubG9jYWwuY29udGVudFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbC5wcmV2aW91c0JvZHk7XG4gICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWwucHJldmlvdXNDb250ZW50VHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNldE5vZGVzKG5vZGVzKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5fZW1pdENoYW5nZUV2ZW50cyhjaGFuZ2VFdmVudHMpO1xuICAgICAgICBwcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDIwMH0pO1xuICAgICAgfSk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSwgKGVycikgPT4ge1xuICAgICAgcHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX3VwZGF0ZU5vZGVzUnVubmluZyA9IGZhbHNlO1xuICAgICAgY29uc3QgbmV4dEpvYiA9IHRoaXMuX3VwZGF0ZU5vZGVzUXVldWVkLnNoaWZ0KCk7XG4gICAgICBpZiAobmV4dEpvYikge1xuICAgICAgICB0aGlzLl9kb1VwZGF0ZU5vZGVzKG5leHRKb2IucGF0aHMsIG5leHRKb2IuY2IsIG5leHRKb2IucHJvbWlzZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9lbWl0Q2hhbmdlRXZlbnRzKGV2ZW50czogUlNFdmVudFtdKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGV2ZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5fZW1pdENoYW5nZShldmVudHNbaV0pO1xuICAgICAgaWYgKHRoaXMuZGlmZkhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5kaWZmSGFuZGxlcihldmVudHNbaV0ucGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0QWxsRGVzY2VuZGVudFBhdGhzKHBhdGg6IHN0cmluZykge1xuICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKChub2RlcykgPT4ge1xuICAgICAgICBjb25zdCBhbGxQYXRocyA9IFtwYXRoXTtcbiAgICAgICAgY29uc3QgbGF0ZXN0ID0gZ2V0TGF0ZXN0KG5vZGVzW3BhdGhdKTtcblxuICAgICAgICBjb25zdCBpdGVtTmFtZXMgPSBPYmplY3Qua2V5cyhsYXRlc3QuaXRlbXNNYXApO1xuICAgICAgICBjb25zdCBjYWxscyA9IGl0ZW1OYW1lcy5tYXAoKGl0ZW1OYW1lKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEFsbERlc2NlbmRlbnRQYXRocyhwYXRoICsgaXRlbU5hbWUpLnRoZW4oKHBhdGhzKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgYWxsUGF0aHMucHVzaChwYXRoc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoY2FsbHMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBhbGxQYXRocztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbcGF0aF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIHRyZWF0ZWQgYXMgcHJpdmF0ZSBidXQgbWFkZSBwdWJsaWMgZm9yIHVuaXQgdGVzdGluZ1xuICBfZ2V0SW50ZXJuYWxzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBnZXRMYXRlc3Q6IGdldExhdGVzdCxcbiAgICAgIG1ha2VOb2RlOiBtYWtlTm9kZSxcbiAgICAgIGlzT3V0ZGF0ZWQ6IGlzT3V0ZGF0ZWRcbiAgICB9O1xuICB9XG59XG5cblxuZnVuY3Rpb24gZ2V0TGF0ZXN0KG5vZGU6IFJTTm9kZSk6IGFueSB7XG4gIGlmICh0eXBlb2YgKG5vZGUpICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgKG5vZGUucGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0ZvbGRlcihub2RlLnBhdGgpKSB7XG4gICAgaWYgKG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5pdGVtc01hcCkge1xuICAgICAgcmV0dXJuIG5vZGUubG9jYWw7XG4gICAgfVxuICAgIGlmIChub2RlLmNvbW1vbiAmJiBub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgcmV0dXJuIG5vZGUuY29tbW9uO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAobm9kZS5sb2NhbCkge1xuICAgICAgaWYgKG5vZGUubG9jYWwuYm9keSAmJiBub2RlLmxvY2FsLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBub2RlLmxvY2FsO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUubG9jYWwuYm9keSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5jb21tb24gJiYgbm9kZS5jb21tb24uYm9keSAmJiBub2RlLmNvbW1vbi5jb250ZW50VHlwZSkge1xuICAgICAgcmV0dXJuIG5vZGUuY29tbW9uO1xuICAgIH1cbiAgICAvLyBNaWdyYXRpb24gY29kZSEgT25jZSBhbGwgYXBwcyB1c2UgYXQgbGVhc3QgdGhpcyB2ZXJzaW9uIG9mIHRoZSBsaWIsIHdlXG4gICAgLy8gY2FuIHB1Ymxpc2ggY2xlYW4tdXAgY29kZSB0aGF0IG1pZ3JhdGVzIG92ZXIgYW55IG9sZC1mb3JtYXQgZGF0YSwgYW5kXG4gICAgLy8gc3RvcCBzdXBwb3J0aW5nIGl0LiBGb3Igbm93LCBuZXcgYXBwcyB3aWxsIHN1cHBvcnQgZGF0YSBpbiBib3RoXG4gICAgLy8gZm9ybWF0cywgdGhhbmtzIHRvIHRoaXM6XG4gICAgaWYgKG5vZGUuYm9keSAmJiBub2RlLmNvbnRlbnRUeXBlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBib2R5OiBub2RlLmJvZHksXG4gICAgICAgIGNvbnRlbnRUeXBlOiBub2RlLmNvbnRlbnRUeXBlXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc091dGRhdGVkKG5vZGVzOiBSU05vZGVzLCBtYXhBZ2U6IG51bWJlcik6IGJvb2xlYW4ge1xuICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICBpZiAobm9kZXNbcGF0aF0gJiYgbm9kZXNbcGF0aF0ucmVtb3RlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZVZlcnNpb24gPSBnZXRMYXRlc3Qobm9kZXNbcGF0aF0pO1xuICAgIGlmIChub2RlVmVyc2lvbiAmJiBub2RlVmVyc2lvbi50aW1lc3RhbXAgJiYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSAtIG5vZGVWZXJzaW9uLnRpbWVzdGFtcCA8PSBtYXhBZ2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCFub2RlVmVyc2lvbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbmZ1bmN0aW9uIG1ha2VOb2RlKHBhdGg6IHN0cmluZyk6IFJTTm9kZSB7XG4gIGNvbnN0IG5vZGU6IFJTTm9kZSA9IHtwYXRoOiBwYXRoLCBjb21tb246IHt9fTtcblxuICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICBub2RlLmNvbW1vbi5pdGVtc01hcCA9IHt9O1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVGb2xkZXJOb2RlV2l0aEl0ZW1OYW1lKG5vZGU6IFJTTm9kZSwgaXRlbU5hbWU6IHN0cmluZyk6IFJTTm9kZSB7XG4gIGlmICghbm9kZS5jb21tb24pIHtcbiAgICBub2RlLmNvbW1vbiA9IHtcbiAgICAgIGl0ZW1zTWFwOiB7fVxuICAgIH07XG4gIH1cbiAgaWYgKCFub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgIG5vZGUuY29tbW9uLml0ZW1zTWFwID0ge307XG4gIH1cbiAgaWYgKCFub2RlLmxvY2FsKSB7XG4gICAgbm9kZS5sb2NhbCA9IGRlZXBDbG9uZShub2RlLmNvbW1vbik7XG4gIH1cbiAgaWYgKCFub2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgbm9kZS5sb2NhbC5pdGVtc01hcCA9IG5vZGUuY29tbW9uLml0ZW1zTWFwO1xuICB9XG4gIG5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdID0gdHJ1ZTtcblxuICByZXR1cm4gbm9kZTtcbn1cblxuaW50ZXJmYWNlIENhY2hpbmdMYXllciBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhDYWNoaW5nTGF5ZXIsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhY2hpbmdMYXllcjtcbiIsIi8vIFRPRE8gbWF5YmUgbW92ZSB0byBjb21tb24gaW50ZXJmYWNlcyAmIHR5cGVzIGZpbGVcbi8vIGFsc28gd29ydGggY29uc2lkZXJpbmcgZW51bXNcbnR5cGUgQWNjZXNzTW9kZSA9ICdyJyB8ICdydyc7XG50eXBlIEFjY2Vzc1Njb3BlID0gc3RyaW5nO1xuXG5pbnRlcmZhY2UgU2NvcGVFbnRyeSB7XG4gIG5hbWU6IHN0cmluZztcbiAgbW9kZTogQWNjZXNzTW9kZTtcbn1cblxuaW50ZXJmYWNlIFNjb3BlTW9kZU1hcCB7XG4gIC8vIE5PVEU6IGtleSBpcyBhY3R1YWxseSBBY2Nlc3NTY29wZVxuICBba2V5OiBzdHJpbmddOiBBY2Nlc3NNb2RlO1xufVxuXG4vKipcbiAqIEBjbGFzcyBBY2Nlc3NcbiAqXG4gKiBLZWVwcyB0cmFjayBvZiBjbGFpbWVkIGFjY2VzcyBhbmQgc2NvcGVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2Nlc3Mge1xuICBzY29wZU1vZGVNYXA6IFNjb3BlTW9kZU1hcDtcbiAgcm9vdFBhdGhzOiBzdHJpbmdbXTtcbiAgc3RvcmFnZVR5cGU6IHN0cmluZztcblxuICAvLyBUT0RPIGNyZWF0ZSBjdXN0b20gdHlwZSBmb3IgaW5pdCBmdW5jdGlvblxuICBzdGF0aWMgX3JzX2luaXQoKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3BlcnR5OiBzY29wZXNcbiAgICpcbiAgICogSG9sZHMgYW4gYXJyYXkgb2YgY2xhaW1lZCBzY29wZXMgaW4gdGhlIGZvcm1cbiAgICogPiB7IG5hbWU6IFwiPHNjb3BlLW5hbWU+XCIsIG1vZGU6IFwiPG1vZGU+XCIgfVxuICAgKi9cbiAgZ2V0IHNjb3BlcygpOiBTY29wZUVudHJ5W10ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnNjb3BlTW9kZU1hcCkubWFwKChrZXkpID0+IHtcbiAgICAgIHJldHVybiB7IG5hbWU6IGtleSwgbW9kZTogdGhpcy5zY29wZU1vZGVNYXBba2V5XSB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHNjb3BlUGFyYW1ldGVyKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGVzLm1hcCgoc2NvcGUpID0+IHtcbiAgICAgIHJldHVybiBgJHt0aGlzLl9zY29wZU5hbWVGb3JQYXJhbWV0ZXIoc2NvcGUpfToke3Njb3BlLm1vZGV9YDtcbiAgICB9KS5qb2luKCcgJyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xhaW0gYWNjZXNzIG9uIGEgZ2l2ZW4gc2NvcGUgd2l0aCBnaXZlbiBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2NvcGUgLSBBbiBhY2Nlc3Mgc2NvcGUsIHN1Y2ggYXMgXCJjb250YWN0c1wiIG9yIFwiY2FsZW5kYXJcIlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIEFjY2VzcyBtb2RlLiBFaXRoZXIgXCJyXCIgZm9yIHJlYWQtb25seSBvciBcInJ3XCIgZm9yIHJlYWQvd3JpdGVcbiAgICovXG4gIGNsYWltIChzY29wZTogQWNjZXNzU2NvcGUsIG1vZGU6IEFjY2Vzc01vZGUpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIChzY29wZSkgIT09ICdzdHJpbmcnIHx8IHNjb3BlLmluZGV4T2YoJy8nKSAhPT0gLTEgfHwgc2NvcGUubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Njb3BlIHNob3VsZCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgd2l0aG91dCBmb3J3YXJkIHNsYXNoZXMnKTtcbiAgICB9XG4gICAgaWYgKCFtb2RlLm1hdGNoKC9ecnc/JC8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vZGUgc2hvdWxkIGJlIGVpdGhlciBcXCdyXFwnIG9yIFxcJ3J3XFwnJyk7XG4gICAgfVxuICAgIHRoaXMuX2FkanVzdFJvb3RQYXRocyhzY29wZSk7XG4gICAgdGhpcy5zY29wZU1vZGVNYXBbc2NvcGVdID0gbW9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFjY2VzcyBtb2RlIGZvciBhIGdpdmVuIHNjb3BlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2NvcGUgLSBBY2Nlc3Mgc2NvcGVcbiAgICogQHJldHVybnMge3N0cmluZ30gQWNjZXNzIG1vZGVcbiAgICovXG4gIGdldCAoc2NvcGU6IEFjY2Vzc1Njb3BlKTogQWNjZXNzTW9kZSB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGVNb2RlTWFwW3Njb3BlXTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhY2Nlc3MgZm9yIHRoZSBnaXZlbiBzY29wZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNjb3BlIC0gQWNjZXNzIHNjb3BlXG4gICAqL1xuICByZW1vdmUgKHNjb3BlOiBBY2Nlc3NTY29wZSk6IHZvaWQge1xuICAgIGNvbnN0IHNhdmVkTWFwOiBTY29wZU1vZGVNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5zY29wZU1vZGVNYXApIHtcbiAgICAgIHNhdmVkTWFwW25hbWVdID0gdGhpcy5zY29wZU1vZGVNYXBbbmFtZV07XG4gICAgfVxuICAgIHRoaXMucmVzZXQoKTtcbiAgICBkZWxldGUgc2F2ZWRNYXBbc2NvcGVdO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzYXZlZE1hcCkge1xuICAgICAgdGhpcy5jbGFpbShuYW1lIGFzIEFjY2Vzc1Njb3BlLCBzYXZlZE1hcFtuYW1lXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBwZXJtaXNzaW9uIGZvciBhIGdpdmVuIHNjb3BlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2NvcGUgLSBBY2Nlc3Mgc2NvcGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBBY2Nlc3MgbW9kZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgcmVxdWVzdGVkIGFjY2VzcyBtb2RlIGlzIGFjdGl2ZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBjaGVja1Blcm1pc3Npb24gKHNjb3BlOiBBY2Nlc3NTY29wZSwgbW9kZTogQWNjZXNzTW9kZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGFjdHVhbE1vZGUgPSB0aGlzLmdldChzY29wZSk7XG4gICAgcmV0dXJuIGFjdHVhbE1vZGUgJiYgKG1vZGUgPT09ICdyJyB8fCBhY3R1YWxNb2RlID09PSAncncnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZnkgcGVybWlzc2lvbiBmb3IgYSBnaXZlbiBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGhcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBBY2Nlc3MgbW9kZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgcmVxdWVzdGVkIGFjY2VzcyBtb2RlIGlzIGFjdGl2ZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBjaGVja1BhdGhQZXJtaXNzaW9uIChwYXRoOiBzdHJpbmcsIG1vZGU6IEFjY2Vzc01vZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGVja1Blcm1pc3Npb24oJyonLCBtb2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyByZWxpYWJsZVxuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5fZ2V0TW9kdWxlTmFtZShwYXRoKSBhcyBBY2Nlc3NTY29wZTtcbiAgICByZXR1cm4gISF0aGlzLmNoZWNrUGVybWlzc2lvbihzY29wZSwgbW9kZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgYWxsIGFjY2VzcyBwZXJtaXNzaW9ucy5cbiAgICovXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMucm9vdFBhdGhzID0gW107XG4gICAgdGhpcy5zY29wZU1vZGVNYXAgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1vZHVsZSBuYW1lIGZvciBhIGdpdmVuIHBhdGguXG4gICAqL1xuICBwcml2YXRlIF9nZXRNb2R1bGVOYW1lIChwYXRoKTogc3RyaW5nIHtcbiAgICBpZiAocGF0aFswXSAhPT0gJy8nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhdGggc2hvdWxkIHN0YXJ0IHdpdGggYSBzbGFzaCcpO1xuICAgIH1cbiAgICBjb25zdCBtb2R1bGVNYXRjaCA9IHBhdGgucmVwbGFjZSgvXlxcL3B1YmxpYy8sICcnKS5tYXRjaCgvXlxcLyhbXi9dKilcXC8vKTtcbiAgICByZXR1cm4gbW9kdWxlTWF0Y2ggPyBtb2R1bGVNYXRjaFsxXSA6ICcqJztcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKi9cbiAgcHJpdmF0ZSBfYWRqdXN0Um9vdFBhdGhzIChuZXdTY29wZTogQWNjZXNzU2NvcGUpOiB2b2lkIHtcbiAgICBpZiAoJyonIGluIHRoaXMuc2NvcGVNb2RlTWFwIHx8IG5ld1Njb3BlID09PSAnKicpIHtcbiAgICAgIHRoaXMucm9vdFBhdGhzID0gWycvJ107XG4gICAgfSBlbHNlIGlmICghKG5ld1Njb3BlIGluIHRoaXMuc2NvcGVNb2RlTWFwKSkge1xuICAgICAgdGhpcy5yb290UGF0aHMucHVzaCgnLycgKyBuZXdTY29wZSArICcvJyk7XG4gICAgICB0aGlzLnJvb3RQYXRocy5wdXNoKCcvcHVibGljLycgKyBuZXdTY29wZSArICcvJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqL1xuICBwcml2YXRlIF9zY29wZU5hbWVGb3JQYXJhbWV0ZXIgKHNjb3BlOiBTY29wZUVudHJ5KTogc3RyaW5nIHtcbiAgICBpZiAoc2NvcGUubmFtZSA9PT0gJyonICYmIHRoaXMuc3RvcmFnZVR5cGUpIHtcbiAgICAgIGlmICh0aGlzLnN0b3JhZ2VUeXBlID09PSAnMjAxMi4wNCcpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0b3JhZ2VUeXBlLm1hdGNoKC9yZW1vdGVzdG9yYWdlLTBbMDFdLykpIHtcbiAgICAgICAgcmV0dXJuICdyb290JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjb3BlLm5hbWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdG9yYWdlIHR5cGUgb2YgdGhlIHJlbW90ZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBTdG9yYWdlIHR5cGVcbiAgICovXG4gIHNldFN0b3JhZ2VUeXBlICh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3JhZ2VUeXBlID0gdHlwZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29udGFpbmluZ0ZvbGRlciwgaXNGb2xkZXIgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5cbi8qKlxuICogQGNsYXNzIENhY2hpbmdcbiAqXG4gKiBIb2xkcy9tYW5hZ2VzIGNhY2hpbmcgY29uZmlndXJhdGlvbi5cbiAqKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhY2hpbmcge1xuICBwZW5kaW5nQWN0aXZhdGlvbnM6IHN0cmluZ1tdID0gW107XG4gIC8vIFRPRE8gYWRkIGNvcnJlY3QgdHlwZVxuICBhY3RpdmF0ZUhhbmRsZXI6IEZ1bmN0aW9uO1xuXG4gIHByaXZhdGUgX3Jvb3RQYXRoczogb2JqZWN0O1xuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJlIGNhY2hpbmcgZm9yIGEgZ2l2ZW4gcGF0aCBleHBsaWNpdGx5LlxuICAgKlxuICAgKiBOb3QgbmVlZGVkIHdoZW4gdXNpbmcgYGBlbmFibGVgYC9gYGRpc2FibGVgYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGNhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneSAtIENhY2hpbmcgc3RyYXRlZ3kuIE9uZSBvZiAnQUxMJywgJ1NFRU4nLCBvciAnRkxVU0gnLlxuICAgKi9cbiAgc2V0IChwYXRoOiBzdHJpbmcsIHN0cmF0ZWd5OiAnQUxMJyB8ICdTRUVOJyB8ICdGTFVTSCcpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhdGggc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICghaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGF0aCBzaG91bGQgYmUgYSBmb2xkZXInKTtcbiAgICB9XG4gICAgLy8gRklYTUUgV2UgbmVlZCB0byBnZXQgdG8gdGhlIGFjY2VzcyBpbnN0YW5jZSBzb21laG93LiAgQnV0IEknbSBub3Qgc3VyZVxuICAgIC8vIHRoaXMgY2hlY2sgaXMgZXZlbiBuZWNlc3NhcnkgaW4gdGhlIGZpcnN0IHBsYWNlLiAtcmF1Y2FvXG4gICAgLy8gaWYgKCF0aGlzLl9yZW1vdGVTdG9yYWdlLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKHBhdGgsICdyJykpIHtcbiAgICAvLyAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHBhdGggXCInICsgcGF0aCArICdcIi4gWW91IGhhdmUgdG8gY2xhaW0gYWNjZXNzIHRvIGl0IGZpcnN0LicpO1xuICAgIC8vIH1cbiAgICBpZiAoIXN0cmF0ZWd5Lm1hdGNoKC9eKEZMVVNIfFNFRU58QUxMKSQvKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic3RyYXRlZ3kgc2hvdWxkIGJlICdGTFVTSCcsICdTRUVOJywgb3IgJ0FMTCdcIik7XG4gICAgfVxuXG4gICAgdGhpcy5fcm9vdFBhdGhzW3BhdGhdID0gc3RyYXRlZ3k7XG5cbiAgICBpZiAoc3RyYXRlZ3kgPT09ICdBTEwnKSB7XG4gICAgICBpZiAodGhpcy5hY3RpdmF0ZUhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUhhbmRsZXIocGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBlbmRpbmdBY3RpdmF0aW9ucy5wdXNoKHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgY2FjaGluZyBmb3IgYSBnaXZlbiBwYXRoLlxuICAgKlxuICAgKiBVc2VzIGNhY2hpbmcgc3RyYXRlZ3kgYGBBTExgYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGVuYWJsZSBjYWNoaW5nIGZvclxuICAgKi9cbiAgZW5hYmxlIChwYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNldChwYXRoLCAnQUxMJyk7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSBjYWNoaW5nIGZvciBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIFVzZXMgY2FjaGluZyBzdHJhdGVneSBgYEZMVVNIYGAgKG1lYW5pbmcgaXRlbXMgYXJlIG9ubHkgY2FjaGVkIHVudGlsXG4gICAqIHN1Y2Nlc3NmdWxseSBwdXNoZWQgdG8gdGhlIHJlbW90ZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byBkaXNhYmxlIGNhY2hpbmcgZm9yXG4gICAqL1xuICBkaXNhYmxlIChwYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNldChwYXRoLCAnRkxVU0gnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBjYWxsYmFjayBmb3Igd2hlbiBjYWNoaW5nIGlzIGFjdGl2YXRlZCBmb3IgYSBwYXRoLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBvbkFjdGl2YXRlIChjYjogKGZpcnN0UGVuZGluZzogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgbG9nKCdbQ2FjaGluZ10gU2V0dGluZyBhY3RpdmF0ZSBoYW5kbGVyJywgY2IsIHRoaXMucGVuZGluZ0FjdGl2YXRpb25zKTtcbiAgICB0aGlzLmFjdGl2YXRlSGFuZGxlciA9IGNiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNiKHRoaXMucGVuZGluZ0FjdGl2YXRpb25zW2ldKTtcbiAgICB9XG4gICAgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBjYWNoaW5nIHNldHRpbmcgZm9yIGEgZ2l2ZW4gcGF0aCwgb3IgaXRzIG5leHQgcGFyZW50XG4gICAqIHdpdGggYSBjYWNoaW5nIHN0cmF0ZWd5IHNldC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIHJldHJpZXZlIHNldHRpbmcgZm9yXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGNhY2hpbmcgc3RyYXRlZ3kgZm9yIHRoZSBwYXRoXG4gICAqKi9cbiAgY2hlY2tQYXRoIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLl9yb290UGF0aHNbcGF0aF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3RQYXRoc1twYXRoXTtcbiAgICB9IGVsc2UgaWYgKHBhdGggPT09ICcvJykge1xuICAgICAgcmV0dXJuICdTRUVOJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY2hlY2tQYXRoKGNvbnRhaW5pbmdGb2xkZXIocGF0aCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgc3RhdGUgb2YgY2FjaGluZyBieSBkZWxldGluZyBhbGwgY2FjaGluZyBpbmZvcm1hdGlvbi5cbiAgICoqL1xuICByZXNldCAoKTogdm9pZCB7XG4gICAgdGhpcy5fcm9vdFBhdGhzID0ge307XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgb24gaW5pdGlhbGl6YXRpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqKi9cbiAgc3RhdGljIF9yc19pbml0ICgvKnJlbW90ZVN0b3JhZ2UqLyk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxufVxuIiwiaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBXaXJlQ2xpZW50IGZyb20gJy4vd2lyZWNsaWVudCc7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGlzRm9sZGVyLFxuICBjbGVhblBhdGgsXG4gIHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5LFxuICBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSxcbiAgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlXG59IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IEJBU0VfVVJMID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tJztcbmNvbnN0IEFVVEhfVVJMID0gJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoJztcbmNvbnN0IEFVVEhfU0NPUEUgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZSc7XG5jb25zdCBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTpnb29nbGVkcml2ZSc7XG5jb25zdCBQQVRIX1BSRUZJWCA9ICcvcmVtb3Rlc3RvcmFnZSc7XG5cbmNvbnN0IEdEX0RJUl9NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmZvbGRlcic7XG5jb25zdCBSU19ESVJfTUlNRV9UWVBFID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuXG5sZXQgaGFzTG9jYWxTdG9yYWdlO1xuXG4vKipcbiAqIFByb2R1Y2UgYSB0aXRsZSBmcm9tIGEgZmlsZW5hbWUgZm9yIG1ldGFkYXRhLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICogQHJldHVybnMge3N0cmluZ30gdGl0bGVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBtZXRhVGl0bGVGcm9tRmlsZU5hbWUgKGZpbGVuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoZmlsZW5hbWUuc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5zdWJzdHIoMCwgZmlsZW5hbWUubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHBhcmVudCBkaXJlY3RvcnkgZm9yIHRoZSBnaXZlbiBwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBwYXJlbnQgZGlyZWN0b3J5XG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGFyZW50UGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvW15cXC9dK1xcLz8kLywgJycpO1xufVxuXG4vKipcbiAqIEdldCBvbmx5IHRoZSBmaWxlbmFtZSBmcm9tIGEgZnVsbCBwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBmaWxlbmFtZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGJhc2VOYW1lIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0yXSsnLyc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0xXTtcbiAgfVxufVxuXG4vKipcbiAqIFByZXBlbmQgdGhlIHBhdGggd2l0aCB0aGUgcmVtb3RlU3RvcmFnZSBiYXNlIGRpcmVjdG9yeS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGhcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEFjdHVhbCBwYXRoIG9uIEdvb2dsZSBEcml2ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdvb2dsZURyaXZlUGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNsZWFuUGF0aChgJHtQQVRIX1BSRUZJWH0vJHtwYXRofWApO1xufVxuXG4vKipcbiAqIFJlbW92ZSBzdXJyb3VuZGluZyBxdW90ZXMgZnJvbSBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gc3RyaW5nIHdpdGggc3Vycm91bmRpbmcgcXVvdGVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJpbmcgd2l0aG91dCBzdXJyb3VuZGluZyBxdW90ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZW1vdmVRdW90ZXMgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eW1wiJ10oLiopW1wiJ10kLywgXCIkMVwiKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBjYWNoZSBvYmplY3QgZm9yIHN0b3JpbmcgR29vZ2xlIGZpbGUgSURzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSBNYXhpbXVtIGFnZSAoaW4gc2Vjb25kcykgdGhlIGNvbnRlbnQgc2hvdWxkIGJlIGNhY2hlZCBmb3JcbiAqL1xuY2xhc3MgRmlsZUlkQ2FjaGUge1xuICBtYXhBZ2U6IG51bWJlcjtcbiAgX2l0ZW1zID0ge31cblxuICBjb25zdHJ1Y3RvcihtYXhBZ2U/OiBudW1iZXIpIHtcbiAgICB0aGlzLm1heEFnZSA9IG1heEFnZTtcbiAgICB0aGlzLl9pdGVtcyA9IHt9O1xuICB9XG5cbiAgZ2V0IChrZXkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9pdGVtc1trZXldO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHJldHVybiAoaXRlbSAmJiBpdGVtLnQgPj0gKG5vdyAtIHRoaXMubWF4QWdlKSkgPyBpdGVtLnYgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXQgKGtleSwgdmFsdWUpOiB2b2lkIHtcbiAgICB0aGlzLl9pdGVtc1trZXldID0ge1xuICAgICAgdjogdmFsdWUsXG4gICAgICB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgIH07XG4gIH1cbn07XG5cbi8qKlxuICogT3ZlcndyaXRlIEJhc2VDbGllbnQncyBnZXRJdGVtVVJMIHdpdGggb3VyIG93biBpbXBsZW1lbnRhdGlvblxuICpcbiAqIFRPRE86IFN0aWxsIG5lZWRzIHRvIGJlIGltcGxlbWVudGVkLiBBdCB0aGUgbW9tZW50IGl0IGp1c3QgdGhyb3dzXG4gKiBhbmQgZXJyb3Igc2F5aW5nIHRoYXQgaXQncyBub3QgaW1wbGVtZW50ZWQgeWV0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBob29rR2V0SXRlbVVSTCAocnMpOiB2b2lkIHtcbiAgaWYgKHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwgPSBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMO1xuICBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMID0gZnVuY3Rpb24gKC8qIHBhdGggKi8pOiBuZXZlciB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnZXRJdGVtVVJMIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgR29vZ2xlIERyaXZlIHlldCcpO1xuICB9O1xufVxuXG4vKipcbiAqIFJlc3RvcmUgQmFzZUNsaWVudCdzIGdldEl0ZW1VUkwgb3JpZ2luYWwgaW1wbGVtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdW5Ib29rR2V0SXRlbVVSTCAocnMpOiB2b2lkIHtcbiAgaWYgKCFycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMKSB7IHJldHVybjsgfVxuICBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMID0gcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTDtcbiAgZGVsZXRlIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkw7XG59XG5cbi8qKlxuICogQGNsYXNzIEdvb2dsZURyaXZlXG4gKlxuICogVG8gdXNlIHRoaXMgYmFja2VuZCwgeW91IG5lZWQgdG8gc3BlY2lmeSB0aGUgYXBwJ3MgY2xpZW50IElEIGxpa2Ugc286XG4gKlxuICogQGV4YW1wbGVcbiAqIHJlbW90ZVN0b3JhZ2Uuc2V0QXBpS2V5cyh7XG4gKiAgIGdvb2dsZWRyaXZlOiAneW91ci1jbGllbnQtaWQnXG4gKiB9KTtcbiAqXG4gKiBBIGNsaWVudCBJRCBjYW4gYmUgb2J0YWluZWQgYnkgcmVnaXN0ZXJpbmcgeW91ciBhcHAgaW4gdGhlIEdvb2dsZVxuICogRGV2ZWxvcGVycyBDb25zb2xlOiBodHRwczovL2NvbnNvbGUuZGV2ZWxvcGVycy5nb29nbGUuY29tL2Zsb3dzL2VuYWJsZWFwaT9hcGlpZD1kcml2ZVxuICpcbiAqIERvY3M6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2RyaXZlL3YzL3dlYi9xdWlja3N0YXJ0L2pzXG4qKi9cbmNsYXNzIEdvb2dsZURyaXZlIHtcbiAgcnM6IGFueTtcbiAgY2xpZW50SWQ6IHN0cmluZztcbiAgdXNlckFkZHJlc3M6IHN0cmluZztcbiAgdG9rZW46IHN0cmluZztcbiAgY29ubmVjdGVkID0gZmFsc2U7XG4gIG9ubGluZSA9IHRydWU7XG5cbiAgX2ZpbGVJZENhY2hlOiBGaWxlSWRDYWNoZTtcblxuICBjb25zdHJ1Y3RvcihyZW1vdGVTdG9yYWdlLCBjbGllbnRJZCkge1xuICAgIHRoaXMuYWRkRXZlbnRzKFsnY29ubmVjdGVkJywgJ25vdC1jb25uZWN0ZWQnXSk7XG5cbiAgICB0aGlzLnJzID0gcmVtb3RlU3RvcmFnZTtcbiAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG5cbiAgICB0aGlzLl9maWxlSWRDYWNoZSA9IG5ldyBGaWxlSWRDYWNoZSg2MCAqIDUpOyAvLyBJRHMgZXhwaXJlIGFmdGVyIDUgbWludXRlcyAoaXMgdGhpcyBhIGdvb2QgaWRlYT8pXG5cbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2Upe1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShTRVRUSU5HU19LRVkpO1xuICAgICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJlIHRoZSBHb29nbGUgRHJpdmUgYmFja2VuZC5cbiAgICpcbiAgICogRmV0Y2hlcyB0aGUgdXNlciBpbmZvIGZyb20gR29vZ2xlIHdoZW4gbm8gYGB1c2VyQWRkcmVzc2BgIGlzIGdpdmVuLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXR0aW5ncy51c2VyQWRkcmVzc10gLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXR0aW5ncy50b2tlbl0gLSBBdXRob3JpemF0aW9uIHRva2VuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGNvbmZpZ3VyZSAoc2V0dGluZ3MpIHsgLy8gU2V0dGluZ3MgcGFyYW1ldGVyIGNvbXBhdGlibGUgd2l0aCBXaXJlQ2xpZW50XG4gICAgLy8gV2Ugb25seSB1cGRhdGUgdGhpcy51c2VyQWRkcmVzcyBpZiBzZXR0aW5ncy51c2VyQWRkcmVzcyBpcyBzZXQgdG8gYSBzdHJpbmcgb3IgdG8gbnVsbFxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudXNlckFkZHJlc3MgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzczsgfVxuICAgIC8vIFNhbWUgZm9yIHRoaXMudG9rZW4uIElmIG9ubHkgb25lIG9mIHRoZXNlIHR3byBpcyBzZXQsIHdlIGxlYXZlIHRoZSBvdGhlciBvbmUgYXQgaXRzIGV4aXN0aW5nIHZhbHVlXG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy50b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy50b2tlbiA9IHNldHRpbmdzLnRva2VuOyB9XG5cbiAgICBjb25zdCB3cml0ZVNldHRpbmdzVG9DYWNoZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlblxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgZGVsZXRlIHRoaXMudG9rZW47XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFVFRJTkdTX0tFWSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAgIGlmICh0aGlzLnVzZXJBZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5mbygpLnRoZW4oKGluZm8pID0+IHtcbiAgICAgICAgICB0aGlzLnVzZXJBZGRyZXNzID0gaW5mby51c2VyLmVtYWlsQWRkcmVzcztcbiAgICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDb3VsZCBub3QgZmV0Y2ggdXNlciBpbmZvLicpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWF0ZSB0aGUgYXV0aG9yaXphdGlvbiBmbG93J3MgT0F1dGggZGFuY2UuXG4gICAqL1xuICBjb25uZWN0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnJzLnNldEJhY2tlbmQoJ2dvb2dsZWRyaXZlJyk7XG4gICAgdGhpcy5ycy5hdXRob3JpemUoeyBhdXRoVVJMOiBBVVRIX1VSTCwgc2NvcGU6IEFVVEhfU0NPUEUsIGNsaWVudElkOiB0aGlzLmNsaWVudElkIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgdGhlIGF1dGhvcml6YXRpb24gcHJvY2Vzcy5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RvcFdhaXRpbmdGb3JUb2tlbiAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgcmVzb3VyY2UgKGZpbGUgb3IgZGlyZWN0b3J5KS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIG9mIHRoZSByZXNvdXJjZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBib2R5LCBjb250ZW50LXR5cGUgYW5kIHJldmlzaW9uXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldCAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldEZvbGRlcihnb29nbGVEcml2ZVBhdGgocGF0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZShnb29nbGVEcml2ZVBhdGgocGF0aCksIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgb3IgdXBkYXRlIGEgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBGaWxlIHBhdGhcbiAgICogQHBhcmFtIGJvZHkgLSBGaWxlIGNvbnRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRUeXBlIC0gRmlsZSBjb250ZW50LXR5cGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaWZOb25lTWF0Y2ggLSBPbmx5IGNyZWF0ZSBvZiB1cGRhdGUgdGhlIGZpbGUgaWYgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCBFVGFnIGRvZXNuJ3QgbWF0Y2ggdGhpcyBzdHJpbmdcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgY29udGVudC10eXBlIGFuZCByZXZpc2lvblxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwdXQgKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZnVsbFBhdGggPSBnb29nbGVEcml2ZVBhdGgocGF0aCk7XG5cbiAgICBmdW5jdGlvbiBwdXREb25lKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgY29uc3QgZXRhZ1dpdGhvdXRRdW90ZXMgPSByZW1vdmVRdW90ZXMobWV0YS5ldGFnKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwLCBjb250ZW50VHlwZTogbWV0YS5taW1lVHlwZSwgcmV2aXNpb246IGV0YWdXaXRob3V0UXVvdGVzfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQxMiwgcmV2aXNpb246ICdjb25mbGljdCd9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlBVVCBmYWlsZWQgd2l0aCBzdGF0dXMgXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiAoXCIgKyByZXNwb25zZS5yZXNwb25zZVRleHQgKyBcIilcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2dldEZpbGVJZChmdWxsUGF0aCkudGhlbigoaWQpID0+IHtcbiAgICAgIGlmIChpZCkge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy5pZk5vbmVNYXRjaCA9PT0gJyonKSkge1xuICAgICAgICAgIHJldHVybiBwdXREb25lKHsgc3RhdHVzOiA0MTIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZpbGUoaWQsIGZ1bGxQYXRoLCBib2R5LCBjb250ZW50VHlwZSwgb3B0aW9ucykudGhlbihwdXREb25lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVGaWxlKGZ1bGxQYXRoLCBib2R5LCBjb250ZW50VHlwZSkudGhlbihwdXREb25lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk1hdGNoIC0gb25seSBkZWxldGUgdGhlIGZpbGUgaWYgaXQncyBFVGFnXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzIHRoaXMgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBkZWxldGUgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGdvb2dsZURyaXZlUGF0aChwYXRoKTtcblxuICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQoZnVsbFBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIC8vIEZpbGUgZG9lc24ndCBleGlzdC4gSWdub3JlLlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2dldE1ldGEoaWQpLnRoZW4oKG1ldGEpID0+IHtcbiAgICAgICAgbGV0IGV0YWdXaXRob3V0UXVvdGVzO1xuICAgICAgICBpZiAoKHR5cGVvZiBtZXRhID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXRhLmV0YWcgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKG1ldGEuZXRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIChvcHRpb25zLmlmTWF0Y2ggIT09IGV0YWdXaXRob3V0UXVvdGVzKSkge1xuICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcy8nICsgaWQsIHt9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiAyMDB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJEZWxldGUgZmFpbGVkOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIChcIiArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCArIFwiKVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggdGhlIHVzZXIncyBpbmZvIGZyb20gR29vZ2xlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gcmVzb2x2ZXMgd2l0aCB0aGUgdXNlcidzIGluZm8uXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGluZm8gKCkge1xuICAgIGNvbnN0IHVybCA9IEJBU0VfVVJMICsgJy9kcml2ZS92Mi9hYm91dD9maWVsZHM9dXNlcic7XG4gICAgLy8gcmVxdWVzdGluZyB1c2VyIGluZm8obWFpbmx5IGZvciB1c2VyQWRyZXNzKVxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCB1cmwsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwKXtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbmZvKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbiBleGlzdGluZyBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBGaWxlIElEXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEBwYXJhbSBib2R5IC0gRmlsZSBjb250ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIEZpbGUgY29udGVudC10eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlmTWF0Y2ggLSBPbmx5IHVwZGF0ZSB0aGUgZmlsZSBpZiBpdHMgRVRhZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyB0aGlzIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2YgdGhlIG5ldHdvcmsgcmVxdWVzdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUZpbGUgKGlkLCBwYXRoLCBib2R5LCBjb250ZW50VHlwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgbWltZVR5cGU6IGNvbnRlbnRUeXBlXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgIGhlYWRlcnNbJ0lmLU1hdGNoJ10gPSAnXCInICsgb3B0aW9ucy5pZk1hdGNoICsgJ1wiJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgQkFTRV9VUkwgKyAnL3VwbG9hZC9kcml2ZS92Mi9maWxlcy8nICsgaWQgKyAnP3VwbG9hZFR5cGU9cmVzdW1hYmxlJywge1xuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgcmV0dXJuIChyZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgcmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0xvY2F0aW9uJyksIHtcbiAgICAgICAgICBib2R5OiBjb250ZW50VHlwZS5tYXRjaCgvXmFwcGxpY2F0aW9uXFwvanNvbi8pID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiBib2R5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0gYm9keSAtIEZpbGUgY29udGVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFR5cGUgLSBGaWxlIGNvbnRlbnQtdHlwZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2YgdGhlIG5ldHdvcmsgcmVxdWVzdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUZpbGUgKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFBhcmVudElkKHBhdGgpLnRoZW4oKHBhcmVudElkKSA9PiB7XG4gICAgICBjb25zdCBmaWxlTmFtZSA9IGJhc2VOYW1lKHBhdGgpO1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgIHRpdGxlOiBtZXRhVGl0bGVGcm9tRmlsZU5hbWUoZmlsZU5hbWUpLFxuICAgICAgICBtaW1lVHlwZTogY29udGVudFR5cGUsXG4gICAgICAgIHBhcmVudHM6IFt7XG4gICAgICAgICAga2luZDogXCJkcml2ZSNmaWxlTGlua1wiLFxuICAgICAgICAgIGlkOiBwYXJlbnRJZFxuICAgICAgICB9XVxuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgQkFTRV9VUkwgKyAnL3VwbG9hZC9kcml2ZS92Mi9maWxlcz91cGxvYWRUeXBlPXJlc3VtYWJsZScsIHtcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpLCB7XG4gICAgICAgICAgYm9keTogY29udGVudFR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcL2pzb24vKSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogYm9keVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgYSBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuaWZOb25lTWF0aF0gLSBPbmx5IHJldHVybiB0aGUgZmlsZSBpZiBpdHMgRVRhZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2Vzbid0IG1hdGNoIHRoZSBnaXZlbiBzdHJpbmdcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgYm9keSwgY29udGVudC10eXBlIGFuZCByZXZpc2lvblxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEZpbGUgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKHBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0TWV0YShpZCkudGhlbigobWV0YSkgPT4ge1xuICAgICAgICBsZXQgZXRhZ1dpdGhvdXRRdW90ZXM7XG4gICAgICAgIGlmICh0eXBlb2YobWV0YSkgPT09ICdvYmplY3QnICYmIHR5cGVvZihtZXRhLmV0YWcpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKG1ldGEuZXRhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTm9uZU1hdGNoICYmIChldGFnV2l0aG91dFF1b3RlcyA9PT0gb3B0aW9ucy5pZk5vbmVNYXRjaCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAzMDR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWV0YS5kb3dubG9hZFVybCkge1xuICAgICAgICAgIGlmIChtZXRhLmV4cG9ydExpbmtzICYmIG1ldGEuZXhwb3J0TGlua3NbJ3RleHQvaHRtbCddKSB7XG4gICAgICAgICAgICAvLyBEb2N1bWVudHMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBpbnNpZGUgR29vZ2xlRG9jcyBoYXZlIG5vXG4gICAgICAgICAgICAvLyBkb3dubG9hZFVybCwgYnV0IHlvdSBjYW4gZXhwb3J0IHRoZW0gdG8gdGV4dC9odG1sIGluc3RlYWQ6XG4gICAgICAgICAgICBtZXRhLm1pbWVUeXBlICs9ICc7ZXhwb3J0PXRleHQvaHRtbCc7XG4gICAgICAgICAgICBtZXRhLmRvd25sb2FkVXJsID0gbWV0YS5leHBvcnRMaW5rc1sndGV4dC9odG1sJ107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IGZpbGVcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDIwMCwgYm9keTogJycsIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCBtZXRhLmRvd25sb2FkVXJsLCBwYXJhbXMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy9maXJzdCBlbmNvZGUgdGhlIHJlc3BvbnNlIGFzIHRleHQsIGFuZCBsYXRlciBjaGVjayBpZlxuICAgICAgICAgIC8vdGV4dCBhcHBlYXJzIHRvIGFjdHVhbGx5IGJlIGJpbmFyeSBkYXRhXG4gICAgICAgICAgcmV0dXJuIGdldFRleHRGcm9tQXJyYXlCdWZmZXIocmVzcG9uc2UucmVzcG9uc2UsICdVVEYtOCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgICAgbGV0IGJvZHkgPSByZXNwb25zZVRleHQ7XG4gICAgICAgICAgICBpZiAobWV0YS5taW1lVHlwZS5tYXRjaCgvXmFwcGxpY2F0aW9uXFwvanNvbi8pKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBib2R5IGNvdWxkbid0IGJlIHBhcnNlZCBhcyBKU09OLCBzbyB3ZSdsbCBqdXN0IHJldHVybiBpdCBhcyBpc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5KHJlc3BvbnNlVGV4dCwgbWV0YS5taW1lVHlwZSkpIHtcbiAgICAgICAgICAgICAgLy9yZXR1cm4gdW5wcm9jZXNzZWQgcmVzcG9uc2VcbiAgICAgICAgICAgICAgYm9keSA9IHJlc3BvbnNlLnJlc3BvbnNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLFxuICAgICAgICAgICAgICByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBhIGRpcmVjdG9yeS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBEaXJlY3RvcnkgcGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBib2R5IGFuZCBjb250ZW50LXR5cGVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGb2xkZXIgKHBhdGgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKHBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICBsZXQgZGF0YSwgZXRhZ1dpdGhvdXRRdW90ZXMsIGl0ZW1zTWFwO1xuICAgICAgaWYgKCEgaWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDA0fSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1xcJycgKyBpZCArICdcXCcgaW4gcGFyZW50cyc7XG4gICAgICBjb25zdCBmaWVsZHMgPSAnaXRlbXMoZG93bmxvYWRVcmwsZXRhZyxmaWxlU2l6ZSxpZCxtaW1lVHlwZSx0aXRsZSknO1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcz8nXG4gICAgICAgICAgKyAncT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KVxuICAgICAgICAgICsgJyZmaWVsZHM9JyArIGVuY29kZVVSSUNvbXBvbmVudChmaWVsZHMpXG4gICAgICAgICAgKyAnJm1heFJlc3VsdHM9MTAwMCcsXG4gICAgICAgICAge30pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdyZXF1ZXN0IGZhaWxlZCBvciBzb21ldGhpbmc6ICcgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ25vbi1KU09OIHJlc3BvbnNlIGZyb20gR29vZ2xlRHJpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW1zTWFwID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhLml0ZW1zKSB7XG4gICAgICAgICAgZXRhZ1dpdGhvdXRRdW90ZXMgPSByZW1vdmVRdW90ZXMoaXRlbS5ldGFnKTtcbiAgICAgICAgICBpZiAoaXRlbS5taW1lVHlwZSA9PT0gR0RfRElSX01JTUVfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5fZmlsZUlkQ2FjaGUuc2V0KHBhdGggKyBjbGVhblBhdGgoaXRlbS50aXRsZSkgKyAnLycsIGl0ZW0uaWQpO1xuICAgICAgICAgICAgaXRlbXNNYXBbaXRlbS50aXRsZSArICcvJ10gPSB7XG4gICAgICAgICAgICAgIEVUYWc6IGV0YWdXaXRob3V0UXVvdGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9maWxlSWRDYWNoZS5zZXQocGF0aCArIGNsZWFuUGF0aChpdGVtLnRpdGxlKSwgaXRlbS5pZCk7XG4gICAgICAgICAgICBpdGVtc01hcFtpdGVtLnRpdGxlXSA9IHtcbiAgICAgICAgICAgICAgRVRhZzogZXRhZ1dpdGhvdXRRdW90ZXMsXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBpdGVtLm1pbWVUeXBlLFxuICAgICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBpdGVtLmZpbGVTaXplXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FOiBhZGQgcmV2aXNpb24gb2YgZm9sZGVyIVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IGl0ZW1zTWFwLCBjb250ZW50VHlwZTogUlNfRElSX01JTUVfVFlQRSwgcmV2aXNpb246IHVuZGVmaW5lZH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBJRCBvZiBhIHBhcmVudCBwYXRoLlxuICAgKlxuICAgKiBDcmVhdGVzIHRoZSBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRnVsbCBwYXRoIG9mIGEgZGlyZWN0b3J5IG9yIGZpbGVcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggSUQgb2YgdGhlIHBhcmVudCBkaXJlY3RvcnkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0UGFyZW50SWQgKHBhdGgpIHtcbiAgICBjb25zdCBmb2xkZXJuYW1lID0gcGFyZW50UGF0aChwYXRoKTtcblxuICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQoZm9sZGVybmFtZSkudGhlbigocGFyZW50SWQpID0+IHtcbiAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhcmVudElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVGb2xkZXIoZm9sZGVybmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgZGlyZWN0b3J5LlxuICAgKlxuICAgKiBDcmVhdGVzIGFsbCBwYXJlbnQgZGlyZWN0b3JpZXMgYXMgd2VsbCBpZiBhbnkgb2YgdGhlbSBkaWRuJ3QgZXhpc3QgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIERpcmVjdG9yeSBwYXRoXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSBJRCBvZiB0aGUgbmV3IGRpcmVjdG9yeVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUZvbGRlciAocGF0aCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRQYXJlbnRJZChwYXRoKS50aGVuKChwYXJlbnRJZCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCBCQVNFX1VSTCArICcvZHJpdmUvdjIvZmlsZXMnLCB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0aXRsZTogbWV0YVRpdGxlRnJvbUZpbGVOYW1lKGJhc2VOYW1lKHBhdGgpKSxcbiAgICAgICAgICBtaW1lVHlwZTogR0RfRElSX01JTUVfVFlQRSxcbiAgICAgICAgICBwYXJlbnRzOiBbe1xuICAgICAgICAgICAgaWQ6IHBhcmVudElkXG4gICAgICAgICAgfV1cbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnXG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobWV0YS5pZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIElEIG9mIGEgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBGaWxlIHBhdGhcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIElEXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0RmlsZUlkIChwYXRoKSB7XG4gICAgbGV0IGlkO1xuXG4gICAgaWYgKHBhdGggPT09ICcvJykge1xuICAgICAgLy8gXCJyb290XCIgaXMgYSBzcGVjaWFsIGFsaWFzIGZvciB0aGUgZmlsZUlkIG9mIHRoZSByb290IGZvbGRlclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgncm9vdCcpO1xuICAgIH0gZWxzZSBpZiAoKGlkID0gdGhpcy5fZmlsZUlkQ2FjaGUuZ2V0KHBhdGgpKSkge1xuICAgICAgLy8gaWQgaXMgY2FjaGVkLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpZCk7XG4gICAgfVxuICAgIC8vIGlkIGlzIG5vdCBjYWNoZWQgKG9yIGZpbGUgZG9lc24ndCBleGlzdCkuXG4gICAgLy8gbG9hZCBwYXJlbnQgZm9sZGVyIGxpc3RpbmcgdG8gcHJvcGFnYXRlIC8gdXBkYXRlIGlkIGNhY2hlLlxuICAgIHJldHVybiB0aGlzLl9nZXRGb2xkZXIocGFyZW50UGF0aChwYXRoKSkudGhlbigoKSA9PiB7XG4gICAgICBpZCA9IHRoaXMuX2ZpbGVJZENhY2hlLmdldChwYXRoKTtcbiAgICAgIGlmICghaWQpIHtcbiAgICAgICAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUZvbGRlcihwYXRoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQocGF0aCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGlkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1ldGFkYXRhIGZvciBhIGdpdmVuIGZpbGUgSUQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIEZpbGUgSURcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1ldGFkYXRhXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0TWV0YSAoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgQkFTRV9VUkwgKyAnL2RyaXZlL3YyL2ZpbGVzLycgKyBpZCwge30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwicmVxdWVzdCAoZ2V0dGluZyBtZXRhZGF0YSBmb3IgXCIgKyBpZCArIFwiKSBmYWlsZWQgd2l0aCBzdGF0dXM6IFwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbmV0d29yayByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gUmVxdWVzdCBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRhcmdldCBVUkxcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXR3b3JrIHJlcXVlc3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXF1ZXN0IChtZXRob2QsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICghIG9wdGlvbnMuaGVhZGVycykgeyBvcHRpb25zLmhlYWRlcnMgPSB7fTsgfVxuICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdGhpcy50b2tlbjtcblxuICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtYnVzeScsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybClcbiAgICB9KTtcblxuICAgIHJldHVybiBXaXJlQ2xpZW50LnJlcXVlc3QuY2FsbCh0aGlzLCBtZXRob2QsIHVybCwgb3B0aW9ucykudGhlbigoeGhyKSA9PiB7XG4gICAgICAvLyBHb29nbGUgdG9rZW5zIGV4cGlyZSBmcm9tIHRpbWUgdG8gdGltZS4uLlxuICAgICAgaWYgKHhociAmJiB4aHIuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5vbmxpbmUpIHtcbiAgICAgICAgICB0aGlzLm9ubGluZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vbmxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybCksXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHhocik7XG4gICAgICB9XG4gICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICBpZiAodGhpcy5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vZmZsaW5lJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKSxcbiAgICAgICAgc3VjY2VzczogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIEdvb2dsZSBEcml2ZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19pbml0IChyZW1vdGVTdG9yYWdlKTogdm9pZCB7XG4gICAgY29uc3QgY29uZmlnID0gcmVtb3RlU3RvcmFnZS5hcGlLZXlzLmdvb2dsZWRyaXZlO1xuICAgIGlmIChjb25maWcpIHtcbiAgICAgIHJlbW90ZVN0b3JhZ2UuZ29vZ2xlZHJpdmUgPSBuZXcgR29vZ2xlRHJpdmUocmVtb3RlU3RvcmFnZSwgY29uZmlnLmNsaWVudElkKTtcbiAgICAgIGlmIChyZW1vdGVTdG9yYWdlLmJhY2tlbmQgPT09ICdnb29nbGVkcml2ZScpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5fb3JpZ1JlbW90ZSA9IHJlbW90ZVN0b3JhZ2UucmVtb3RlO1xuICAgICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZSA9IHJlbW90ZVN0b3JhZ2UuZ29vZ2xlZHJpdmU7XG5cbiAgICAgICAgaG9va0dldEl0ZW1VUkwocmVtb3RlU3RvcmFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBHb29nbGUgRHJpdmUgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19zdXBwb3J0ZWQgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgR29vZ2xlIERyaXZlIGFzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2Uuc2V0QmFja2VuZCh1bmRlZmluZWQpO1xuICAgIGlmIChyZW1vdGVTdG9yYWdlLl9vcmlnUmVtb3RlKSB7XG4gICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZSA9IHJlbW90ZVN0b3JhZ2UuX29yaWdSZW1vdGU7XG4gICAgICBkZWxldGUgcmVtb3RlU3RvcmFnZS5fb3JpZ1JlbW90ZTtcbiAgICB9XG4gICAgdW5Ib29rR2V0SXRlbVVSTChyZW1vdGVTdG9yYWdlKTtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIEdvb2dsZURyaXZlIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEdvb2dsZURyaXZlLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBHb29nbGVEcml2ZTtcbiIsImltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgV2lyZUNsaWVudCBmcm9tICcuL3dpcmVjbGllbnQnO1xuaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBSZXZpc2lvbkNhY2hlIGZyb20gJy4vcmV2aXNpb25jYWNoZSc7XG5pbXBvcnQgU3luY0Vycm9yIGZyb20gJy4vc3luYy1lcnJvcic7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGNsZWFuUGF0aCxcbiAgaXNGb2xkZXIsXG4gIHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5LFxuICBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSxcbiAgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlXG59IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogV09SSyBJTiBQUk9HUkVTUywgTk9UIFJFQ09NTUVOREVEIEZPUiBQUk9EVUNUSU9OIFVTRVxuICpcbiAqIERyb3Bib3ggYmFja2VuZCBmb3IgUmVtb3RlU3RvcmFnZS5qc1xuICogVGhpcyBmaWxlIGV4cG9zZXMgYSBnZXQvcHV0L2RlbGV0ZSBpbnRlcmZhY2Ugd2hpY2ggaXMgY29tcGF0aWJsZSB3aXRoXG4gKiA8V2lyZUNsaWVudD4uXG4gKlxuICogV2hlbiByZW1vdGVTdG9yYWdlLmJhY2tlbmQgaXMgc2V0IHRvICdkcm9wYm94JywgdGhpcyBiYWNrZW5kIHdpbGxcbiAqIGluaXRpYWxpemUgYW5kIHJlcGxhY2UgcmVtb3RlU3RvcmFnZS5yZW1vdGUgd2l0aCByZW1vdGVTdG9yYWdlLmRyb3Bib3guXG4gKlxuICogSW4gb3JkZXIgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgcHVibGljIGZvbGRlciwgPEJhc2VDbGllbnQuZ2V0SXRlbVVSTD5cbiAqIGdldHMgaGlqYWNrZWQgdG8gcmV0dXJuIHRoZSBEcm9wYm94IHB1YmxpYyBzaGFyZSBVUkwuXG4gKlxuICogVG8gdXNlIHRoaXMgYmFja2VuZCwgeW91IG5lZWQgdG8gc3BlY2lmeSB0aGUgRHJvcGJveCBhcHAga2V5IGxpa2Ugc286XG4gKlxuICogQGV4YW1wbGVcbiAqIHJlbW90ZVN0b3JhZ2Uuc2V0QXBpS2V5cyh7XG4gKiAgIGRyb3Bib3g6ICd5b3VyLWFwcC1rZXknXG4gKiB9KTtcbiAqXG4gKiBBbiBhcHAga2V5IGNhbiBiZSBvYnRhaW5lZCBieSByZWdpc3RlcmluZyB5b3VyIGFwcCBhdCBodHRwczovL3d3dy5kcm9wYm94LmNvbS9kZXZlbG9wZXJzL2FwcHNcbiAqXG4gKiBLbm93biBpc3N1ZXM6XG4gKlxuICogICAtIFN0b3JpbmcgZmlsZXMgbGFyZ2VyIHRoYW4gMTUwTUIgaXMgbm90IHlldCBzdXBwb3J0ZWRcbiAqICAgLSBMaXN0aW5nIGFuZCBkZWxldGluZyBmb2xkZXJzIHdpdGggbW9yZSB0aGFuIDEwJzAwMCBmaWxlcyB3aWxsIGNhdXNlIHByb2JsZW1zXG4gKiAgIC0gQ29udGVudC1UeXBlIGlzIG5vdCBmdWxseSBzdXBwb3J0ZWQgZHVlIHRvIGxpbWl0YXRpb25zIG9mIHRoZSBEcm9wYm94IEFQSVxuICogICAtIERyb3Bib3ggcHJlc2VydmVzIGNhc2VzIGJ1dCBpcyBub3QgY2FzZS1zZW5zaXRpdmVcbiAqICAgLSBnZXRJdGVtVVJMIGlzIGFzeW5jaHJvbm91cyB3aGljaCBtZWFucyBpdCByZXR1cm5zIHVzZWZ1bCB2YWx1ZXNcbiAqICAgICBhZnRlciB0aGUgc3luY0N5Y2xlXG4gKi9cblxubGV0IGhhc0xvY2FsU3RvcmFnZTtcbmNvbnN0IEFVVEhfVVJMID0gJ2h0dHBzOi8vd3d3LmRyb3Bib3guY29tL29hdXRoMi9hdXRob3JpemUnO1xuY29uc3QgU0VUVElOR1NfS0VZID0gJ3JlbW90ZXN0b3JhZ2U6ZHJvcGJveCc7XG5jb25zdCBQQVRIX1BSRUZJWCA9ICcvcmVtb3Rlc3RvcmFnZSc7XG5cbi8qKlxuICogTWFwIGEgbG9jYWwgcGF0aCB0byBhIHBhdGggaW4gRHJvcGJveC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGhcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEFjdHVhbCBwYXRoIGluIERyb3Bib3hcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXREcm9wYm94UGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNsZWFuUGF0aChQQVRIX1BSRUZJWCArICcvJyArIHBhdGgpLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG59O1xuXG5mdW5jdGlvbiBjb21wYXJlQXBpRXJyb3IgKHJlc3BvbnNlLCBleHBlY3QpIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgZXhwZWN0LmpvaW4oJ1xcXFwvJykgKyAnKFxcXFwvfCQpJykudGVzdChyZXNwb25zZS5lcnJvcl9zdW1tYXJ5KTtcbn07XG5cbmZ1bmN0aW9uIGlzQmluYXJ5RGF0YSAoZGF0YSkge1xuICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IFdpcmVDbGllbnQuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSk7XG59O1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBEcm9wYm94IHtcbiAgcnM6IGFueTtcbiAgY29ubmVjdGVkOiBib29sZWFuO1xuICBvbmxpbmU6IGJvb2xlYW47XG4gIGNsaWVudElkOiBzdHJpbmc7XG4gIHRva2VuOiBzdHJpbmc7XG4gIHVzZXJBZGRyZXNzOiBzdHJpbmc7XG5cbiAgX2luaXRpYWxGZXRjaERvbmU6IGJvb2xlYW47XG4gIF9yZXZDYWNoZTogUmV2aXNpb25DYWNoZTtcbiAgX2ZldGNoRGVsdGFDdXJzb3I6IGFueTtcbiAgX2ZldGNoRGVsdGFQcm9taXNlOiBhbnk7XG4gIF9pdGVtUmVmczogYW55O1xuXG4gIC8vIFRPRE8gcmVtb3ZlIHdoZW4gcmVmYWN0b3JpbmcgZXZlbnRoYW5kbGluZ1xuICBfZW1pdDogYW55O1xuXG4gIGNvbnN0cnVjdG9yIChycykge1xuICAgIHRoaXMucnMgPSBycztcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMub25saW5lID0gdHJ1ZTsgLy8gVE9ETyBpbXBsZW1lbnQgb2ZmbGluZSBkZXRlY3Rpb24gb24gZmFpbGVkIHJlcXVlc3RcbiAgICB0aGlzLl9pbml0aWFsRmV0Y2hEb25lID0gZmFsc2U7XG5cbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2Nvbm5lY3RlZCcsICdub3QtY29ubmVjdGVkJ10pO1xuXG4gICAgdGhpcy5jbGllbnRJZCA9IHJzLmFwaUtleXMuZHJvcGJveC5hcHBLZXk7XG4gICAgdGhpcy5fcmV2Q2FjaGUgPSBuZXcgUmV2aXNpb25DYWNoZSgncmV2Jyk7XG4gICAgdGhpcy5fZmV0Y2hEZWx0YUN1cnNvciA9IG51bGw7XG4gICAgdGhpcy5fZmV0Y2hEZWx0YVByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuX2l0ZW1SZWZzID0ge307XG5cbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2Upe1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShTRVRUSU5HU19LRVkpO1xuICAgICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2l0ZW1SZWZzID0gZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UoYCR7U0VUVElOR1NfS0VZfTpzaGFyZXNgKSB8fCB7fTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMuX2VtaXQuYmluZCh0aGlzKSwgMCwgJ2Nvbm5lY3RlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGJhY2tlZCB0byAnZHJvcGJveCcgYW5kIHN0YXJ0IHRoZSBhdXRoZW50aWNhdGlvbiBmbG93IGluIG9yZGVyXG4gICAqIHRvIG9idGFpbiBhbiBBUEkgdG9rZW4gZnJvbSBEcm9wYm94LlxuICAgKi9cbiAgY29ubmVjdCAoKSB7XG4gICAgLy8gVE9ETyBoYW5kbGluZyB3aGVuIHRva2VuIGlzIGFscmVhZHkgcHJlc2VudFxuICAgIHRoaXMucnMuc2V0QmFja2VuZCgnZHJvcGJveCcpO1xuICAgIGlmICh0aGlzLnRva2VuKXtcbiAgICAgIGhvb2tJdCh0aGlzLnJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ycy5hdXRob3JpemUoeyBhdXRoVVJMOiBBVVRIX1VSTCwgc2NvcGU6ICcnLCBjbGllbnRJZDogdGhpcy5jbGllbnRJZCB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY29ubmVjdGVkIGZsYWdcbiAgICogQWNjZXB0cyBpdHMgcGFyYW1ldGVycyBhY2NvcmRpbmcgdG8gdGhlIDxXaXJlQ2xpZW50Pi5cbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2V0dGluZ3MudXNlckFkZHJlc3NdIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2V0dGluZ3MudG9rZW5dIC0gQXV0aG9yaXphdGlvbiB0b2tlblxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqKi9cbiAgY29uZmlndXJlIChzZXR0aW5ncykge1xuICAgIC8vIFdlIG9ubHkgdXBkYXRlIHRoaXMudXNlckFkZHJlc3MgaWYgc2V0dGluZ3MudXNlckFkZHJlc3MgaXMgc2V0IHRvIGEgc3RyaW5nIG9yIHRvIG51bGw6XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy51c2VyQWRkcmVzcyAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy51c2VyQWRkcmVzcyA9IHNldHRpbmdzLnVzZXJBZGRyZXNzOyB9XG4gICAgLy8gU2FtZSBmb3IgdGhpcy50b2tlbi4gSWYgb25seSBvbmUgb2YgdGhlc2UgdHdvIGlzIHNldCwgd2UgbGVhdmUgdGhlIG90aGVyIG9uZSBhdCBpdHMgZXhpc3RpbmcgdmFsdWU6XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy50b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy50b2tlbiA9IHNldHRpbmdzLnRva2VuOyB9XG5cbiAgICBjb25zdCB3cml0ZVNldHRpbmdzVG9DYWNoZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlblxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTRVRUSU5HU19LRVkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGhpcy50b2tlbikge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMudXNlckFkZHJlc3MpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICAgIHdyaXRlU2V0dGluZ3NUb0NhY2hlLmFwcGx5KHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbyl7XG4gICAgICAgICAgdGhpcy51c2VyQWRkcmVzcyA9IGluZm8uZW1haWw7XG4gICAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICAgICAgd3JpdGVTZXR0aW5nc1RvQ2FjaGUuYXBwbHkodGhpcyk7XG4gICAgICAgIH0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IuYXBwbHkodGhpcyk7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmZXRjaCB1c2VyIGluZm8uJykpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVFcnJvci5hcHBseSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcCB3YWl0aW5nIGZvciB0aGUgdG9rZW4gYW5kIGVtaXQgbm90LWNvbm5lY3RlZFxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdG9wV2FpdGluZ0ZvclRva2VuICgpIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9lbWl0KCdub3QtY29ubmVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgaXRlbXMgaW4gYSBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSBwYXRoIHtzdHJpbmd9IC0gcGF0aCBvZiB0aGUgZm9sZGVyIHRvIGdldCwgd2l0aCBsZWFkaW5nIHNsYXNoXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogICAgICAgICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgKiAgICAgICAgIGJvZHkgLSBhcnJheSBvZiB0aGUgaXRlbXMgZm91bmRcbiAgICogICAgICAgICBjb250ZW50VHlwZSAtICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgKiAgICAgICAgIHJldmlzaW9uIC0gcmV2aXNpb24gb2YgdGhlIGZvbGRlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEZvbGRlciAocGF0aCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2xpc3RfZm9sZGVyJztcbiAgICBjb25zdCByZXZDYWNoZSA9IHRoaXMuX3JldkNhY2hlO1xuXG4gICAgY29uc3QgcHJvY2Vzc1Jlc3BvbnNlID0gKHJlc3ApID0+IHtcbiAgICAgIGxldCBib2R5O1xuXG4gICAgICBpZiAocmVzcC5zdGF0dXMgIT09IDIwMCAmJiByZXNwLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnVW5leHBlY3RlZCByZXNwb25zZSBzdGF0dXM6ICcgKyByZXNwLnN0YXR1cyk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcC5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKGJvZHksIFsncGF0aCcsICdub3RfZm91bmQnXSkpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgZm9sZGVyIGlzIG5vdCBmb3VuZCwgaGFuZGxlIGl0IGFzIGFuIGVtcHR5IGZvbGRlclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIHJldHVybmVkIGFuIGVycm9yOiAnICsgYm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxpc3RpbmcgPSBib2R5LmVudHJpZXMucmVkdWNlKChtYXAsIGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgaXNEaXIgPSBpdGVtWycudGFnJ10gPT09ICdmb2xkZXInO1xuICAgICAgICBjb25zdCBpdGVtTmFtZSA9IGl0ZW0ucGF0aF9sb3dlci5zcGxpdCgnLycpLnNsaWNlKC0xKVswXSArIChpc0RpciA/ICcvJyA6ICcnKTtcbiAgICAgICAgaWYgKGlzRGlyKXtcbiAgICAgICAgICBtYXBbaXRlbU5hbWVdID0geyBFVGFnOiByZXZDYWNoZS5nZXQocGF0aCtpdGVtTmFtZSkgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXBbaXRlbU5hbWVdID0geyBFVGFnOiBpdGVtLnJldiB9O1xuICAgICAgICAgIHRoaXMuX3JldkNhY2hlLnNldChwYXRoK2l0ZW1OYW1lLCBpdGVtLnJldik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH0sIHt9KTtcblxuICAgICAgaWYgKGJvZHkuaGFzX21vcmUpIHtcbiAgICAgICAgcmV0dXJuIGxvYWROZXh0KGJvZHkuY3Vyc29yKS50aGVuKGZ1bmN0aW9uIChuZXh0TGlzdGluZykge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGxpc3RpbmcsIG5leHRMaXN0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlzdGluZyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGxvYWROZXh0ID0gKGN1cnNvcikgPT4ge1xuICAgICAgY29uc3QgY29udGludWVVUkwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9saXN0X2ZvbGRlci9jb250aW51ZSc7XG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIGJvZHk6IHsgY3Vyc29yOiBjdXJzb3IgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCBjb250aW51ZVVSTCwgcGFyYW1zKS50aGVuKHByb2Nlc3NSZXNwb25zZSk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7XG4gICAgICBib2R5OiB7XG4gICAgICAgIHBhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpXG4gICAgICB9XG4gICAgfSkudGhlbihwcm9jZXNzUmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGJvZHk6IGxpc3RpbmcsXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgIHJldmlzaW9uOiByZXZDYWNoZS5nZXQocGF0aClcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgdGhlIHBhdGggaW4gYGBfcmV2Q2FjaGVgYCBhbmQgZGVjaWRlcyBiYXNlZCBvbiB0aGF0IGlmIGZpbGVcbiAgICogaGFzIGNoYW5nZWQuIENhbGxzIGBgX2dldEZvbGRlcmBgIGlzIHRoZSBwYXRoIHBvaW50cyB0byBhIGZvbGRlci5cbiAgICpcbiAgICogQ2FsbHMgYGBEcm9wYm94LnNoYXJlYGAgYWZ0ZXJ3YXJkcyB0byBmaWxsIGBgX2l0ZW1SZWZzYGAuXG4gICAqXG4gICAqIENvbXBhdGlibGUgd2l0aCBgYFdpcmVDbGllbnQuZ2V0YGBcbiAgICpcbiAgICogQHBhcmFtIHBhdGgge3N0cmluZ30gLSBwYXRoIG9mIHRoZSBmb2xkZXIgdG8gZ2V0LCB3aXRoIGxlYWRpbmcgc2xhc2hcbiAgICogQHBhcmFtIG9wdGlvbnMge09iamVjdH1cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0IChwYXRoLCBvcHRpb25zKSB7XG4gICAgaWYgKCEgdGhpcy5jb25uZWN0ZWQpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KFwibm90IGNvbm5lY3RlZCAocGF0aDogXCIgKyBwYXRoICsgXCIpXCIpOyB9XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vY29udGVudC5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2Rvd25sb2FkJztcblxuICAgIGNvbnN0IHNhdmVkUmV2ID0gdGhpcy5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgIGlmIChzYXZlZFJldiA9PT0gbnVsbCkge1xuICAgICAgLy8gZmlsZSB3YXMgZGVsZXRlZCBzZXJ2ZXIgc2lkZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDA0fSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgIC8vIFdlIG11c3Qgd2FpdCBmb3IgbG9jYWwgcmV2aXNpb24gY2FjaGUgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlXG4gICAgICAvLyBjaGVja2luZyBpZiBsb2NhbCByZXZpc2lvbiBpcyBvdXRkYXRlZFxuICAgICAgaWYgKCEgdGhpcy5faW5pdGlhbEZldGNoRG9uZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaERlbHRhKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHBhdGgsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNhdmVkUmV2ICYmIChzYXZlZFJldiA9PT0gb3B0aW9ucy5pZk5vbmVNYXRjaCkpIHtcbiAgICAgICAgLy8gbm90aGluZyBjaGFuZ2VkLlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAzMDR9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1c2UgX2dldEZvbGRlciBmb3IgZm9sZGVyc1xuICAgIGlmIChwYXRoLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldEZvbGRlcihwYXRoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBKU09OLnN0cmluZ2lmeSh7cGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aCl9KSxcbiAgICAgIH0sXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICB9O1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgIHBhcmFtcy5oZWFkZXJzWydJZi1Ob25lLU1hdGNoJ10gPSBvcHRpb25zLmlmTm9uZU1hdGNoO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCB1cmwsIHBhcmFtcykudGhlbihyZXNwID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IHJlc3Auc3RhdHVzO1xuICAgICAgbGV0IG1ldGEsIGJvZHksIG1pbWUsIHJldjtcbiAgICAgIGlmIChzdGF0dXMgIT09IDIwMCAmJiBzdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiBzdGF0dXN9KTtcbiAgICAgIH1cbiAgICAgIG1ldGEgPSByZXNwLmdldFJlc3BvbnNlSGVhZGVyKCdEcm9wYm94LUFQSS1SZXN1bHQnKTtcbiAgICAgIC8vZmlyc3QgZW5jb2RlIHRoZSByZXNwb25zZSBhcyB0ZXh0LCBhbmQgbGF0ZXIgY2hlY2sgaWYgXG4gICAgICAvL3RleHQgYXBwZWFycyB0byBhY3R1YWxseSBiZSBiaW5hcnkgZGF0YVxuICAgICAgcmV0dXJuIGdldFRleHRGcm9tQXJyYXlCdWZmZXIocmVzcC5yZXNwb25zZSwgJ1VURi04JykudGhlbihyZXNwb25zZVRleHQgPT4ge1xuICAgICAgICBib2R5ID0gcmVzcG9uc2VUZXh0O1xuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICBtZXRhID0gYm9keTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbWV0YSA9IEpTT04ucGFyc2UobWV0YSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IobWV0YSwgWydwYXRoJywgJ25vdF9mb3VuZCddKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiA0MDR9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3Igd2hpbGUgZG93bmxvYWRpbmcgZmlsZSAoXCInICsgcGF0aCArICdcIik6ICcgKyBtZXRhLmVycm9yX3N1bW1hcnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1pbWUgPSByZXNwLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcbiAgICAgICAgcmV2ID0gbWV0YS5yZXY7XG4gICAgICAgIHRoaXMuX3JldkNhY2hlLnNldChwYXRoLCByZXYpO1xuICAgICAgICB0aGlzLl9zaGFyZUlmTmVlZGVkKHBhdGgpO1xuXG4gICAgICAgIGlmIChzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeShyZXNwb25zZVRleHQsIG1pbWUpKSB7XG4gICAgICAgICAgLy8gcmV0dXJuIHVucHJvY2Vzc2VkIHJlc3BvbnNlXG4gICAgICAgICAgYm9keSA9IHJlc3AucmVzcG9uc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaGFuZGxpbmcganNvbiAoYWx3YXlzIHRyeSlcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgICAgICBtaW1lID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgLy9GYWlsZWQgcGFyc2luZyBKc29uLCBhc3N1bWUgaXQgaXMgc29tZXRoaW5nIGVsc2UgdGhlblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzLFxuICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgY29udGVudFR5cGU6IG1pbWUsXG4gICAgICAgICAgcmV2aXNpb246IHJldlxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGZvciB0aGUgcGF0aCBpbiBgYF9yZXZDYWNoZWBgIGFuZCBkZWNpZGVzIGJhc2VkIG9uIHRoYXQgaWYgZmlsZVxuICAgKiBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQ29tcGF0aWJsZSB3aXRoIGBgV2lyZUNsaWVudGBgXG4gICAqXG4gICAqIENhbGxzIGBgRHJvcGJveC5zaGFyZWBgIGFmdGVyd2FyZHMgdG8gZmlsbCBgYF9pdGVtUmVmc2BgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHBhdGggb2YgdGhlIGZvbGRlciB0byBwdXQsIHdpdGggbGVhZGluZyBzbGFzaFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk5vbmVNYXRjaCAtIE9ubHkgY3JlYXRlIG9mIHVwZGF0ZSB0aGUgZmlsZSBpZiB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50IEVUYWcgZG9lc24ndCBtYXRjaCB0aGlzIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBjb250ZW50LXR5cGUgYW5kIHJldmlzaW9uXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHB1dCAocGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgY29ubmVjdGVkIChwYXRoOiBcIiArIHBhdGggKyBcIilcIik7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgZmlsZSBoYXMgY2hhbmdlZCBhbmQgcmV0dXJuIDQxMlxuICAgIGNvbnN0IHNhdmVkUmV2ID0gdGhpcy5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJlxuICAgICAgICBzYXZlZFJldiAmJiAoc2F2ZWRSZXYgIT09IG9wdGlvbnMuaWZNYXRjaCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQxMiwgcmV2aXNpb246IHNhdmVkUmV2fSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpICYmXG4gICAgICAgIHNhdmVkUmV2ICYmIChzYXZlZFJldiAhPT0gJ3JldicpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBzYXZlZFJldn0pO1xuICAgIH1cblxuICAgIGlmICgoIWNvbnRlbnRUeXBlLm1hdGNoKC9jaGFyc2V0PS8pKSAmJiBpc0JpbmFyeURhdGEoYm9keSkpIHtcbiAgICAgIGNvbnRlbnRUeXBlICs9ICc7IGNoYXJzZXQ9YmluYXJ5JztcbiAgICB9XG5cbiAgICBpZiAoYm9keS5sZW5ndGggPiAxNTAgKiAxMDI0ICogMTAyNCkge1xuICAgICAgLy9odHRwczovL3d3dy5kcm9wYm94LmNvbS9kZXZlbG9wZXJzL2NvcmUvZG9jcyNjaHVua2VkLXVwbG9hZFxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbm5vdCB1cGxvYWQgZmlsZSBsYXJnZXIgdGhhbiAxNTBNQlwiKSk7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBuZWVkc01ldGFkYXRhID0gb3B0aW9ucyAmJiAob3B0aW9ucy5pZk1hdGNoIHx8IChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpKTtcbiAgICBjb25zdCB1cGxvYWRQYXJhbXMgPSB7XG4gICAgICBib2R5OiBib2R5LFxuICAgICAgY29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgICAgcGF0aDogcGF0aFxuICAgIH07XG5cbiAgICBpZiAobmVlZHNNZXRhZGF0YSkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fZ2V0TWV0YWRhdGEocGF0aCkudGhlbihtZXRhZGF0YSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpICYmIG1ldGFkYXRhKSB7XG4gICAgICAgICAgLy8gaWYgISFtZXRhZGF0YSA9PT0gdHJ1ZSwgdGhlIGZpbGUgZXhpc3RzXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA0MTIsXG4gICAgICAgICAgICByZXZpc2lvbjogbWV0YWRhdGEucmV2XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiYgbWV0YWRhdGEgJiYgKG1ldGFkYXRhLnJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogNDEyLFxuICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwbG9hZFNpbXBsZSh1cGxvYWRQYXJhbXMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuX3VwbG9hZFNpbXBsZSh1cGxvYWRQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQudGhlbihyZXMgPT4ge1xuICAgICAgdGhpcy5fc2hhcmVJZk5lZWRlZChwYXRoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGZvciB0aGUgcGF0aCBpbiBgYF9yZXZDYWNoZWBgIGFuZCBkZWNpZGVzIGJhc2VkIG9uIHRoYXQgaWYgZmlsZVxuICAgKiBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQ29tcGF0aWJsZSB3aXRoIGBgV2lyZUNsaWVudC5kZWxldGVgYFxuICAgKlxuICAgKiBDYWxscyBgYERyb3Bib3guc2hhcmVgYCBhZnRlcndhcmRzIHRvIGZpbGwgYGBfaXRlbVJlZnNgYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBwYXRoIG9mIHRoZSBmb2xkZXIgdG8gZGVsZXRlLCB3aXRoIGxlYWRpbmcgc2xhc2hcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgJ2RlbGV0ZScgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgY29ubmVjdGVkIChwYXRoOiBcIiArIHBhdGggKyBcIilcIik7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgZmlsZSBoYXMgY2hhbmdlZCBhbmQgcmV0dXJuIDQxMlxuICAgIGNvbnN0IHNhdmVkUmV2ID0gdGhpcy5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJiBzYXZlZFJldiAmJiAob3B0aW9ucy5pZk1hdGNoICE9PSBzYXZlZFJldikpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBzYXZlZFJldiB9KTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRNZXRhZGF0YShwYXRoKS50aGVuKChtZXRhZGF0YSkgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiYgbWV0YWRhdGEgJiYgKG1ldGFkYXRhLnJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogNDEyLFxuICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGV0ZVNpbXBsZShwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9kZWxldGVTaW1wbGUocGF0aCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgc2hhcmUsIGlmIHRoZSBwcm92aWRlZCBwYXRoIHJlc2lkZXMgaW4gYSBwdWJsaWMgZm9sZGVyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NoYXJlSWZOZWVkZWQgKHBhdGgpIHtcbiAgICBpZiAocGF0aC5tYXRjaCgvXlxcL3B1YmxpY1xcLy4qW14vXSQvKSAmJiB0aGlzLl9pdGVtUmVmc1twYXRoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNoYXJlKHBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgcHVibGljbHktYWNjZXNzaWJsZSBVUkwgZm9yIHRoZSBwYXRoIGZyb20gRHJvcGJveCBhbmQgc3RvcmVzIGl0XG4gICAqIGluIGBgX2l0ZW1SZWZzYGAuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIFVSTFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2hhcmUgKHBhdGgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9zaGFyaW5nL2NyZWF0ZV9zaGFyZWRfbGlua193aXRoX3NldHRpbmdzJztcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYm9keToge3BhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpfVxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHN0YXR1czonICsgcmVzcG9uc2Uuc3RhdHVzKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBib2R5O1xuXG4gICAgICB0cnkge1xuICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGJvZHk6ICcgKyByZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IoYm9keSwgWydzaGFyZWRfbGlua19hbHJlYWR5X2V4aXN0cyddKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRTaGFyZWRMaW5rKHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgYm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYm9keS51cmwpO1xuICAgIH0pLnRoZW4oKGxpbmspID0+IHtcbiAgICAgIHRoaXMuX2l0ZW1SZWZzW3BhdGhdID0gbGluaztcblxuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVkrJzpzaGFyZXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9pdGVtUmVmcykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxpbmspO1xuICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgZXJyb3IubWVzc2FnZSA9ICdTaGFyaW5nIERyb3Bib3ggZmlsZSBvciBmb2xkZXIgKFwiJyArIHBhdGggKyAnXCIpIGZhaWxlZDogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHVzZXIncyBpbmZvIGZyb20gZHJvcGJveCBhbmQgcmV0dXJucyBhIHByb21pc2UgZm9yIGl0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgZm9yIHVzZXIgaW5mbyBvYmplY3QgKGVtYWlsIC0gdGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzKVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBpbmZvICgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi91c2Vycy9nZXRfY3VycmVudF9hY2NvdW50JztcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGxldCBpbmZvID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBpbmZvID0gSlNPTi5wYXJzZShpbmZvKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ291bGQgbm90IHF1ZXJ5IGN1cnJlbnQgYWNjb3VudCBpbmZvOiBJbnZhbGlkIEFQSSByZXNwb25zZTogJyArIGluZm8pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGVtYWlsOiBpbmZvLmVtYWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbmV0d29yayByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gUmVxdWVzdCBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRhcmdldCBVUkxcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXR3b3JrIHJlcXVlc3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXF1ZXN0IChtZXRob2QsIHVybCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7IG9wdGlvbnMuaGVhZGVycyA9IHt9OyB9XG4gICAgb3B0aW9ucy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0aGlzLnRva2VuO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmJvZHkgPT09ICdvYmplY3QnICYmICFpc0JpbmFyeURhdGEob3B0aW9ucy5ib2R5KSkge1xuICAgICAgb3B0aW9ucy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5ib2R5KTtcbiAgICAgIG9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCc7XG4gICAgfVxuXG4gICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1idXN5Jywge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFdpcmVDbGllbnQucmVxdWVzdC5jYWxsKHRoaXMsIG1ldGhvZCwgdXJsLCBvcHRpb25zKS50aGVuKHhociA9PiB7XG4gICAgICAvLyA1MDMgbWVhbnMgcmV0cnkgdGhpcyBsYXRlclxuICAgICAgaWYgKHhociAmJiB4aHIuc3RhdHVzID09PSA1MDMpIHtcbiAgICAgICAgaWYgKHRoaXMub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCduZXR3b3JrLW9mZmxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGltZW91dCh0aGlzLl9yZXF1ZXN0KG1ldGhvZCwgdXJsLCBvcHRpb25zKSwgMzIxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb25saW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh4aHIpO1xuICAgICAgfVxuICAgIH0sIGVycm9yID0+IHtcbiAgICAgIGlmICh0aGlzLm9ubGluZSkge1xuICAgICAgICB0aGlzLm9ubGluZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCduZXR3b3JrLW9mZmxpbmUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtZG9uZScsIHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyB0aGUgcmV2aXNpb24gb2YgYWxsIHRoZSBmaWxlcyBmcm9tIGRyb3Bib3ggQVBJIGFuZCBwdXRzIHRoZW1cbiAgICogaW50byBgYF9yZXZDYWNoZWBgLiBUaGVzZSB2YWx1ZXMgY2FuIHRoZW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgaWZcbiAgICogc29tZXRoaW5nIGhhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmV0Y2hEZWx0YSAoLi4uYXJncykge1xuICAgIC8vIElmIGZldGNoRGVsdGEgd2FzIGFscmVhZHkgY2FsbGVkLCBhbmQgZGlkbid0IGZpbmlzaCwgcmV0dXJuIHRoZSBleGlzdGluZ1xuICAgIC8vIHByb21pc2UgaW5zdGVhZCBvZiBjYWxsaW5nIERyb3Bib3ggQVBJIGFnYWluXG4gICAgaWYgKHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmV0Y2hEZWx0YVByb21pc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2ggPSAoY3Vyc29yKSA9PiB7XG4gICAgICBsZXQgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvbGlzdF9mb2xkZXInO1xuICAgICAgbGV0IHJlcXVlc3RCb2R5O1xuXG4gICAgICBpZiAodHlwZW9mIGN1cnNvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsICs9ICcvY29udGludWUnO1xuICAgICAgICByZXF1ZXN0Qm9keSA9IHsgY3Vyc29yIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgICBwYXRoOiBQQVRIX1BSRUZJWCxcbiAgICAgICAgICByZWN1cnNpdmU6IHRydWUsXG4gICAgICAgICAgaW5jbHVkZV9kZWxldGVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7IGJvZHk6IHJlcXVlc3RCb2R5IH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdGF0dXM6ICcgKyByZXNwb25zZS5zdGF0dXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXNwb25zZUJvZHk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNwb25zZUJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGJvZHk6ICcgKyByZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IocmVzcG9uc2VCb2R5LCBbJ3BhdGgnLCAnbm90X2ZvdW5kJ10pKSB7XG4gICAgICAgICAgICByZXNwb25zZUJvZHkgPSB7XG4gICAgICAgICAgICAgIGN1cnNvcjogbnVsbCxcbiAgICAgICAgICAgICAgZW50cmllczogW10sXG4gICAgICAgICAgICAgIGhhc19tb3JlOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIHJldHVybmVkIGFuIGVycm9yOiAnICsgcmVzcG9uc2VCb2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgIC8vd2UgYXJlIGRvaW5nIGEgY29tcGxldGUgZmV0Y2gsIHNvIHByb3BhZ2F0aW9uIHdvdWxkIGludHJvZHVjZSB1bm5lY2Vzc2FyeSBvdmVyaGVhZFxuICAgICAgICAgIHRoaXMuX3JldkNhY2hlLmRlYWN0aXZhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzcG9uc2VCb2R5LmVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgY29uc3QgcGF0aCA9IGVudHJ5LnBhdGhfbG93ZXIuc3Vic3RyKFBBVEhfUFJFRklYLmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAoZW50cnlbJy50YWcnXSA9PT0gJ2RlbGV0ZWQnKSB7XG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIHdheSB0byBrbm93IHdoZXRoZXIgdGhlIGVudHJ5IHdhcyBhIGZpbGUgb3IgYSBmb2xkZXJcbiAgICAgICAgICAgIHRoaXMuX3JldkNhY2hlLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX3JldkNhY2hlLmRlbGV0ZShwYXRoICsgJy8nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVudHJ5WycudGFnJ10gPT09ICdmaWxlJykge1xuICAgICAgICAgICAgdGhpcy5fcmV2Q2FjaGUuc2V0KHBhdGgsIGVudHJ5LnJldik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9mZXRjaERlbHRhQ3Vyc29yID0gcmVzcG9uc2VCb2R5LmN1cnNvcjtcbiAgICAgICAgaWYgKHJlc3BvbnNlQm9keS5oYXNfbW9yZSkge1xuICAgICAgICAgIHJldHVybiBmZXRjaChyZXNwb25zZUJvZHkuY3Vyc29yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9yZXZDYWNoZS5hY3RpdmF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdGhpcy5faW5pdGlhbEZldGNoRG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgaWYgKGVycm9yID09PSAndGltZW91dCcgfHwgZXJyb3IgaW5zdGFuY2VvZiBQcm9ncmVzc0V2ZW50KSB7XG4gICAgICAgICAgLy8gT2ZmbGluZSBpcyBoYW5kbGVkIGVsc2V3aGVyZSBhbHJlYWR5LCBqdXN0IGlnbm9yZSBpdCBoZXJlXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZSA9IGZldGNoKHRoaXMuX2ZldGNoRGVsdGFDdXJzb3IpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGlmICh0eXBlb2YoZXJyb3IpID09PSAnb2JqZWN0JyAmJiAnbWVzc2FnZScgaW4gZXJyb3IpIHtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICdEcm9wYm94OiBmZXRjaERlbHRhOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yID0gYERyb3Bib3g6IGZldGNoRGVsdGE6ICR7ZXJyb3J9YDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlID0gbnVsbDtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZSA9IG51bGw7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgbWV0YWRhdGEgZm9yIGEgcGF0aCAoY2FuIHBvaW50IHRvIGVpdGhlciBhIGZpbGUgb3IgYSBmb2xkZXIpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHRoZSBwYXRoIHRvIGdldCBtZXRhZGF0YSBmb3JcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgdGhlIG1ldGFkYXRhXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0TWV0YWRhdGEgKHBhdGgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9nZXRfbWV0YWRhdGEnO1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgcGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aClcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHsgYm9keTogcmVxdWVzdEJvZHkgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHN0YXR1czonICsgcmVzcG9uc2Uuc3RhdHVzKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCByZXNwb25zZUJvZHk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3BvbnNlQm9keSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBib2R5OiAnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKHJlc3BvbnNlQm9keSwgWydwYXRoJywgJ25vdF9mb3VuZCddKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSBlcnJvcjogJyArIHJlc3BvbnNlQm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2VCb2R5KTtcbiAgICB9KS50aGVuKHVuZGVmaW5lZCwgKGVycm9yKSA9PiB7XG4gICAgICBlcnJvci5tZXNzYWdlID0gJ0NvdWxkIG5vdCBsb2FkIG1ldGFkYXRhIGZvciBmaWxlIG9yIGZvbGRlciAoXCInICsgcGF0aCArICdcIik6ICcgKyBlcnJvci5tZXNzYWdlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWQgYSBzaW1wbGUgZmlsZSAodGhlIHNpemUgaXMgbm8gbW9yZSB0aGFuIDE1ME1CKS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk1hdGNoIC0gT25seSB1cGRhdGUgdGhlIGZpbGUgaWYgaXRzIEVUYWdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgdGhpcyBzdHJpbmdcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMucGF0aCAtIHBhdGggb2YgdGhlIGZpbGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYm9keSAtIGNvbnRlbnRzIG9mIHRoZSBmaWxlIHRvIHVwbG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5jb250ZW50VHlwZSAtIG1pbWUgdHlwZSBvZiB0aGUgZmlsZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuICAgKiAgICAgICAgIHN0YXR1c0NvZGUgLSBIVFRQIHN0YXR1cyBjb2RlXG4gICAqICAgICAgICAgcmV2aXNpb24gLSByZXZpc2lvbiBvZiB0aGUgbmV3bHktY3JlYXRlZCBmaWxlLCBpZiBhbnlcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGxvYWRTaW1wbGUgKHBhcmFtcykge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy91cGxvYWQnO1xuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICBwYXRoOiBnZXREcm9wYm94UGF0aChwYXJhbXMucGF0aCksXG4gICAgICBtb2RlOiB7ICcudGFnJzogJ292ZXJ3cml0ZScsIHVwZGF0ZTogdW5kZWZpbmVkIH0sXG4gICAgICBtdXRlOiB0cnVlXG4gICAgfTtcblxuICAgIGlmIChwYXJhbXMuaWZNYXRjaCkge1xuICAgICAgYXJncy5tb2RlID0geyAnLnRhZyc6ICd1cGRhdGUnLCB1cGRhdGU6IHBhcmFtcy5pZk1hdGNoIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHtcbiAgICAgIGJvZHk6IHBhcmFtcy5ib2R5LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBKU09OLnN0cmluZ2lmeShhcmdzKVxuICAgICAgfVxuICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c30pO1xuICAgICAgfVxuXG4gICAgICBsZXQgYm9keSA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgQVBJIHJlc3VsdDogJyArIGJvZHkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IoYm9keSwgWydwYXRoJywgJ2NvbmZsaWN0J10pKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldE1ldGFkYXRhKHBhcmFtcy5wYXRoKS50aGVuKGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxMixcbiAgICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgYm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JldkNhY2hlLnNldChwYXJhbXMucGF0aCwgYm9keS5yZXYpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCByZXZpc2lvbjogYm9keS5yZXYgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIGZpbGUgb3IgYSBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gdGhlIHBhdGggdG8gZGVsZXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxuICAgKiAgICAgICAgICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RlbGV0ZVNpbXBsZSAocGF0aCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2RlbGV0ZSc7XG4gICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7IHBhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgeyBib2R5OiByZXF1ZXN0Qm9keSB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c30pO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVzcG9uc2VCb2R5ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZUJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlQm9keSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgYm9keTogJyArIHJlc3BvbnNlQm9keSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihyZXNwb25zZUJvZHksIFsncGF0aF9sb29rdXAnLCAnbm90X2ZvdW5kJ10pKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDA0fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgcmVzcG9uc2VCb2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwfSk7XG4gICAgfSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlID09PSAyMDAgfHwgcmVzdWx0LnN0YXR1c0NvZGUgPT09IDQwNCkge1xuICAgICAgICB0aGlzLl9yZXZDYWNoZS5kZWxldGUocGF0aCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9pdGVtUmVmc1twYXRoXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSAnQ291bGQgbm90IGRlbGV0ZSBEcm9wYm94IGZpbGUgb3IgZm9sZGVyIChcIicgKyBwYXRoICsgJ1wiKTogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHRoZSBsaW5rIGZvciBhbiBhbHJlYWR5LXNoYXJlZCBmaWxlIG9yIGZvbGRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBwYXRoIHRvIHRoZSBmaWxlIG9yIGZvbGRlclxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciB0aGUgc2hhcmVkIGxpbmtcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF9nZXRTaGFyZWRMaW5rIChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94LmNvbS8yL3NoYXJpbmcvbGlzdF9zaGFyZWRfbGlua3MnO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBib2R5OiB7XG4gICAgICAgIHBhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpLFxuICAgICAgICBkaXJlY3Rfb25seTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHN0YXR1czogJyArIHJlc3BvbnNlLnN0YXR1cykpO1xuICAgICAgfVxuXG4gICAgICBsZXQgYm9keTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBib2R5OiAnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3I6ICcgKyByZXNwb25zZS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYm9keS5saW5rcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTm8gbGlua3MgcmV0dXJuZWQnKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYm9keS5saW5rc1swXS51cmwpO1xuICAgIH0sIGVycm9yID0+IHtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSAnQ291bGQgbm90IGdldCBsaW5rIHRvIGEgc2hhcmVkIGZpbGUgb3IgZm9sZGVyIChcIicgKyBwYXRoICsgJ1wiKTogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIERyb3Bib3ggYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfaW5pdCAocnMpOiB2b2lkIHtcbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcbiAgICBpZiAoIHJzLmFwaUtleXMuZHJvcGJveCApIHtcbiAgICAgIHJzLmRyb3Bib3ggPSBuZXcgRHJvcGJveChycyk7XG4gICAgfVxuICAgIGlmIChycy5iYWNrZW5kID09PSAnZHJvcGJveCcpIHtcbiAgICAgIGhvb2tJdChycyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBEcm9wYm94IGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgRHJvcGJveCBhcyBhIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX2NsZWFudXAgKHJzKTogdm9pZCB7XG4gICAgdW5Ib29rSXQocnMpO1xuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2Upe1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU0VUVElOR1NfS0VZKTtcbiAgICB9XG4gICAgcnMuc2V0QmFja2VuZCh1bmRlZmluZWQpO1xuICB9XG59XG5cbi8qKlxuICogSG9va2luZyB0aGUgc3luY1xuICpcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIGhvb2tTeW5jKHJzLCAuLi5hcmdzKSB7XG4gIGlmIChycy5fZHJvcGJveE9yaWdTeW5jKSB7IHJldHVybjsgfSAvLyBhbHJlYWR5IGhvb2tlZFxuICBycy5fZHJvcGJveE9yaWdTeW5jID0gcnMuc3luYy5zeW5jLmJpbmQocnMuc3luYyk7XG4gIHJzLnN5bmMuc3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kcm9wYm94LmZldGNoRGVsdGEocnMsIC4uLmFyZ3MpLlxuICAgICAgdGhlbihycy5fZHJvcGJveE9yaWdTeW5jLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJzLl9lbWl0KCdlcnJvcicsIG5ldyBTeW5jRXJyb3IoZXJyKSk7XG4gICAgICAgIHJzLl9lbWl0KCdzeW5jLWRvbmUnKTtcbiAgICAgIH0pO1xuICB9LmJpbmQocnMpO1xufVxuXG4vKipcbiAqIFVuaG9va2luZyB0aGUgc3luY1xuICpcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIHVuSG9va1N5bmMocnMpIHtcbiAgaWYgKCEgcnMuX2Ryb3Bib3hPcmlnU3luYykgeyByZXR1cm47IH0gLy8gbm90IGhvb2tlZFxuICBycy5zeW5jLnN5bmMgPSBycy5fZHJvcGJveE9yaWdTeW5jO1xuICBkZWxldGUgcnMuX2Ryb3Bib3hPcmlnU3luYztcbn1cblxuLyoqXG4gKiBIb29rIFJlbW90ZVN0b3JhZ2Uuc3luY0N5Y2xlIGFzIGl0J3MgdGhlIGZpcnN0IGZ1bmN0aW9uIGNhbGxlZFxuICogYWZ0ZXIgUmVtb3RlU3RvcmFnZS5zeW5jIGlzIGluaXRpYWxpemVkLCBzbyB3ZSBjYW4gdGhlbiBob29rXG4gKiB0aGUgc3luYyBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IHJzIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gaG9va1N5bmNDeWNsZShycywgLi4uYXJncykge1xuICBpZiAocnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlKSB7IHJldHVybjsgfSAvLyBhbHJlYWR5IGhvb2tlZFxuICBycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGUgPSBycy5zeW5jQ3ljbGU7XG4gIHJzLnN5bmNDeWNsZSA9ICgpID0+IHtcbiAgICBpZiAocnMuc3luYykge1xuICAgICAgaG9va1N5bmMocnMpO1xuICAgICAgcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlKHJzLCAuLi5hcmdzKTtcbiAgICAgIHVuSG9va1N5bmNDeWNsZShycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgc3luYyB0byBiZSBpbml0aWFsaXplZCBieSBub3cnKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogUmVzdG9yZSBSZW1vdGVTdG9yYWdlJ3Mgc3luY0N5Y2xlIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiB1bkhvb2tTeW5jQ3ljbGUocnMpIHtcbiAgaWYgKCFycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGUpIHsgcmV0dXJuOyB9IC8vIG5vdCBob29rZWRcbiAgcnMuc3luY0N5Y2xlID0gcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlO1xuICBkZWxldGUgcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlO1xufVxuXG4vKipcbiAqIE92ZXJ3cml0ZSBCYXNlQ2xpZW50J3MgZ2V0SXRlbVVSTCB3aXRoIG91ciBvd24gaW1wbGVtZW50YXRpb25cbiAqXG4gKiBUT0RPOiBnZXRJdGVtVVJMIHN0aWxsIG5lZWRzIHRvIGJlIGltcGxlbWVudGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhvb2tHZXRJdGVtVVJMIChycykge1xuICBpZiAocnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCkgeyByZXR1cm47IH1cbiAgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCA9IEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkw7XG4gIEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkwgPSBmdW5jdGlvbiAoLypwYXRoKi8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEl0ZW1VUkwgaXMgbm90IGltcGxlbWVudGVkIGZvciBEcm9wYm94IHlldCcpO1xuICB9O1xufVxuXG4vKipcbiAqIFJlc3RvcmUgQmFzZUNsaWVudCdzIGdldEl0ZW1VUkwgb3JpZ2luYWwgaW1wbGVtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdW5Ib29rR2V0SXRlbVVSTChycyl7XG4gIGlmICghIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gIEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkwgPSBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMO1xuICBkZWxldGUgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTDtcbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiBob29rUmVtb3RlKHJzKXtcbiAgaWYgKHJzLl9vcmlnUmVtb3RlKSB7IHJldHVybjsgfVxuICBycy5fb3JpZ1JlbW90ZSA9IHJzLnJlbW90ZTtcbiAgcnMucmVtb3RlID0gcnMuZHJvcGJveDtcbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiB1bkhvb2tSZW1vdGUocnMpe1xuICBpZiAocnMuX29yaWdSZW1vdGUpIHtcbiAgICBycy5yZW1vdGUgPSBycy5fb3JpZ1JlbW90ZTtcbiAgICBkZWxldGUgcnMuX29yaWdSZW1vdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiBob29rSXQocnMpe1xuICBob29rUmVtb3RlKHJzKTtcbiAgaWYgKHJzLnN5bmMpIHtcbiAgICBob29rU3luYyhycyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gd2hlbiBzeW5jIGlzIG5vdCBhdmFpbGFibGUgeWV0LCB3ZSBob29rIHRoZSBzeW5jQ3ljbGUgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkXG4gICAgLy8gcmlnaHQgYWZ0ZXIgc3luYyBpcyBpbml0aWFsaXplZFxuICAgIGhvb2tTeW5jQ3ljbGUocnMpO1xuICB9XG4gIGhvb2tHZXRJdGVtVVJMKHJzKTtcbn1cblxuLyoqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiB1bkhvb2tJdChycyl7XG4gIHVuSG9va1JlbW90ZShycyk7XG4gIHVuSG9va1N5bmMocnMpO1xuICB1bkhvb2tHZXRJdGVtVVJMKHJzKTtcbiAgdW5Ib29rU3luY0N5Y2xlKHJzKTtcbn1cblxuaW50ZXJmYWNlIERyb3Bib3ggZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoRHJvcGJveCwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgRHJvcGJveDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFdlYkZpbmdlciBmcm9tICd3ZWJmaW5nZXIuanMnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQgeyBnbG9iYWxDb250ZXh0LCBsb2NhbFN0b3JhZ2VBdmFpbGFibGUgfSBmcm9tICcuL3V0aWwnO1xuXG4vLyBmZWF0dXJlIGRldGVjdGlvbiBmbGFnc1xubGV0IGhhdmVYTUxIdHRwUmVxdWVzdCwgaGFzTG9jYWxTdG9yYWdlO1xuXG4vLyB1c2VkIHRvIHN0b3JlIHNldHRpbmdzIGluIGxvY2FsU3RvcmFnZVxuY29uc3QgU0VUVElOR1NfS0VZID0gJ3JlbW90ZXN0b3JhZ2U6ZGlzY292ZXInO1xuXG4vLyBjYWNoZSBsb2FkZWQgZnJvbSBsb2NhbFN0b3JhZ2Vcbi8vIFRPRE8gdXNlIGNsYXNzIHByb3BlcnR5XG5sZXQgY2FjaGVkSW5mbyA9IHt9O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gZGVhbHMgd2l0aCB0aGUgV2ViZmluZ2VyIGxvb2t1cCwgZGlzY292ZXJpbmcgYSBjb25uZWN0aW5nXG4gKiB1c2VyJ3Mgc3RvcmFnZSBkZXRhaWxzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWRkcmVzcyAtIHVzZXJAaG9zdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAqICAgICAgICAgIGhyZWYgLSBTdG9yYWdlIGJhc2UgVVJMLFxuICogICAgICAgICAgc3RvcmFnZUFwaSAtIFJTIHByb3RvY29sIHZlcnNpb24sXG4gKiAgICAgICAgICBhdXRoVXJsIC0gT0F1dGggVVJMLFxuICogICAgICAgICAgcHJvcGVydGllcyAtIFdlYmZpbmdlciBsaW5rIHByb3BlcnRpZXNcbiAqKi9cblxuY29uc3QgRGlzY292ZXIgPSBmdW5jdGlvbiBEaXNjb3Zlcih1c2VyQWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxTdG9yYWdlSW5mbz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgaWYgKHVzZXJBZGRyZXNzIGluIGNhY2hlZEluZm8pIHtcbiAgICAgIHJldHVybiByZXNvbHZlKGNhY2hlZEluZm9bdXNlckFkZHJlc3NdKTtcbiAgICB9XG5cbiAgICBjb25zdCB3ZWJGaW5nZXIgPSBuZXcgV2ViRmluZ2VyKHtcbiAgICAgIHRsc19vbmx5OiBmYWxzZSxcbiAgICAgIHVyaV9mYWxsYmFjazogdHJ1ZSxcbiAgICAgIHJlcXVlc3RfdGltZW91dDogNTAwMFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHdlYkZpbmdlci5sb29rdXAodXNlckFkZHJlc3MsIGZ1bmN0aW9uIChlcnIsIHJlc3BvbnNlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSBpZiAoKHR5cGVvZiByZXNwb25zZS5pZHgubGlua3MucmVtb3Rlc3RvcmFnZSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICh0eXBlb2YgcmVzcG9uc2UuaWR4LmxpbmtzLnJlbW90ZXN0b3JhZ2UubGVuZ3RoICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgICAgICAgKHJlc3BvbnNlLmlkeC5saW5rcy5yZW1vdGVzdG9yYWdlLmxlbmd0aCA8PSAwKSkge1xuICAgICAgICBsb2coXCJbRGlzY292ZXJdIFdlYkZpbmdlciByZWNvcmQgZm9yIFwiICsgdXNlckFkZHJlc3MgKyBcIiBkb2VzIG5vdCBoYXZlIHJlbW90ZXN0b3JhZ2UgZGVmaW5lZCBpbiB0aGUgbGlua3Mgc2VjdGlvbiBcIiwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuanNvbikpO1xuICAgICAgICByZXR1cm4gcmVqZWN0KFwiV2ViRmluZ2VyIHJlY29yZCBmb3IgXCIgKyB1c2VyQWRkcmVzcyArIFwiIGRvZXMgbm90IGhhdmUgcmVtb3Rlc3RvcmFnZSBkZWZpbmVkIGluIHRoZSBsaW5rcyBzZWN0aW9uLlwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcnMgPSByZXNwb25zZS5pZHgubGlua3MucmVtb3Rlc3RvcmFnZVswXTtcbiAgICAgIGNvbnN0IGF1dGhVUkwgPSBycy5wcm9wZXJ0aWVzWydodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NzQ5I3NlY3Rpb24tNC4yJ10gfHxcbiAgICAgICAgICAgICAgICAgICAgcnMucHJvcGVydGllc1snYXV0aC1lbmRwb2ludCddO1xuICAgICAgY29uc3Qgc3RvcmFnZUFwaSA9IHJzLnByb3BlcnRpZXNbJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvdmVyc2lvbiddIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIHJzLnR5cGU7XG5cbiAgICAgIC8vIGNhY2hlIGZldGNoZWQgZGF0YVxuICAgICAgY2FjaGVkSW5mb1t1c2VyQWRkcmVzc10gPSB7XG4gICAgICAgIGhyZWY6IHJzLmhyZWYsXG4gICAgICAgIHN0b3JhZ2VBcGk6IHN0b3JhZ2VBcGksXG4gICAgICAgIGF1dGhVUkw6IGF1dGhVUkwsXG4gICAgICAgIHByb3BlcnRpZXM6IHJzLnByb3BlcnRpZXNcbiAgICAgIH07XG5cbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlW1NFVFRJTkdTX0tFWV0gPSBKU09OLnN0cmluZ2lmeSh7IGNhY2hlOiBjYWNoZWRJbmZvIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzb2x2ZShjYWNoZWRJbmZvW3VzZXJBZGRyZXNzXSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuRGlzY292ZXIuRGlzY292ZXJ5RXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHRoaXMubmFtZSA9ICdEaXNjb3ZlcnlFcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xufTtcbkRpc2NvdmVyLkRpc2NvdmVyeUVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbkRpc2NvdmVyLkRpc2NvdmVyeUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERpc2NvdmVyLkRpc2NvdmVyeUVycm9yO1xuXG5EaXNjb3Zlci5fcnNfaW5pdCA9IGZ1bmN0aW9uICgvKnJlbW90ZVN0b3JhZ2UqLyk6IHZvaWQge1xuICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW1NFVFRJTkdTX0tFWV0pO1xuICAgICAgY2FjaGVkSW5mbyA9IHNldHRpbmdzLmNhY2hlO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgLyogZW1wdHkgKi9cbiAgICB9XG4gIH1cbn07XG5cbkRpc2NvdmVyLl9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XG4gIGhhdmVYTUxIdHRwUmVxdWVzdCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChnbG9iYWxDb250ZXh0LCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgcmV0dXJuIGhhdmVYTUxIdHRwUmVxdWVzdDtcbn07XG5cbkRpc2NvdmVyLl9yc19jbGVhbnVwID0gZnVuY3Rpb24gKCk6IHZvaWQge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldO1xuICB9XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IERpc2NvdmVyO1xuIiwiaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCB7IGFwcGx5TWl4aW5zIH0gZnJvbSAnLi91dGlsJztcblxuY2xhc3MgRW52IHtcbiAgaGlkZGVuUHJvcGVydHk6IFwiaGlkZGVuXCIgfCBcIm1vekhpZGRlblwiIHwgXCJtc0hpZGRlblwiIHwgXCJ3ZWJraXRIaWRkZW5cIjtcbiAgdmlzaWJpbGl0eUNoYW5nZUV2ZW50OiBcInZpc2liaWxpdHljaGFuZ2VcIiB8IFwibW96dmlzaWJpbGl0eWNoYW5nZVwiIHwgXCJtc3Zpc2liaWxpdHljaGFuZ2VcIiB8IFwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiO1xuICBtb2RlOiBcImJyb3dzZXJcIiB8IFwibm9kZVwiO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYWRkRXZlbnRzKFtcImJhY2tncm91bmRcIiwgXCJmb3JlZ3JvdW5kXCJdKTtcblxuICAgIHRoaXMubW9kZSA9IHR5cGVvZih3aW5kb3cpICE9PSAndW5kZWZpbmVkJyA/ICdicm93c2VyJyA6ICdub2RlJztcblxuICAgIGlmICh0aGlzLm1vZGUgPT09ICdicm93c2VyJykge1xuICAgICAgdGhpcy5zZXRCcm93c2VyUHJlZml4ZWROYW1lcygpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCwgdGhpcy5zZXRWaXNpYmlsaXR5LmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgIHRoaXMuc2V0VmlzaWJpbGl0eSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEJyb3dzZXJQcmVmaXhlZE5hbWVzICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tb2RlICE9PSAnYnJvd3NlcicpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50LmhpZGRlbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oaWRkZW5Qcm9wZXJ0eSA9IFwiaGlkZGVuXCI7XG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50W1wibW96SGlkZGVuXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmhpZGRlblByb3BlcnR5ID0gXCJtb3pIaWRkZW5cIjtcbiAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJtb3p2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnRbXCJtc0hpZGRlblwiXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oaWRkZW5Qcm9wZXJ0eSA9IFwibXNIaWRkZW5cIjtcbiAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJtc3Zpc2liaWxpdHljaGFuZ2VcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudFtcIndlYmtpdEhpZGRlblwiXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oaWRkZW5Qcm9wZXJ0eSA9IFwid2Via2l0SGlkZGVuXCI7XG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IFwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiO1xuICAgIH1cbiAgfVxuXG4gIHNldFZpc2liaWxpdHkgKCk6IHZvaWQge1xuICAgIGlmIChkb2N1bWVudFt0aGlzLmhpZGRlblByb3BlcnR5XSkge1xuICAgICAgdGhpcy5nb0JhY2tncm91bmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nb0ZvcmVncm91bmQoKTtcbiAgICB9XG4gIH1cblxuICBpc0Jyb3dzZXIgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1vZGUgPT09IFwiYnJvd3NlclwiO1xuICB9XG5cbiAgaXNOb2RlICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlID09PSBcIm5vZGVcIjtcbiAgfVxuXG4gIGdvQmFja2dyb3VuZCAoKTogdm9pZCB7XG4gICAgdGhpcy5fZW1pdChcImJhY2tncm91bmRcIik7XG4gIH1cblxuICBnb0ZvcmVncm91bmQgKCk6IHZvaWQge1xuICAgIHRoaXMuX2VtaXQoXCJmb3JlZ3JvdW5kXCIpO1xuICB9XG5cbiAgc3RhdGljIF9yc19pbml0ICgvKiByZW1vdGVTdG9yYWdlICovKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3RhdGljIF9yc19jbGVhbnVwICgvKiByZW1vdGVTdG9yYWdlICovKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG59O1xuXG5pbnRlcmZhY2UgRW52IGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEVudiwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgRW52O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGdldEdsb2JhbENvbnRleHQsXG4gIGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlLFxuICBleHRlbmQsXG4gIGxvY2FsU3RvcmFnZUF2YWlsYWJsZVxufSBmcm9tICcuL3V0aWwnO1xuXG5pbXBvcnQgQWNjZXNzIGZyb20gJy4vYWNjZXNzJztcbmltcG9ydCBBdXRob3JpemUgZnJvbSAnLi9hdXRob3JpemUnO1xuaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBDYWNoaW5nIGZyb20gJy4vY2FjaGluZyc7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IEdvb2dsZURyaXZlIGZyb20gJy4vZ29vZ2xlZHJpdmUnO1xuaW1wb3J0IERyb3Bib3ggZnJvbSAnLi9kcm9wYm94JztcbmltcG9ydCBEaXNjb3ZlciBmcm9tICcuL2Rpc2NvdmVyJztcbmltcG9ydCBTeW5jRXJyb3IgZnJvbSAnLi9zeW5jLWVycm9yJztcbmltcG9ydCBVbmF1dGhvcml6ZWRFcnJvciBmcm9tICcuL3VuYXV0aG9yaXplZC1lcnJvcic7XG5pbXBvcnQgRmVhdHVyZXMgZnJvbSAnLi9mZWF0dXJlcyc7XG5cbi8vIFRPRE8gdGhpcyBpcyBhc3NpZ25lZCB0byBSZW1vdGVTdG9yYWdlLnV0aWwgbGF0ZXI7IGNoZWNrIGlmIHN0aWxsIG5lZWRlZFxuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwnO1xuXG5pbnRlcmZhY2UgUlNNb2R1bGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIGJ1aWxkZXI6IEZ1bmN0aW9uOyAvLyBUT0RPIGRldGFpbGVkIHR5cGVcbn1cblxuY29uc3QgZ2xvYmFsQ29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcbi8vIGRlY2xhcmUgZ2xvYmFsIHtcbi8vICAgaW50ZXJmYWNlIFdpbmRvdyB7IGNvcmRvdmE6IGFueSB9O1xuLy8gfVxuXG5sZXQgaGFzTG9jYWxTdG9yYWdlOiBib29sZWFuO1xuXG4vLyBUT0RPIGRvY3VtZW50IGFuZC9vciByZWZhY3RvciAoc2VlbXMgd2VpcmQpXG5mdW5jdGlvbiBlbWl0VW5hdXRob3JpemVkKHIpIHtcbiAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gNDAzICB8fCByLnN0YXR1c0NvZGUgPT09IDQwMSkge1xuICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IFVuYXV0aG9yaXplZEVycm9yKCkpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocik7XG59XG5cbi8qKlxuKiBDaGVjayBpZiBpbnRlcnZhbCBpcyB2YWxpZDogbnVtZXJpYyBhbmQgYmV0d2VlbiAxMDAwbXMgYW5kIDM2MDAwMDBtc1xuKi9cbmZ1bmN0aW9uIGlzVmFsaWRJbnRlcnZhbChpbnRlcnZhbDogdW5rbm93bik6IGludGVydmFsIGlzIG51bWJlciB7XG4gIHJldHVybiAodHlwZW9mIGludGVydmFsID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIGludGVydmFsID4gMTAwMCAmJlxuICAgICAgICAgIGludGVydmFsIDwgMzYwMDAwMCk7XG59XG5cbi8qKlxuICogQ29uc3RydWN0b3IgZm9yIHRoZSByZW1vdGVTdG9yYWdlIG9iamVjdC9pbnN0YW5jZVxuICpcbiAqIFRoaXMgY2xhc3MgcHJpbWFyaWx5IGNvbnRhaW5zIGZlYXR1cmUgZGV0ZWN0aW9uIGNvZGUgYW5kIGNvbnZlbmllbmNlIEFQSS5cbiAqXG4gKiBEZXBlbmRpbmcgb24gd2hpY2ggZmVhdHVyZXMgYXJlIGJ1aWx0IGluLCBpdCBjb250YWlucyBkaWZmZXJlbnQgYXR0cmlidXRlc1xuICogYW5kIGZ1bmN0aW9ucy4gU2VlIHRoZSBpbmRpdmlkdWFsIGZlYXR1cmVzIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBhbiBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICogQGNsYXNzXG4gKi9cbmNsYXNzIFJlbW90ZVN0b3JhZ2Uge1xuICAvKipcbiAgICogUGVuZGluZyBnZXQvcHV0L2RlbGV0ZSBjYWxsc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BlbmRpbmc6IHtba2V5OiBzdHJpbmddOiBhbnl9W10gPSBbXTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIF9jbGVhbnVwczogW10gPSBbXTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIF9wYXRoSGFuZGxlcnM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7IGNoYW5nZToge30gfTtcblxuICAvKipcbiAgICogSG9sZHMgT0F1dGggYXBwIGtleXMgZm9yIERyb3Bib3gsIEdvb2dsZSBEcml2ZVxuICAgKi9cbiAgYXBpS2V5czogb2JqZWN0ID0ge307XG5cbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBmZWF0dXJlIGNsYXNzIGluc3RhbmNlLCBhZGRlZCBieSBmZWF0dXJlIGluaXRpYWxpemF0aW9uXG4gICAqIFRPRE8gdXNlIHR5cGUgQWNjZXNzXG4gICAqL1xuICBhY2Nlc3M6IGFueTtcbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBmZWF0dXJlIGNsYXNzIGluc3RhbmNlLCBhZGRlZCBieSBmZWF0dXJlIGluaXRpYWxpemF0aW9uXG4gICAqIFRPRE8gdXNlIHR5cGUgU3luY1xuICAgKi9cbiAgc3luYzogYW55O1xuICAvKipcbiAgICogSG9sZHMgdGhlIGZlYXR1cmUgY2xhc3MgaW5zdGFuY2UsIGFkZGVkIGJ5IGZlYXR1cmUgaW5pdGlhbGl6YXRpb25cbiAgICovXG4gIGNhY2hpbmc6IENhY2hpbmc7XG5cbiAgLy8gVE9ETyB1c2UgY29ycmVjdCB0eXBlcywgZG9jdW1lbnRcbiAgX3N5bmNUaW1lcjogYW55O1xuICBzeW5jU3RvcHBlZDogYW55O1xuICBnZXQ6IGFueTtcbiAgcHV0OiBhbnk7XG4gIGRlbGV0ZTogYW55O1xuXG4gIGJhY2tlbmQ6ICdyZW1vdGVzdG9yYWdlJyB8ICdkcm9wYm94JyB8ICdnb29nbGVkcml2ZSc7XG5cbiAgLyoqXG4gICAqIEhvbGRzIGEgV2lyZUNsaWVudCBpbnN0YW5jZSwgYWRkZWQgYnkgZmVhdHVyZSBpbml0aWFsaXphdGlvblxuICAgKiBUT0RPIHVzZSBjb3JyZWN0IHR5cGVcbiAgICovXG4gIHJlbW90ZTogYW55O1xuXG4gIGRyb3Bib3g6IERyb3Bib3g7XG4gIGdvb2dsZWRyaXZlOiBHb29nbGVEcml2ZTtcblxuICBmaXJlSW5pdGlhbDogRnVuY3Rpb247XG5cbiAgY29uc3RydWN0b3IgKGNmZz86IG9iamVjdCkge1xuICAgIC8vIEluaXRpYWwgY29uZmlndXJhdGlvbiBwcm9wZXJ0eSBzZXR0aW5ncy5cbiAgICAvLyBUT0RPIHVzZSBtb2Rlcm4gSlMgdG8gbWVyZ2Ugb2JqZWN0IHByb3BlcnRpZXNcbiAgICBpZiAodHlwZW9mIGNmZyA9PT0gJ29iamVjdCcpIHsgZXh0ZW5kKGNvbmZpZywgY2ZnKTsgfVxuXG4gICAgdGhpcy5hZGRFdmVudHMoW1xuICAgICAgJ3JlYWR5JywgJ2F1dGhpbmcnLCAnY29ubmVjdGluZycsICdjb25uZWN0ZWQnLCAnZGlzY29ubmVjdGVkJyxcbiAgICAgICdub3QtY29ubmVjdGVkJywgJ2NvbmZsaWN0JywgJ2Vycm9yJywgJ2ZlYXR1cmVzLWxvYWRlZCcsXG4gICAgICAnc3luYy1pbnRlcnZhbC1jaGFuZ2UnLCAnc3luYy1yZXEtZG9uZScsICdzeW5jLWRvbmUnLFxuICAgICAgJ3dpcmUtYnVzeScsICd3aXJlLWRvbmUnLCAnbmV0d29yay1vZmZsaW5lJywgJ25ldHdvcmstb25saW5lJ1xuICAgIF0pO1xuXG4gICAgdGhpcy5fc2V0R1BEKHtcbiAgICAgIGdldDogdGhpcy5fcGVuZGluZ0dQRCgnZ2V0JyksXG4gICAgICBwdXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ3B1dCcpLFxuICAgICAgZGVsZXRlOiB0aGlzLl9wZW5kaW5nR1BEKCdkZWxldGUnKVxuICAgIH0pO1xuXG4gICAgaGFzTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG5cbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICB0aGlzLmFwaUtleXMgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSgncmVtb3Rlc3RvcmFnZTphcGkta2V5cycpIHx8IHt9O1xuICAgICAgdGhpcy5zZXRCYWNrZW5kKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnKSB8fCAncmVtb3Rlc3RvcmFnZScpO1xuICAgIH1cblxuICAgIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9yZ2luYWwgYG9uYCBmdW5jdGlvblxuICAgIGNvbnN0IG9yaWdPbiA9IHRoaXMub247XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhbiBldmVudCBoYW5kbGVyLiBTZWUgOnJlZjpgcnMtZXZlbnRzYCBmb3IgYXZhaWxhYmxlIGV2ZW50IG5hbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5hbWUgb2YgdGhlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIEV2ZW50IGhhbmRsZXJcbiAgICAgKi9cbiAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgICAgaWYgKHRoaXMuX2FsbExvYWRlZCkge1xuICAgICAgICAvLyBjaGVjayBpZiB0aGUgaGFuZGxlciBzaG91bGQgYmUgY2FsbGVkIGltbWVkaWF0ZWx5LCBiZWNhdXNlIHRoZVxuICAgICAgICAvLyBldmVudCBoYXMgaGFwcGVuZWQgYWxyZWFkeVxuICAgICAgICBzd2l0Y2goZXZlbnROYW1lKSB7XG4gICAgICAgICAgY2FzZSAnZmVhdHVyZXMtbG9hZGVkJzpcbiAgICAgICAgICAgIHNldFRpbWVvdXQoaGFuZGxlciwgMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyZWFkeSc6XG4gICAgICAgICAgICBpZiAodGhpcy5yZW1vdGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChoYW5kbGVyLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICBpZiAodGhpcy5yZW1vdGUgJiYgdGhpcy5yZW1vdGUuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoaGFuZGxlciwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdub3QtY29ubmVjdGVkJzpcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbW90ZSAmJiAhdGhpcy5yZW1vdGUuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoaGFuZGxlciwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3JpZ09uLmNhbGwodGhpcywgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgLy8gbG9hZCBhbGwgZmVhdHVyZXMgYW5kIGVtaXQgYHJlYWR5YFxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIC8qKlxuICAgICAqIFRPRE86IGRvY3VtZW50XG4gICAgICovXG4gICAgdGhpcy5maXJlSW5pdGlhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmxvY2FsKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5sb2NhbC5maXJlSW5pdGlhbC5iaW5kKHRoaXMubG9jYWwpLCAwKTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLm9uKCdyZWFkeScsIHRoaXMuZmlyZUluaXRpYWwuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5sb2FkTW9kdWxlcygpO1xuICB9XG5cbiAgLy8gRklYTUU6IEluc3RlYWQgb2YgZG9pbmcgdGhpcywgd291bGQgYmUgYmV0dGVyIHRvIG9ubHlcbiAgLy8gZXhwb3J0IHNldEF1dGhVUkwgLyBnZXRBdXRoVVJMIGZyb20gUmVtb3RlU3RvcmFnZSBwcm90b3R5cGVcbiAgc3RhdGljIEF1dGhvcml6ZSA9IEF1dGhvcml6ZTtcblxuICBzdGF0aWMgU3luY0Vycm9yID0gU3luY0Vycm9yO1xuICBzdGF0aWMgVW5hdXRob3JpemVkID0gVW5hdXRob3JpemVkRXJyb3I7XG4gIHN0YXRpYyBEaXNjb3ZlcnlFcnJvciA9IERpc2NvdmVyLkRpc2NvdmVyeUVycm9yO1xuICBzdGF0aWMgdXRpbCA9IHV0aWw7XG5cbiAgLyoqXG4gICAqIExvYWQgYWxsIG1vZHVsZXMgcGFzc2VkIGFzIGFyZ3VtZW50c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9hZE1vZHVsZXMoKTogdm9pZCB7XG4gICAgY29uZmlnLm1vZHVsZXMuZm9yRWFjaCh0aGlzLmFkZE1vZHVsZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWF0ZSB0aGUgT0F1dGggYXV0aG9yaXphdGlvbiBmbG93LlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSBjdXN0b20gc3RvcmFnZSBiYWNrZW5kIGltcGxlbWVudGF0aW9uc1xuICAgKiAoZS5nLiBEcm9wYm94IG9yIEdvb2dsZSBEcml2ZSkuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmF1dGhVUkwgLSBVUkwgb2YgdGhlIGF1dGhvcml6YXRpb24gZW5kcG9pbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNjb3BlXSAtIGFjY2VzcyBzY29wZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY2xpZW50SWRdIC0gY2xpZW50IGlkZW50aWZpZXIgKGRlZmF1bHRzIHRvIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luIG9mIHRoZSByZWRpcmVjdFVyaSlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGF1dGhvcml6ZSAob3B0aW9uczogeyBhdXRoVVJMOiBzdHJpbmc7IHNjb3BlPzogc3RyaW5nOyBjbGllbnRJZD86IHN0cmluZzsgcmVkaXJlY3RVcmk/OiBzdHJpbmcgfSk6IHZvaWQge1xuICAgIHRoaXMuYWNjZXNzLnNldFN0b3JhZ2VUeXBlKHRoaXMucmVtb3RlLnN0b3JhZ2VBcGkpO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zY29wZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMuc2NvcGUgPSB0aGlzLmFjY2Vzcy5zY29wZVBhcmFtZXRlcjtcbiAgICB9XG5cbiAgICBvcHRpb25zLnJlZGlyZWN0VXJpID0gZ2xvYmFsQ29udGV4dC5jb3Jkb3ZhID8gY29uZmlnLmNvcmRvdmFSZWRpcmVjdFVyaSA6IFN0cmluZyhBdXRob3JpemUuZ2V0TG9jYXRpb24oKSk7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2xpZW50SWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zLmNsaWVudElkID0gb3B0aW9ucy5yZWRpcmVjdFVyaS5tYXRjaCgvXihodHRwcz86XFwvXFwvW14vXSspLylbMF07XG4gICAgfVxuXG4gICAgQXV0aG9yaXplLmF1dGhvcml6ZSh0aGlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW1wbGllZGF1dGggKHN0b3JhZ2VBcGk/OiBzdHJpbmcsIHJlZGlyZWN0VXJpPzogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8gVE9ETyBzaG91bGRuJ3QgdGhlc2UgYmUgZGVmYXVsdCBhcmd1bWVudCB2YWx1ZXM/XG4gICAgc3RvcmFnZUFwaSA9IHN0b3JhZ2VBcGkgfHwgdGhpcy5yZW1vdGUuc3RvcmFnZUFwaTtcbiAgICByZWRpcmVjdFVyaSA9IHJlZGlyZWN0VXJpIHx8IFN0cmluZyhkb2N1bWVudC5sb2NhdGlvbik7XG5cbiAgICBsb2coJ0ltcGxpZWRBdXRoIHByb2NlZWRpbmcgZHVlIHRvIGFic2VudCBhdXRoVVJMOyBzdG9yYWdlQXBpID0gJyArIHN0b3JhZ2VBcGkgKyAnIHJlZGlyZWN0VXJpID0gJyArIHJlZGlyZWN0VXJpKTtcbiAgICAvLyBTZXQgYSBmaXhlZCBhY2Nlc3MgdG9rZW4sIHNpZ25hbGxpbmcgdG8gbm90IHNlbmQgaXQgYXMgQmVhcmVyXG4gICAgdGhpcy5yZW1vdGUuY29uZmlndXJlKHtcbiAgICAgIHRva2VuOiBBdXRob3JpemUuSU1QTElFRF9GQUtFX1RPS0VOXG4gICAgfSk7XG4gICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0VXJpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSByZW1vdGVcbiAgICpcbiAgICogRGVwZW5kaW5nIG9uIHRoZSBjaG9zZW4gYmFja2VuZCwgdGhpcyBpcyBlaXRoZXIgYW4gaW5zdGFuY2Ugb2YgYGBXaXJlQ2xpZW50YGAsXG4gICAqIGBgRHJvcGJveGBgIG9yIGBgR29vZ2xlRHJpdmVgYC5cbiAgICpcbiAgICogQHByb3BlcnR5IHtib29sZWFufSByZW1vdGUuY29ubmVjdGVkIC0gV2hldGhlciBvciBub3QgYSByZW1vdGUgc3RvcmUgaXMgY29ubmVjdGVkXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcmVtb3RlLm9ubGluZSAtIFdoZXRoZXIgbGFzdCBzeW5jIGFjdGlvbiB3YXMgc3VjY2Vzc2Z1bCBvciBub3RcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHJlbW90ZS51c2VyQWRkcmVzcyAtIFRoZSB1c2VyIGFkZHJlc3Mgb2YgdGhlIGNvbm5lY3RlZCB1c2VyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSByZW1vdGUucHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBXZWJGaW5nZXIgbGlua1xuICAgKi9cblxuICAvKipcbiAgICogQ29ubmVjdCB0byBhIHJlbW90ZVN0b3JhZ2Ugc2VydmVyLlxuICAgKlxuICAgKiBEaXNjb3ZlcnMgdGhlIFdlYkZpbmdlciBwcm9maWxlIG9mIHRoZSBnaXZlbiB1c2VyIGFkZHJlc3MgYW5kIGluaXRpYXRlc1xuICAgKiB0aGUgT0F1dGggZGFuY2UuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG11c3QgYmUgY2FsbGVkICphZnRlciogYWxsIHJlcXVpcmVkIGFjY2VzcyBoYXMgYmVlbiBjbGFpbWVkLlxuICAgKiBXaGVuIHVzaW5nIHRoZSBjb25uZWN0IHdpZGdldCwgaXQgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIGl0c2VsZi5cbiAgICpcbiAgICogU3BlY2lhbCBjYXNlczpcbiAgICpcbiAgICogMS4gSWYgYSBiZWFyZXIgdG9rZW4gaXMgc3VwcGxpZWQgYXMgc2Vjb25kIGFyZ3VtZW50LCB0aGUgT0F1dGggZGFuY2VcbiAgICogICAgd2lsbCBiZSBza2lwcGVkIGFuZCB0aGUgc3VwcGxpZWQgdG9rZW4gYmUgdXNlZCBpbnN0ZWFkLiBUaGlzIGlzXG4gICAqICAgIHVzZWZ1bCBvdXRzaWRlIG9mIGJyb3dzZXIgZW52aXJvbm1lbnRzLCB3aGVyZSB0aGUgdG9rZW4gaGFzIGJlZW5cbiAgICogICAgYWNxdWlyZWQgaW4gYSBkaWZmZXJlbnQgd2F5LlxuICAgKlxuICAgKiAyLiBJZiB0aGUgV2ViZmluZ2VyIHByb2ZpbGUgZm9yIHRoZSBnaXZlbiB1c2VyIGFkZHJlc3MgZG9lc24ndCBjb250YWluXG4gICAqICAgIGFuIGF1dGggVVJMLCB0aGUgbGlicmFyeSB3aWxsIGFzc3VtZSB0aGF0IGNsaWVudCBhbmQgc2VydmVyIGhhdmVcbiAgICogICAgZXN0YWJsaXNoZWQgYXV0aG9yaXphdGlvbiBhbW9uZyB0aGVtc2VsdmVzLCB3aGljaCB3aWxsIG9taXQgYmVhcmVyXG4gICAqICAgIHRva2VucyBpbiBhbGwgcmVxdWVzdHMgbGF0ZXIgb24uIFRoaXMgaXMgdXNlZnVsIGZvciBleGFtcGxlIHdoZW4gdXNpbmdcbiAgICogICAgS2VyYmVyb3MgYW5kIHNpbWlsYXIgcHJvdG9jb2xzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlckFkZHJlc3MgLSBUaGUgdXNlciBhZGRyZXNzICh1c2VyQGhvc3QpIHRvIGNvbm5lY3QgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAgICAgICAtIChvcHRpb25hbCkgQSBiZWFyZXIgdG9rZW4gYWNxdWlyZWQgYmVmb3JlaGFuZFxuICAgKi9cbiAgY29ubmVjdCAodXNlckFkZHJlc3M6IHN0cmluZywgdG9rZW4/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNldEJhY2tlbmQoJ3JlbW90ZXN0b3JhZ2UnKTtcbiAgICBpZiAodXNlckFkZHJlc3MuaW5kZXhPZignQCcpIDwgMCkge1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIlVzZXIgYWRkcmVzcyBkb2Vzbid0IGNvbnRhaW4gYW4gQC5cIikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChnbG9iYWxDb250ZXh0LmNvcmRvdmEpIHtcbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmNvcmRvdmFSZWRpcmVjdFVyaSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIlBsZWFzZSBzdXBwbHkgYSBjdXN0b20gSFRUUFMgcmVkaXJlY3QgVVJJIGZvciB5b3VyIENvcmRvdmEgYXBwXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFnbG9iYWxDb250ZXh0LmNvcmRvdmEuSW5BcHBCcm93c2VyKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IFJlbW90ZVN0b3JhZ2UuRGlzY292ZXJ5RXJyb3IoXCJQbGVhc2UgaW5jbHVkZSB0aGUgSW5BcHBCcm93c2VyIENvcmRvdmEgcGx1Z2luIHRvIGVuYWJsZSBPQXV0aFwiKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoe1xuICAgICAgdXNlckFkZHJlc3M6IHVzZXJBZGRyZXNzXG4gICAgfSk7XG4gICAgdGhpcy5fZW1pdCgnY29ubmVjdGluZycpO1xuXG4gICAgY29uc3QgZGlzY292ZXJ5VGltZW91dCA9IHNldFRpbWVvdXQoKCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIk5vIHN0b3JhZ2UgaW5mb3JtYXRpb24gZm91bmQgZm9yIHRoaXMgdXNlciBhZGRyZXNzLlwiKSk7XG4gICAgfSwgY29uZmlnLmRpc2NvdmVyeVRpbWVvdXQpO1xuXG4gICAgRGlzY292ZXIodXNlckFkZHJlc3MpLnRoZW4oKGluZm86IFN0b3JhZ2VJbmZvKTogdm9pZCA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoZGlzY292ZXJ5VGltZW91dCk7XG4gICAgICB0aGlzLl9lbWl0KCdhdXRoaW5nJyk7XG4gICAgICBpbmZvLnVzZXJBZGRyZXNzID0gdXNlckFkZHJlc3M7XG4gICAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoaW5mbyk7XG4gICAgICBpZiAoISB0aGlzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKGluZm8uYXV0aFVSTCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBOb3JtYWwgYXV0aG9yaXphdGlvbiBzdGVwOyB0aGUgZGVmYXVsdCB3YXkgdG8gY29ubmVjdFxuICAgICAgICAgICAgdGhpcy5hdXRob3JpemUoeyBhdXRoVVJMOiBpbmZvLmF1dGhVUkwgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBUb2tlbiBzdXBwbGllZCBkaXJlY3RseSBieSBhcHAvZGV2ZWxvcGVyL3VzZXJcbiAgICAgICAgICAgIGxvZygnU2tpcHBpbmcgYXV0aG9yaXphdGlvbiBzZXF1ZW5jZSBhbmQgY29ubmVjdGluZyB3aXRoIGtub3duIHRva2VuJyk7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoeyB0b2tlbjogdG9rZW4gfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN1cHBsaWVkIGJlYXJlciB0b2tlbiBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJbiBsaWV1IG9mIGFuIGV4Y3BsaWNpdCBhdXRoVVJMLCBhc3N1bWUgdGhhdCB0aGUgYnJvd3NlciBhbmRcbiAgICAgICAgICAvLyBzZXJ2ZXIgaGFuZGxlIGFueSBhdXRob3JpemF0aW9uIG5lZWRzOyBmb3IgaW5zdGFuY2UsIFRMUyBtYXlcbiAgICAgICAgICAvLyB0cmlnZ2VyIHRoZSBicm93c2VyIHRvIHVzZSBhIGNsaWVudCBjZXJ0aWZpY2F0ZSwgb3IgYSA0MDEgTm90XG4gICAgICAgICAgLy8gQXV0aG9yaXplZCByZXNwb25zZSBtYXkgbWFrZSB0aGUgYnJvd3NlciBzZW5kIGEgS2VyYmVyb3MgdGlja2V0XG4gICAgICAgICAgLy8gdXNpbmcgdGhlIFNQTkVHTyBtZXRob2QuXG4gICAgICAgICAgdGhpcy5pbXBsaWVkYXV0aCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgKC8qZXJyKi8pID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChkaXNjb3ZlcnlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IFJlbW90ZVN0b3JhZ2UuRGlzY292ZXJ5RXJyb3IoXCJObyBzdG9yYWdlIGluZm9ybWF0aW9uIGZvdW5kIGZvciB0aGlzIHVzZXIgYWRkcmVzcy5cIikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY29ubmVjdCB0aGUgcmVtb3RlIHNlcnZlciB0byBnZXQgYSBuZXcgYXV0aG9yaXphdGlvbi5cbiAgICovXG4gIHJlY29ubmVjdCAoKTogdm9pZCB7XG4gICAgdGhpcy5yZW1vdGUuY29uZmlndXJlKHsgdG9rZW46IG51bGwgfSk7XG5cbiAgICBpZiAodGhpcy5iYWNrZW5kID09PSAncmVtb3Rlc3RvcmFnZScpIHtcbiAgICAgIHRoaXMuY29ubmVjdCh0aGlzLnJlbW90ZS51c2VyQWRkcmVzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3RlLmNvbm5lY3QoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXCJEaXNjb25uZWN0XCIgZnJvbSByZW1vdGUgc2VydmVyIHRvIHRlcm1pbmF0ZSBjdXJyZW50IHNlc3Npb24uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNsZWFycyBhbGwgc3RvcmVkIHNldHRpbmdzIGFuZCBkZWxldGVzIHRoZSBlbnRpcmUgbG9jYWxcbiAgICogY2FjaGUuXG4gICAqL1xuICBkaXNjb25uZWN0ICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZW1vdGUpIHtcbiAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7XG4gICAgICAgIHVzZXJBZGRyZXNzOiBudWxsLFxuICAgICAgICBocmVmOiBudWxsLFxuICAgICAgICBzdG9yYWdlQXBpOiBudWxsLFxuICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgcHJvcGVydGllczogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX3NldEdQRCh7XG4gICAgICBnZXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ2dldCcpLFxuICAgICAgcHV0OiB0aGlzLl9wZW5kaW5nR1BEKCdwdXQnKSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fcGVuZGluZ0dQRCgnZGVsZXRlJylcbiAgICB9KTtcbiAgICBjb25zdCBuID0gdGhpcy5fY2xlYW51cHMubGVuZ3RoO1xuICAgIGxldCBpID0gMDtcblxuICAgIGNvbnN0IG9uZURvbmUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBpKys7XG4gICAgICBpZiAoaSA+PSBuKSB7XG4gICAgICAgIHRoaXMuX2luaXQoKTtcbiAgICAgICAgLy8gRklYTUUgUmUtZW5hYmxlIHdoZW4gbW9kdWxlcyBhcmUgYWxsIGltcG9ydHNcbiAgICAgICAgLy8gbG9nKCdEb25lIGNsZWFuaW5nIHVwLCBlbWl0dGluZyBkaXNjb25uZWN0ZWQgYW5kIGRpc2Nvbm5lY3QgZXZlbnRzJyk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobiA+IDApIHtcbiAgICAgIHRoaXMuX2NsZWFudXBzLmZvckVhY2goKGNsZWFudXA6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFudXBSZXN1bHQgPSBjbGVhbnVwKHRoaXMpO1xuICAgICAgICBpZiAodHlwZW9mKGNsZWFudXBSZXN1bHQpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YoY2xlYW51cFJlc3VsdC50aGVuKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNsZWFudXBSZXN1bHQudGhlbihvbmVEb25lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbmVEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbmVEb25lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRCYWNrZW5kICh3aGF0KTogdm9pZCB7XG4gICAgdGhpcy5iYWNrZW5kID0gd2hhdDtcbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICBpZiAod2hhdCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVtb3Rlc3RvcmFnZTpiYWNrZW5kJywgd2hhdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVtb3Rlc3RvcmFnZTpiYWNrZW5kJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIFwiY2hhbmdlXCIgZXZlbnQgaGFuZGxlciB0byB0aGUgZ2l2ZW4gcGF0aC4gV2hlbmV2ZXIgYSBcImNoYW5nZVwiXG4gICAqIGhhcHBlbnMgKGFzIGRldGVybWluZWQgYnkgdGhlIGJhY2tlbmQsIHN1Y2ggYXMgZS5nLlxuICAgKiA8UmVtb3RlU3RvcmFnZS5JbmRleGVkREI+KSBhbmQgdGhlIGFmZmVjdGVkIHBhdGggaXMgZXF1YWwgdG8gb3IgYmVsb3cgdGhlXG4gICAqIGdpdmVuICdwYXRoJywgdGhlIGdpdmVuIGhhbmRsZXIgaXMgY2FsbGVkLlxuICAgKlxuICAgKiBZb3Ugc2hvdWxkIHVzdWFsbHkgbm90IHVzZSB0aGlzIG1ldGhvZCBkaXJlY3RseSwgYnV0IGluc3RlYWQgdXNlIHRoZVxuICAgKiBcImNoYW5nZVwiIGV2ZW50cyBwcm92aWRlZCBieSA6ZG9jOmBCYXNlQ2xpZW50IDwvanMtYXBpL2Jhc2UtY2xpZW50PmBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBBYnNvbHV0ZSBwYXRoIHRvIGF0dGFjaCBoYW5kbGVyIHRvXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBIYW5kbGVyIGZ1bmN0aW9uXG4gICAqL1xuICBvbkNoYW5nZSAocGF0aDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIGlmICghIHRoaXMuX3BhdGhIYW5kbGVycy5jaGFuZ2VbcGF0aF0pIHtcbiAgICAgIHRoaXMuX3BhdGhIYW5kbGVycy5jaGFuZ2VbcGF0aF0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5fcGF0aEhhbmRsZXJzLmNoYW5nZVtwYXRoXS5wdXNoKGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcywgbm93IHRoYXQgd2UgYWx3YXlzIGluc3RhbnRpYXRlIHRoZSBwcm90b3R5cGU/XG4gICAqXG4gICAqIEVuYWJsZSByZW1vdGVTdG9yYWdlIGxvZ2dpbmcuXG4gICAqL1xuICBlbmFibGVMb2cgKCk6IHZvaWQge1xuICAgIGNvbmZpZy5sb2dnaW5nID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkbyB3ZSBzdGlsbCBuZWVkIHRoaXMsIG5vdyB0aGF0IHdlIGFsd2F5cyBpbnN0YW50aWF0ZSB0aGUgcHJvdG90eXBlP1xuICAgKlxuICAgKiBEaXNhYmxlIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZ1xuICAgKi9cbiAgZGlzYWJsZUxvZyAoKTogdm9pZCB7XG4gICAgY29uZmlnLmxvZ2dpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBsb2dcbiAgICpcbiAgICogVGhlIHNhbWUgYXMgPFJlbW90ZVN0b3JhZ2UubG9nPi5cbiAgICovXG4gIGxvZyAoLi4uYXJncyk6IHZvaWQge1xuICAgIGxvZy5hcHBseShSZW1vdGVTdG9yYWdlLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIE9BdXRoIGtleS9JRCBmb3IgZWl0aGVyIEdvb2dsZURyaXZlIG9yIERyb3Bib3ggYmFja2VuZCBzdXBwb3J0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYXBpS2V5cyAtIEEgY29uZmlnIG9iamVjdCB3aXRoIHRoZXNlIHByb3BlcnRpZXM6XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYXBpS2V5cy50eXBlXSAtIEJhY2tlbmQgdHlwZTogJ2dvb2dsZWRyaXZlJyBvciAnZHJvcGJveCdcbiAgICogQHBhcmFtIHtzdHJpbmd9IFthcGlLZXlzLmtleV0gLSBDbGllbnQgSUQgZm9yIEdvb2dsZURyaXZlLCBvciBhcHAga2V5IGZvciBEcm9wYm94XG4gICAqL1xuICBzZXRBcGlLZXlzIChhcGlLZXlzOiB7IHR5cGU6IHN0cmluZzsga2V5OiBzdHJpbmcgfSk6IHZvaWQgfCBib29sZWFuIHtcbiAgICBjb25zdCB2YWxpZFR5cGVzID0gWydnb29nbGVkcml2ZScsICdkcm9wYm94J107XG4gICAgaWYgKHR5cGVvZiBhcGlLZXlzICE9PSAnb2JqZWN0JyB8fCAhT2JqZWN0LmtleXMoYXBpS2V5cykuZXZlcnkodHlwZSA9PiB2YWxpZFR5cGVzLmluY2x1ZGVzKHR5cGUpKSkge1xuICAgICAgY29uc29sZS5lcnJvcignc2V0QXBpS2V5cygpIHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIGFyZ3VtZW50cycpIDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhhcGlLZXlzKS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gYXBpS2V5c1t0eXBlXTtcbiAgICAgIGlmICgha2V5KSB7IGRlbGV0ZSB0aGlzLmFwaUtleXNbdHlwZV07IHJldHVybjsgfVxuXG4gICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICBjYXNlICdkcm9wYm94JzpcbiAgICAgICAgICB0aGlzLmFwaUtleXNbJ2Ryb3Bib3gnXSA9IHsgYXBwS2V5OiBrZXkgfTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZHJvcGJveCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgICAgdGhpcy5kcm9wYm94LmNsaWVudElkICE9PSBrZXkpIHtcbiAgICAgICAgICAgIERyb3Bib3guX3JzX2luaXQodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdnb29nbGVkcml2ZSc6XG4gICAgICAgICAgdGhpcy5hcGlLZXlzWydnb29nbGVkcml2ZSddID0geyBjbGllbnRJZDoga2V5IH07XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmdvb2dsZWRyaXZlID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdGhpcy5nb29nbGVkcml2ZS5jbGllbnRJZCAhPT0ga2V5KSB7XG4gICAgICAgICAgICBHb29nbGVEcml2ZS5fcnNfaW5pdCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZW1vdGVzdG9yYWdlOmFwaS1rZXlzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5hcGlLZXlzKSk7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogU2V0IHJlZGlyZWN0IFVSSSB0byBiZSB1c2VkIGZvciB0aGUgT0F1dGggcmVkaXJlY3Qgd2l0aGluIHRoZVxuICAgKiBpbi1hcHAtYnJvd3NlciB3aW5kb3cgaW4gQ29yZG92YSBhcHBzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJpIC0gQSB2YWxpZCBIVFRQKFMpIFVSSVxuICAgKi9cbiAgc2V0Q29yZG92YVJlZGlyZWN0VXJpICh1cmk6IHVua25vd24pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHVyaSAhPT0gJ3N0cmluZycgfHwgIXVyaS5tYXRjaCgvaHR0cChzKT86XFwvXFwvLykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvcmRvdmEgcmVkaXJlY3QgVVJJIG11c3QgYmUgYSBVUkkgc3RyaW5nXCIpO1xuICAgIH1cbiAgICBjb25maWcuY29yZG92YVJlZGlyZWN0VXJpID0gdXJpO1xuICB9XG5cbiAgLy9cbiAgLy8gRkVBVFVSRVMgSU5JVElBTElaQVRJT05cbiAgLy9cblxuICBfaW5pdCA9IEZlYXR1cmVzLmxvYWRGZWF0dXJlcztcbiAgZmVhdHVyZXMgPSBGZWF0dXJlcy5mZWF0dXJlcztcbiAgbG9hZEZlYXR1cmUgPSBGZWF0dXJlcy5sb2FkRmVhdHVyZTtcbiAgZmVhdHVyZVN1cHBvcnRlZCA9IEZlYXR1cmVzLmZlYXR1cmVTdXBwb3J0ZWQ7XG4gIGZlYXR1cmVEb25lID0gRmVhdHVyZXMuZmVhdHVyZURvbmU7XG4gIGZlYXR1cmVzRG9uZSA9IEZlYXR1cmVzLmZlYXR1cmVzRG9uZTtcbiAgZmVhdHVyZXNMb2FkZWQgPSBGZWF0dXJlcy5mZWF0dXJlc0xvYWRlZDtcbiAgZmVhdHVyZUluaXRpYWxpemVkID0gRmVhdHVyZXMuZmVhdHVyZUluaXRpYWxpemVkO1xuICBmZWF0dXJlRmFpbGVkID0gRmVhdHVyZXMuZmVhdHVyZUZhaWxlZDtcbiAgaGFzRmVhdHVyZSA9IEZlYXR1cmVzLmhhc0ZlYXR1cmU7XG4gIF9zZXRDYWNoaW5nTW9kdWxlID0gRmVhdHVyZXMuX3NldENhY2hpbmdNb2R1bGU7XG4gIF9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucyA9IEZlYXR1cmVzLl9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucztcbiAgX2ZpcmVSZWFkeSA9IEZlYXR1cmVzLl9maXJlUmVhZHk7XG4gIGluaXRGZWF0dXJlID0gRmVhdHVyZXMuaW5pdEZlYXR1cmU7XG5cbiAgLy9cbiAgLy8gR0VUL1BVVC9ERUxFVEUgSU5URVJGQUNFIEhFTFBFUlNcbiAgLy9cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRHUEQgKGltcGwsIGNvbnRleHQ/KSB7XG4gICAgZnVuY3Rpb24gd3JhcChmdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncylcbiAgICAgICAgICAudGhlbihlbWl0VW5hdXRob3JpemVkLmJpbmQodGhpcykpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5nZXQgPSB3cmFwKGltcGwuZ2V0KTtcbiAgICB0aGlzLnB1dCA9IHdyYXAoaW1wbC5wdXQpO1xuICAgIHRoaXMuZGVsZXRlID0gd3JhcChpbXBsLmRlbGV0ZSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wZW5kaW5nR1BEIChtZXRob2ROYW1lKTogRnVuY3Rpb24ge1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3QgbWV0aG9kQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLl9wZW5kaW5nLnB1c2goe1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kTmFtZSxcbiAgICAgICAgICBhcmdzOiBtZXRob2RBcmd1bWVudHMsXG4gICAgICAgICAgcHJvbWlzZToge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzUGVuZGluZyAoKTogdm9pZCB7XG4gICAgdGhpcy5fcGVuZGluZy5mb3JFYWNoKChwZW5kaW5nKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzW3BlbmRpbmcubWV0aG9kXSguLi5wZW5kaW5nLmFyZ3MpLnRoZW4ocGVuZGluZy5wcm9taXNlLnJlc29sdmUsIHBlbmRpbmcucHJvbWlzZS5yZWplY3QpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHBlbmRpbmcucHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fcGVuZGluZyA9IFtdO1xuICB9XG5cbiAgLy9cbiAgLy8gQ0hBTkdFIEVWRU5UIEhBTkRMSU5HXG4gIC8vXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZENoYW5nZSAob2JqZWN0OiB7IG9uOiBGdW5jdGlvbiB9KTogdm9pZCB7XG4gICAgb2JqZWN0Lm9uKCdjaGFuZ2UnLCB0aGlzLl9kaXNwYXRjaEV2ZW50LmJpbmQodGhpcywgJ2NoYW5nZScpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Rpc3BhdGNoRXZlbnQgKGV2ZW50TmFtZTogc3RyaW5nLCBldmVudCk6IHZvaWQge1xuICAgIE9iamVjdC5rZXlzKHRoaXMuX3BhdGhIYW5kbGVyc1tldmVudE5hbWVdKS5mb3JFYWNoKChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHBsID0gcGF0aC5sZW5ndGg7XG4gICAgICBpZiAoZXZlbnQucGF0aC5zdWJzdHIoMCwgcGwpID09PSBwYXRoKSB7XG4gICAgICAgIHRoaXMuX3BhdGhIYW5kbGVyc1tldmVudE5hbWVdW3BhdGhdLmZvckVhY2goKGhhbmRsZXI6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXY6IHsgcmVsYXRpdmVQYXRoPzogc3RyaW5nIH0gPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBldmVudCkgeyBldltrZXldID0gZXZlbnRba2V5XTsgfVxuICAgICAgICAgIGV2LnJlbGF0aXZlUGF0aCA9IGV2ZW50LnBhdGgucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIHBhdGgpLCAnJyk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGhhbmRsZXIoZXYpO1xuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIidjaGFuZ2UnIGhhbmRsZXIgZmFpbGVkOiBcIiwgZSwgZS5zdGFjayk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgZW5hYmxlcyB5b3UgdG8gcXVpY2tseSBpbnN0YW50aWF0ZSBhIEJhc2VDbGllbnQsIHdoaWNoIHlvdSBjYW5cbiAgICogdXNlIHRvIGRpcmVjdGx5IHJlYWQgYW5kIG1hbmlwdWxhdGUgZGF0YSBpbiB0aGUgY29ubmVjdGVkIHN0b3JhZ2UgYWNjb3VudC5cbiAgICpcbiAgICogUGxlYXNlIHVzZSB0aGlzIG1ldGhvZCBvbmx5IGZvciBkZWJ1Z2dpbmcgYW5kIGRldmVsb3BtZW50LCBhbmQgY2hvb3NlIG9yXG4gICAqIGNyZWF0ZSBhIDpkb2M6YGRhdGEgbW9kdWxlIDwvZGF0YS1tb2R1bGVzPmAgZm9yIHlvdXIgYXBwIHRvIHVzZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgYmFzZSBkaXJlY3Rvcnkgb2YgdGhlIEJhc2VDbGllbnQgdGhhdCB3aWxsIGJlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybmVkICh3aXRoIGEgbGVhZGluZyBhbmQgYSB0cmFpbGluZyBzbGFzaClcbiAgICpcbiAgICogQHJldHVybnMge0Jhc2VDbGllbnR9IEEgY2xpZW50IHdpdGggdGhlIHNwZWNpZmllZCBzY29wZSAoY2F0ZWdvcnkvYmFzZSBkaXJlY3RvcnkpXG4gICAqL1xuICBzY29wZSAocGF0aDogc3RyaW5nKTogRnVuY3Rpb24ge1xuICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LnNjb3BlIG11c3QgYmUgYSBzdHJpbmcnO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihwYXRoLCAncicpKSB7XG4gICAgICBjb25zdCBlc2NhcGVkUGF0aCA9IHBhdGgucmVwbGFjZSgvKFsnXFxcXF0pL2csICdcXFxcJDEnKTtcbiAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogcGxlYXNlIGNhbGwgcmVtb3RlU3RvcmFnZS5hY2Nlc3MuY2xhaW0oXFwnJyArIGVzY2FwZWRQYXRoICsgJ1xcJywgXFwnclxcJykgKHJlYWQgb25seSkgb3IgcmVtb3RlU3RvcmFnZS5hY2Nlc3MuY2xhaW0oXFwnJyArIGVzY2FwZWRQYXRoICsgJ1xcJywgXFwncndcXCcpIChyZWFkL3dyaXRlKSBmaXJzdCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJhc2VDbGllbnQodGhpcywgcGF0aCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgc3luYyBpbnRlcnZhbCB3aGVuIGFwcGxpY2F0aW9uIGlzIGluIHRoZSBmb3JlZ3JvdW5kXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgZ2V0U3luY0ludGVydmFsICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcuc3luY0ludGVydmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHN5bmMgaW50ZXJ2YWwgd2hlbiBhcHBsaWNhdGlvbiBpcyBpbiB0aGUgZm9yZWdyb3VuZFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgLSBTeW5jIGludGVydmFsIGluIG1pbGxpc2Vjb25kcyAoYmV0d2VlbiAxMDAwIGFuZCAzNjAwMDAwKVxuICAgKi9cbiAgc2V0U3luY0ludGVydmFsIChpbnRlcnZhbDogdW5rbm93bik6IHZvaWQge1xuICAgIGlmICghaXNWYWxpZEludGVydmFsKGludGVydmFsKSkge1xuICAgICAgdGhyb3cgaW50ZXJ2YWwgKyBcIiBpcyBub3QgYSB2YWxpZCBzeW5jIGludGVydmFsXCI7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gY29uZmlnLnN5bmNJbnRlcnZhbDtcbiAgICBjb25maWcuc3luY0ludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgdGhpcy5fZW1pdCgnc3luYy1pbnRlcnZhbC1jaGFuZ2UnLCB7b2xkVmFsdWU6IG9sZFZhbHVlLCBuZXdWYWx1ZTogaW50ZXJ2YWx9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGJhY2tncm91bmRcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRCYWNrZ3JvdW5kU3luY0ludGVydmFsICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcuYmFja2dyb3VuZFN5bmNJbnRlcnZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gdGhlIGFwcGxpY2F0aW9uIGlzIGluIHRoZVxuICAgKiBiYWNrZ3JvdW5kXG4gICAqXG4gICAqIEBwYXJhbSBpbnRlcnZhbCAtIFN5bmMgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzIChiZXR3ZWVuIDEwMDAgYW5kIDM2MDAwMDApXG4gICAqL1xuICBzZXRCYWNrZ3JvdW5kU3luY0ludGVydmFsIChpbnRlcnZhbDogdW5rbm93bik6IHZvaWQge1xuICAgIGlmICghaXNWYWxpZEludGVydmFsKGludGVydmFsKSkge1xuICAgICAgdGhyb3cgaW50ZXJ2YWwgKyBcIiBpcyBub3QgYSB2YWxpZCBzeW5jIGludGVydmFsXCI7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWw7XG4gICAgY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICB0aGlzLl9lbWl0KCdzeW5jLWludGVydmFsLWNoYW5nZScsIHtvbGRWYWx1ZTogb2xkVmFsdWUsIG5ld1ZhbHVlOiBpbnRlcnZhbH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGN1cnJlbnQgc3luYyBpbnRlcnZhbC4gQ2FuIGJlIGJhY2tncm91bmQgb3JcbiAgICogZm9yZWdyb3VuZCwgY3VzdG9tIG9yIGRlZmF1bHQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY29uZmlnLmlzQmFja2dyb3VuZCA/IGNvbmZpZy5iYWNrZ3JvdW5kU3luY0ludGVydmFsIDogY29uZmlnLnN5bmNJbnRlcnZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IG5ldHdvcmsgcmVxdWVzdCB0aW1lb3V0XG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgZ2V0UmVxdWVzdFRpbWVvdXQgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIGNvbmZpZy5yZXF1ZXN0VGltZW91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHRpbWVvdXQgZm9yIG5ldHdvcmsgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IC0gVGltZW91dCBpbiBtaWxsaXNlY29uZHNcbiAgICovXG4gIHNldFJlcXVlc3RUaW1lb3V0ICh0aW1lb3V0OiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB0aW1lb3V0ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgdGltZW91dCArIFwiIGlzIG5vdCBhIHZhbGlkIHJlcXVlc3QgdGltZW91dFwiO1xuICAgIH1cbiAgICBjb25maWcucmVxdWVzdFRpbWVvdXQgPSB0aW1lb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzeW5jQ3ljbGUgKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5zeW5jIHx8IHRoaXMuc3luYy5zdG9wcGVkKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5vbignc3luYy1kb25lJywgKCk6IHZvaWQgPT4ge1xuICAgICAgLy8gRklYTUUgUmUtZW5hYmxlIHdoZW4gbW9kdWxlcyBhcmUgYWxsIGltcG9ydHNcbiAgICAgIC8vIGxvZygnW1N5bmNdIFN5bmMgZG9uZS4gU2V0dGluZyB0aW1lciB0bycsIHRoaXMuZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCgpKTtcbiAgICAgIGlmICh0aGlzLnN5bmMgJiYgIXRoaXMuc3luYy5zdG9wcGVkKSB7XG4gICAgICAgIGlmICh0aGlzLl9zeW5jVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fc3luY1RpbWVyKTtcbiAgICAgICAgICB0aGlzLl9zeW5jVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3luY1RpbWVyID0gc2V0VGltZW91dCh0aGlzLnN5bmMuc3luYy5iaW5kKHRoaXMuc3luYyksIHRoaXMuZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCgpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc3luYy5zeW5jKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgc3luY2hyb25pemF0aW9uIHdpdGggcmVtb3RlIHN0b3JhZ2UsIGRvd25sb2FkaW5nIGFuZCB1cGxvYWRpbmcgYW55XG4gICAqIGNoYW5nZXMgd2l0aGluIHRoZSBjYWNoZWQgcGF0aHMuXG4gICAqXG4gICAqIFBsZWFzZSBjb25zaWRlcjogbG9jYWwgY2hhbmdlcyB3aWxsIGF0dGVtcHQgc3luYyBpbW1lZGlhdGVseSwgYW5kIHJlbW90ZVxuICAgKiBjaGFuZ2VzIHNob3VsZCBhbHNvIGJlIHN5bmNlZCB0aW1lbHkgd2hlbiB1c2luZyBsaWJyYXJ5IGRlZmF1bHRzLiBTb1xuICAgKiB0aGlzIGlzIG1vc3RseSB1c2VmdWwgZm9yIGxldHRpbmcgdXNlcnMgc3luYyBtYW51YWxseSwgd2hlbiBwcmVzc2luZyBhXG4gICAqIHN5bmMgYnV0dG9uIGZvciBleGFtcGxlLiBUaGlzIG1pZ2h0IGZlZWwgc2FmZXIgdG8gdGhlbSBzb21ldGltZXMsIGVzcC5cbiAgICogd2hlbiBzaGlmdGluZyBiZXR3ZWVuIG9mZmxpbmUgYW5kIG9ubGluZSBhIGxvdC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBzeW5jIGhhcyBmaW5pc2hlZFxuICAgKi9cbiAgc3RhcnRTeW5jICgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIWNvbmZpZy5jYWNoZSkge1xuICAgICAgY29uc29sZS53YXJuKCdOb3RoaW5nIHRvIHN5bmMsIGJlY2F1c2UgY2FjaGluZyBpcyBkaXNhYmxlZC4nKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdGhpcy5zeW5jLnN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLnN5bmNTdG9wcGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMuc3luYy5zeW5jKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCB0aGUgcGVyaW9kaWMgc3luY2hyb25pemF0aW9uLlxuICAgKi9cbiAgc3RvcFN5bmMgKCk6IHZvaWQge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9zeW5jVGltZXIpO1xuICAgIHRoaXMuX3N5bmNUaW1lciA9IHVuZGVmaW5lZDtcblxuICAgIGlmICh0aGlzLnN5bmMpIHtcbiAgICAgIC8vIEZJWE1FIFJlLWVuYWJsZSB3aGVuIG1vZHVsZXMgYXJlIGFsbCBpbXBvcnRzXG4gICAgICAvLyBsb2coJ1tTeW5jXSBTdG9wcGluZyBzeW5jJyk7XG4gICAgICB0aGlzLnN5bmMuc3RvcHBlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBzeW5jIGNsYXNzIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXQsIHNvIHdlIG1ha2Ugc3VyZSBpdCB3aWxsXG4gICAgICAvLyBub3Qgc3RhcnQgdGhlIHN5bmNpbmcgcHJvY2VzcyBhcyBzb29uIGFzIGl0J3MgaW5pdGlhbGl6ZWQuXG4gICAgICAvLyBGSVhNRSBSZS1lbmFibGUgd2hlbiBtb2R1bGVzIGFyZSBhbGwgaW1wb3J0c1xuICAgICAgLy8gbG9nKCdbU3luY10gV2lsbCBpbnN0YW50aWF0ZSBzeW5jIHN0b3BwZWQnKTtcbiAgICAgIHRoaXMuc3luY1N0b3BwZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIEFkZCByZW1vdGVTdG9yYWdlIGRhdGEgbW9kdWxlXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgLSBtb2R1bGUgb2JqZWN0IG5lZWRzIGZvbGxvd2luZyBwcm9wZXJpZXM6XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbW9kdWxlLm5hbWVdIC0gTmFtZSBvZiB0aGUgbW9kdWxlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFttb2R1bGUuYnVpbGRlcl0gLSBCdWlsZGVyIGZ1bmN0aW9uIGRlZmluaW5nIHRoZSBtb2R1bGVcbiAgICpcbiAgICogVGhlIG1vZHVsZSBidWlsZGVyIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYW5vdGhlclxuICAgKiBvYmplY3QgY2FsbGVkIGV4cG9ydHMsIHdoaWNoIHdpbGwgYmUgZXhwb3J0ZWQgdG8gdGhpcyA8UmVtb3RlU3RvcmFnZT5cbiAgICogaW5zdGFuY2UgdW5kZXIgdGhlIG1vZHVsZSdzIG5hbWUuIFNvIHdoZW4gZGVmaW5pbmcgYSBsb2NhdGlvbnMgbW9kdWxlLFxuICAgKiBsaWtlIGluIHRoZSBleGFtcGxlIGJlbG93LCBpdCB3b3VsZCBiZSBhY2Nlc3NpYmxlIHZpYVxuICAgKiBgcmVtb3RlU3RvcmFnZS5sb2NhdGlvbnNgLCB3aGljaCB3b3VsZCBpbiB0dXJuIGhhdmUgYSBgZmVhdHVyZXNgIGFuZCBhXG4gICAqIGBjb2xsZWN0aW9uc2AgcHJvcGVydHkuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiByZWNlaXZlcyBhIHByaXZhdGUgYW5kIGEgcHVibGljIGNsaWVudCwgd2hpY2ggYXJlIGJvdGhcbiAgICogaW5zdGFuY2VzIG9mIDxSZW1vdGVTdG9yYWdlLkJhc2VDbGllbnQ+LiBJbiB0aGUgZm9sbG93aW5nIGV4YW1wbGUsIHRoZVxuICAgKiBzY29wZSBvZiBwcml2YXRlQ2xpZW50IGlzIGAvbG9jYXRpb25zYCBhbmQgdGhlIHNjb3BlIG9mIHB1YmxpY0NsaWVudCBpc1xuICAgKiBgL3B1YmxpYy9sb2NhdGlvbnNgLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAgIFJlbW90ZVN0b3JhZ2UuYWRkTW9kdWxlKHtuYW1lOiAnbG9jYXRpb25zJywgYnVpbGRlcjogZnVuY3Rpb24gKHByaXZhdGVDbGllbnQsIHB1YmxpY0NsaWVudCkge1xuICAgKiAgICAgcmV0dXJuIHtcbiAgICogICAgICAgZXhwb3J0czoge1xuICAgKiAgICAgICAgIGZlYXR1cmVzOiBwcml2YXRlQ2xpZW50LnNjb3BlKCdmZWF0dXJlcy8nKS5kZWZhdWx0VHlwZSgnZmVhdHVyZScpLFxuICAgKiAgICAgICAgIGNvbGxlY3Rpb25zOiBwcml2YXRlQ2xpZW50LnNjb3BlKCdjb2xsZWN0aW9ucy8nKS5kZWZhdWx0VHlwZSgnZmVhdHVyZS1jb2xsZWN0aW9uJylcbiAgICogICAgICAgfVxuICAgKiAgICAgfTtcbiAgICogICB9fSk7XG4gICovXG4gIGFkZE1vZHVsZSAobW9kdWxlOiBSU01vZHVsZSk6IHZvaWQge1xuICAgIGNvbnN0IG1vZHVsZU5hbWUgPSBtb2R1bGUubmFtZTtcbiAgICBjb25zdCBtb2R1bGVCdWlsZGVyID0gbW9kdWxlLmJ1aWxkZXI7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbW9kdWxlTmFtZSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5fbG9hZE1vZHVsZShtb2R1bGVOYW1lLCBtb2R1bGVCdWlsZGVyKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG1vZHVsZU5hbWUsIHtcbiAgICAgICAgICB2YWx1ZTogaW5zdGFuY2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoJy0nKSAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL1xcLVthLXpdL2csIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9KTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGNhbWVsaXplZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbbW9kdWxlTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIG1vZHVsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2xvYWRNb2R1bGUgKG1vZHVsZU5hbWU6IHN0cmluZywgbW9kdWxlQnVpbGRlcjogRnVuY3Rpb24pOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSAge1xuICAgIGlmIChtb2R1bGVCdWlsZGVyKSB7XG4gICAgICBjb25zdCBtb2R1bGUgPSBtb2R1bGVCdWlsZGVyKFxuICAgICAgICBuZXcgQmFzZUNsaWVudCh0aGlzLCAnLycgKyBtb2R1bGVOYW1lICsgJy8nKSxcbiAgICAgICAgbmV3IEJhc2VDbGllbnQodGhpcywgJy9wdWJsaWMvJyArIG1vZHVsZU5hbWUgKyAnLycpXG4gICAgICApO1xuICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIlVua25vd24gbW9kdWxlOiBcIiArIG1vZHVsZU5hbWU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHByb3BlcnR5IGNvbm5lY3RlZFxuICpcbiAqIEJvb2xlYW4gcHJvcGVydHkgaW5kaWNhdGluZyBpZiByZW1vdGVTdG9yYWdlIGlzIGN1cnJlbnRseSBjb25uZWN0ZWQuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW1vdGVTdG9yYWdlLnByb3RvdHlwZSwgJ2Nvbm5lY3RlZCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3RlLmNvbm5lY3RlZDtcbiAgfVxufSk7XG5cbi8qKlxuICogQHByb3BlcnR5IGFjY2Vzc1xuICpcbiAqIFRyYWNraW5nIGNsYWltZWQgYWNjZXNzIHNjb3Blcy4gQSA8UmVtb3RlU3RvcmFnZS5BY2Nlc3M+IGluc3RhbmNlLlxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW1vdGVTdG9yYWdlLnByb3RvdHlwZSwgJ2FjY2VzcycsIHtcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBhY2Nlc3MgPSBuZXcgQWNjZXNzKCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdhY2Nlc3MnLCB7XG4gICAgICB2YWx1ZTogYWNjZXNzXG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY2VzcztcbiAgfSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuLy8gVE9ETyBDbGVhbiB1cC9oYXJtb25pemUgaG93IG1vZHVsZXMgYXJlIGxvYWRlZCBhbmQvb3IgZG9jdW1lbnQgdGhpcyBhcmNoaXRlY3R1cmUgcHJvcGVybHlcbi8vXG4vLyBBdCB0aGlzIHBvaW50IHRoZSByZW1vdGVTdG9yYWdlIG9iamVjdCBoYXMgbm90IGJlZW4gY3JlYXRlZCB5ZXQuXG4vLyBPbmx5IGl0cyBwcm90b3R5cGUgZXhpc3RzIHNvIGZhciwgc28gd2UgZGVmaW5lIGEgc2VsZi1jb25zdHJ1Y3Rpbmdcbi8vIHByb3BlcnR5IG9uIHRoZXJlOlxuXG4vKipcbiAqIFByb3BlcnR5OiBjYWNoaW5nXG4gKlxuICogQ2FjaGluZyBzZXR0aW5ncy4gQSA8UmVtb3RlU3RvcmFnZS5DYWNoaW5nPiBpbnN0YW5jZS5cbiAqL1xuLy8gRklYTUUgV2FzIGluIHJzX2luaXQgb2YgQ2FjaGluZyBidXQgZG9uJ3Qgd2FudCB0byByZXF1aXJlIFJlbW90ZVN0b3JhZ2UgZnJvbSB0aGVyZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW1vdGVTdG9yYWdlLnByb3RvdHlwZSwgJ2NhY2hpbmcnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY2FjaGluZyA9IG5ldyBDYWNoaW5nKCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjYWNoaW5nJywge1xuICAgICAgdmFsdWU6IGNhY2hpbmdcbiAgICB9KTtcbiAgICByZXR1cm4gY2FjaGluZztcbiAgfVxufSk7XG5cbi8qXG4gKiBAcHJvcGVydHkgbG9jYWxcbiAqXG4gKiBBY2Nlc3MgdG8gdGhlIGxvY2FsIGNhY2hpbmcgYmFja2VuZCB1c2VkLiBVc3VhbGx5IGVpdGhlciBhXG4gKiA8UmVtb3RlU3RvcmFnZS5JbmRleGVkREI+IG9yIDxSZW1vdGVTdG9yYWdlLkxvY2FsU3RvcmFnZT4gaW5zdGFuY2UuXG4gKlxuICogTm90IGF2YWlsYWJsZSwgd2hlbiBjYWNoaW5nIGlzIHR1cm5lZCBvZmYuXG4gKi9cblxuaW50ZXJmYWNlIFJlbW90ZVN0b3JhZ2UgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoUmVtb3RlU3RvcmFnZSwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgUmVtb3RlU3RvcmFnZTtcbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsoXG4gICAgICB1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpXG4gICAgKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCIvKlxyXG5BdXRob3I6IEdlcmFpbnQgTHVmZiBhbmQgb3RoZXJzXHJcblllYXI6IDIwMTNcclxuXHJcblRoaXMgY29kZSBpcyByZWxlYXNlZCBpbnRvIHRoZSBcInB1YmxpYyBkb21haW5cIiBieSBpdHMgYXV0aG9yKHMpLiAgQW55Ym9keSBtYXkgdXNlLCBhbHRlciBhbmQgZGlzdHJpYnV0ZSB0aGUgY29kZSB3aXRob3V0IHJlc3RyaWN0aW9uLiAgVGhlIGF1dGhvciBtYWtlcyBubyBndWFyYW50ZWVzLCBhbmQgdGFrZXMgbm8gbGlhYmlsaXR5IG9mIGFueSBraW5kIGZvciB1c2Ugb2YgdGhpcyBjb2RlLlxyXG5cclxuSWYgeW91IGZpbmQgYSBidWcgb3IgbWFrZSBhbiBpbXByb3ZlbWVudCwgaXQgd291bGQgYmUgY291cnRlb3VzIHRvIGxldCB0aGUgYXV0aG9yIGtub3csIGJ1dCBpdCBpcyBub3QgY29tcHVsc29yeS5cclxuKi9cclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xyXG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xyXG4gICAgLy8gQ29tbW9uSlMuIERlZmluZSBleHBvcnQuXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gQnJvd3NlciBnbG9iYWxzXHJcbiAgICBnbG9iYWwudHY0ID0gZmFjdG9yeSgpO1xyXG4gIH1cclxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qva2V5cz9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGT2JqZWN0JTJGa2V5c1xyXG5pZiAoIU9iamVjdC5rZXlzKSB7XHJcblx0T2JqZWN0LmtleXMgPSAoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcclxuXHRcdFx0aGFzRG9udEVudW1CdWcgPSAhKHt0b1N0cmluZzogbnVsbH0pLnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpLFxyXG5cdFx0XHRkb250RW51bXMgPSBbXHJcblx0XHRcdFx0J3RvU3RyaW5nJyxcclxuXHRcdFx0XHQndG9Mb2NhbGVTdHJpbmcnLFxyXG5cdFx0XHRcdCd2YWx1ZU9mJyxcclxuXHRcdFx0XHQnaGFzT3duUHJvcGVydHknLFxyXG5cdFx0XHRcdCdpc1Byb3RvdHlwZU9mJyxcclxuXHRcdFx0XHQncHJvcGVydHlJc0VudW1lcmFibGUnLFxyXG5cdFx0XHRcdCdjb25zdHJ1Y3RvcidcclxuXHRcdFx0XSxcclxuXHRcdFx0ZG9udEVudW1zTGVuZ3RoID0gZG9udEVudW1zLmxlbmd0aDtcclxuXHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0XHRpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iaiAhPT0gJ2Z1bmN0aW9uJyB8fCBvYmogPT09IG51bGwpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qua2V5cyBjYWxsZWQgb24gbm9uLW9iamVjdCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBwcm9wIGluIG9iaikge1xyXG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKHByb3ApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGhhc0RvbnRFbnVtQnVnKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpIDwgZG9udEVudW1zTGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgZG9udEVudW1zW2ldKSkge1xyXG5cdFx0XHRcdFx0XHRyZXN1bHQucHVzaChkb250RW51bXNbaV0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG59XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGVcclxuaWYgKCFPYmplY3QuY3JlYXRlKSB7XHJcblx0T2JqZWN0LmNyZWF0ZSA9IChmdW5jdGlvbigpe1xyXG5cdFx0ZnVuY3Rpb24gRigpe31cclxuXHJcblx0XHRyZXR1cm4gZnVuY3Rpb24obyl7XHJcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdPYmplY3QuY3JlYXRlIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdEYucHJvdG90eXBlID0gbztcclxuXHRcdFx0cmV0dXJuIG5ldyBGKCk7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcbn1cclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheT9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGQXJyYXklMkZpc0FycmF5XHJcbmlmKCFBcnJheS5pc0FycmF5KSB7XHJcblx0QXJyYXkuaXNBcnJheSA9IGZ1bmN0aW9uICh2QXJnKSB7XHJcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZBcmcpID09PSBcIltvYmplY3QgQXJyYXldXCI7XHJcblx0fTtcclxufVxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmluZGV4T2ZcclxuaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xyXG5cdEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHNlYXJjaEVsZW1lbnQgLyosIGZyb21JbmRleCAqLyApIHtcclxuXHRcdGlmICh0aGlzID09PSBudWxsKSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoKTtcclxuXHRcdH1cclxuXHRcdHZhciB0ID0gT2JqZWN0KHRoaXMpO1xyXG5cdFx0dmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xyXG5cclxuXHRcdGlmIChsZW4gPT09IDApIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cdFx0dmFyIG4gPSAwO1xyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdG4gPSBOdW1iZXIoYXJndW1lbnRzWzFdKTtcclxuXHRcdFx0aWYgKG4gIT09IG4pIHsgLy8gc2hvcnRjdXQgZm9yIHZlcmlmeWluZyBpZiBpdCdzIE5hTlxyXG5cdFx0XHRcdG4gPSAwO1xyXG5cdFx0XHR9IGVsc2UgaWYgKG4gIT09IDAgJiYgbiAhPT0gSW5maW5pdHkgJiYgbiAhPT0gLUluZmluaXR5KSB7XHJcblx0XHRcdFx0biA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKG4gPj0gbGVuKSB7XHJcblx0XHRcdHJldHVybiAtMTtcclxuXHRcdH1cclxuXHRcdHZhciBrID0gbiA+PSAwID8gbiA6IE1hdGgubWF4KGxlbiAtIE1hdGguYWJzKG4pLCAwKTtcclxuXHRcdGZvciAoOyBrIDwgbGVuOyBrKyspIHtcclxuXHRcdFx0aWYgKGsgaW4gdCAmJiB0W2tdID09PSBzZWFyY2hFbGVtZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIGs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiAtMTtcclxuXHR9O1xyXG59XHJcblxyXG4vLyBHcnVuZ2V5IE9iamVjdC5pc0Zyb3plbiBoYWNrXHJcbmlmICghT2JqZWN0LmlzRnJvemVuKSB7XHJcblx0T2JqZWN0LmlzRnJvemVuID0gZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0dmFyIGtleSA9IFwidHY0X3Rlc3RfZnJvemVuX2tleVwiO1xyXG5cdFx0d2hpbGUgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdGtleSArPSBNYXRoLnJhbmRvbSgpO1xyXG5cdFx0fVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0b2JqW2tleV0gPSB0cnVlO1xyXG5cdFx0XHRkZWxldGUgb2JqW2tleV07XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG4vLyBCYXNlZCBvbjogaHR0cHM6Ly9naXRodWIuY29tL2dlcmFpbnRsdWZmL3VyaS10ZW1wbGF0ZXMsIGJ1dCB3aXRoIGFsbCB0aGUgZGUtc3Vic3RpdHV0aW9uIHN0dWZmIHJlbW92ZWRcclxuXHJcbnZhciB1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVycyA9IHtcclxuXHRcIitcIjogdHJ1ZSxcclxuXHRcIiNcIjogdHJ1ZSxcclxuXHRcIi5cIjogdHJ1ZSxcclxuXHRcIi9cIjogdHJ1ZSxcclxuXHRcIjtcIjogdHJ1ZSxcclxuXHRcIj9cIjogdHJ1ZSxcclxuXHRcIiZcIjogdHJ1ZVxyXG59O1xyXG52YXIgdXJpVGVtcGxhdGVTdWZmaWNlcyA9IHtcclxuXHRcIipcIjogdHJ1ZVxyXG59O1xyXG5cclxuZnVuY3Rpb24gbm90UmVhbGx5UGVyY2VudEVuY29kZShzdHJpbmcpIHtcclxuXHRyZXR1cm4gZW5jb2RlVVJJKHN0cmluZykucmVwbGFjZSgvJTI1WzAtOV1bMC05XS9nLCBmdW5jdGlvbiAoZG91YmxlRW5jb2RlZCkge1xyXG5cdFx0cmV0dXJuIFwiJVwiICsgZG91YmxlRW5jb2RlZC5zdWJzdHJpbmcoMyk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHNwZWMpIHtcclxuXHR2YXIgbW9kaWZpZXIgPSBcIlwiO1xyXG5cdGlmICh1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVyc1tzcGVjLmNoYXJBdCgwKV0pIHtcclxuXHRcdG1vZGlmaWVyID0gc3BlYy5jaGFyQXQoMCk7XHJcblx0XHRzcGVjID0gc3BlYy5zdWJzdHJpbmcoMSk7XHJcblx0fVxyXG5cdHZhciBzZXBhcmF0b3IgPSBcIlwiO1xyXG5cdHZhciBwcmVmaXggPSBcIlwiO1xyXG5cdHZhciBzaG91bGRFc2NhcGUgPSB0cnVlO1xyXG5cdHZhciBzaG93VmFyaWFibGVzID0gZmFsc2U7XHJcblx0dmFyIHRyaW1FbXB0eVN0cmluZyA9IGZhbHNlO1xyXG5cdGlmIChtb2RpZmllciA9PT0gJysnKSB7XHJcblx0XHRzaG91bGRFc2NhcGUgPSBmYWxzZTtcclxuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSBcIi5cIikge1xyXG5cdFx0cHJlZml4ID0gXCIuXCI7XHJcblx0XHRzZXBhcmF0b3IgPSBcIi5cIjtcclxuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSBcIi9cIikge1xyXG5cdFx0cHJlZml4ID0gXCIvXCI7XHJcblx0XHRzZXBhcmF0b3IgPSBcIi9cIjtcclxuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnIycpIHtcclxuXHRcdHByZWZpeCA9IFwiI1wiO1xyXG5cdFx0c2hvdWxkRXNjYXBlID0gZmFsc2U7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJzsnKSB7XHJcblx0XHRwcmVmaXggPSBcIjtcIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiO1wiO1xyXG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XHJcblx0XHR0cmltRW1wdHlTdHJpbmcgPSB0cnVlO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICc/Jykge1xyXG5cdFx0cHJlZml4ID0gXCI/XCI7XHJcblx0XHRzZXBhcmF0b3IgPSBcIiZcIjtcclxuXHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICcmJykge1xyXG5cdFx0cHJlZml4ID0gXCImXCI7XHJcblx0XHRzZXBhcmF0b3IgPSBcIiZcIjtcclxuXHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0dmFyIHZhck5hbWVzID0gW107XHJcblx0dmFyIHZhckxpc3QgPSBzcGVjLnNwbGl0KFwiLFwiKTtcclxuXHR2YXIgdmFyU3BlY3MgPSBbXTtcclxuXHR2YXIgdmFyU3BlY01hcCA9IHt9O1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdmFyTGlzdC5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHZhck5hbWUgPSB2YXJMaXN0W2ldO1xyXG5cdFx0dmFyIHRydW5jYXRlID0gbnVsbDtcclxuXHRcdGlmICh2YXJOYW1lLmluZGV4T2YoXCI6XCIpICE9PSAtMSkge1xyXG5cdFx0XHR2YXIgcGFydHMgPSB2YXJOYW1lLnNwbGl0KFwiOlwiKTtcclxuXHRcdFx0dmFyTmFtZSA9IHBhcnRzWzBdO1xyXG5cdFx0XHR0cnVuY2F0ZSA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7XHJcblx0XHR9XHJcblx0XHR2YXIgc3VmZmljZXMgPSB7fTtcclxuXHRcdHdoaWxlICh1cmlUZW1wbGF0ZVN1ZmZpY2VzW3Zhck5hbWUuY2hhckF0KHZhck5hbWUubGVuZ3RoIC0gMSldKSB7XHJcblx0XHRcdHN1ZmZpY2VzW3Zhck5hbWUuY2hhckF0KHZhck5hbWUubGVuZ3RoIC0gMSldID0gdHJ1ZTtcclxuXHRcdFx0dmFyTmFtZSA9IHZhck5hbWUuc3Vic3RyaW5nKDAsIHZhck5hbWUubGVuZ3RoIC0gMSk7XHJcblx0XHR9XHJcblx0XHR2YXIgdmFyU3BlYyA9IHtcclxuXHRcdFx0dHJ1bmNhdGU6IHRydW5jYXRlLFxyXG5cdFx0XHRuYW1lOiB2YXJOYW1lLFxyXG5cdFx0XHRzdWZmaWNlczogc3VmZmljZXNcclxuXHRcdH07XHJcblx0XHR2YXJTcGVjcy5wdXNoKHZhclNwZWMpO1xyXG5cdFx0dmFyU3BlY01hcFt2YXJOYW1lXSA9IHZhclNwZWM7XHJcblx0XHR2YXJOYW1lcy5wdXNoKHZhck5hbWUpO1xyXG5cdH1cclxuXHR2YXIgc3ViRnVuY3Rpb24gPSBmdW5jdGlvbiAodmFsdWVGdW5jdGlvbikge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFwiXCI7XHJcblx0XHR2YXIgc3RhcnRJbmRleCA9IDA7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHZhclNwZWNzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciB2YXJTcGVjID0gdmFyU3BlY3NbaV07XHJcblx0XHRcdHZhciB2YWx1ZSA9IHZhbHVlRnVuY3Rpb24odmFyU3BlYy5uYW1lKTtcclxuXHRcdFx0aWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgfHwgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMCkpIHtcclxuXHRcdFx0XHRzdGFydEluZGV4Kys7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGkgPT09IHN0YXJ0SW5kZXgpIHtcclxuXHRcdFx0XHRyZXN1bHQgKz0gcHJlZml4O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdCArPSAoc2VwYXJhdG9yIHx8IFwiLFwiKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuXHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcykge1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRpZiAoaiA+IDApIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/IChzZXBhcmF0b3IgfHwgXCIsXCIpIDogXCIsXCI7XHJcblx0XHRcdFx0XHRcdGlmICh2YXJTcGVjLnN1ZmZpY2VzWycqJ10gJiYgc2hvd1ZhcmlhYmxlcykge1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZVtqXSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKSA6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWVbal0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcyAmJiAhdmFyU3BlYy5zdWZmaWNlc1snKiddKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lICsgXCI9XCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBmaXJzdCA9IHRydWU7XHJcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHZhbHVlKSB7XHJcblx0XHRcdFx0XHRpZiAoIWZpcnN0KSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLnN1ZmZpY2VzWycqJ10gPyAoc2VwYXJhdG9yIHx8IFwiLFwiKSA6IFwiLFwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Zmlyc3QgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQoa2V5KS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpIDogbm90UmVhbGx5UGVyY2VudEVuY29kZShrZXkpO1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/ICc9JyA6IFwiLFwiO1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZVtrZXldKS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpIDogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZVtrZXldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMpIHtcclxuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWU7XHJcblx0XHRcdFx0XHRpZiAoIXRyaW1FbXB0eVN0cmluZyB8fCB2YWx1ZSAhPT0gXCJcIikge1xyXG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gXCI9XCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh2YXJTcGVjLnRydW5jYXRlICE9IG51bGwpIHtcclxuXHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHZhclNwZWMudHJ1bmNhdGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9O1xyXG5cdHN1YkZ1bmN0aW9uLnZhck5hbWVzID0gdmFyTmFtZXM7XHJcblx0cmV0dXJuIHtcclxuXHRcdHByZWZpeDogcHJlZml4LFxyXG5cdFx0c3Vic3RpdHV0aW9uOiBzdWJGdW5jdGlvblxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVyaVRlbXBsYXRlKHRlbXBsYXRlKSB7XHJcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFVyaVRlbXBsYXRlKSkge1xyXG5cdFx0cmV0dXJuIG5ldyBVcmlUZW1wbGF0ZSh0ZW1wbGF0ZSk7XHJcblx0fVxyXG5cdHZhciBwYXJ0cyA9IHRlbXBsYXRlLnNwbGl0KFwie1wiKTtcclxuXHR2YXIgdGV4dFBhcnRzID0gW3BhcnRzLnNoaWZ0KCldO1xyXG5cdHZhciBwcmVmaXhlcyA9IFtdO1xyXG5cdHZhciBzdWJzdGl0dXRpb25zID0gW107XHJcblx0dmFyIHZhck5hbWVzID0gW107XHJcblx0d2hpbGUgKHBhcnRzLmxlbmd0aCA+IDApIHtcclxuXHRcdHZhciBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcclxuXHRcdHZhciBzcGVjID0gcGFydC5zcGxpdChcIn1cIilbMF07XHJcblx0XHR2YXIgcmVtYWluZGVyID0gcGFydC5zdWJzdHJpbmcoc3BlYy5sZW5ndGggKyAxKTtcclxuXHRcdHZhciBmdW5jcyA9IHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHNwZWMpO1xyXG5cdFx0c3Vic3RpdHV0aW9ucy5wdXNoKGZ1bmNzLnN1YnN0aXR1dGlvbik7XHJcblx0XHRwcmVmaXhlcy5wdXNoKGZ1bmNzLnByZWZpeCk7XHJcblx0XHR0ZXh0UGFydHMucHVzaChyZW1haW5kZXIpO1xyXG5cdFx0dmFyTmFtZXMgPSB2YXJOYW1lcy5jb25jYXQoZnVuY3Muc3Vic3RpdHV0aW9uLnZhck5hbWVzKTtcclxuXHR9XHJcblx0dGhpcy5maWxsID0gZnVuY3Rpb24gKHZhbHVlRnVuY3Rpb24pIHtcclxuXHRcdHZhciByZXN1bHQgPSB0ZXh0UGFydHNbMF07XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN1YnN0aXR1dGlvbnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIHN1YnN0aXR1dGlvbiA9IHN1YnN0aXR1dGlvbnNbaV07XHJcblx0XHRcdHJlc3VsdCArPSBzdWJzdGl0dXRpb24odmFsdWVGdW5jdGlvbik7XHJcblx0XHRcdHJlc3VsdCArPSB0ZXh0UGFydHNbaSArIDFdO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9O1xyXG5cdHRoaXMudmFyTmFtZXMgPSB2YXJOYW1lcztcclxuXHR0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XHJcbn1cclxuVXJpVGVtcGxhdGUucHJvdG90eXBlID0ge1xyXG5cdHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy50ZW1wbGF0ZTtcclxuXHR9LFxyXG5cdGZpbGxGcm9tT2JqZWN0OiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5maWxsKGZ1bmN0aW9uICh2YXJOYW1lKSB7XHJcblx0XHRcdHJldHVybiBvYmpbdmFyTmFtZV07XHJcblx0XHR9KTtcclxuXHR9XHJcbn07XHJcbnZhciBWYWxpZGF0b3JDb250ZXh0ID0gZnVuY3Rpb24gVmFsaWRhdG9yQ29udGV4dChwYXJlbnQsIGNvbGxlY3RNdWx0aXBsZSwgZXJyb3JSZXBvcnRlciwgY2hlY2tSZWN1cnNpdmUsIHRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHR0aGlzLm1pc3NpbmcgPSBbXTtcclxuXHR0aGlzLm1pc3NpbmdNYXAgPSB7fTtcclxuXHR0aGlzLmZvcm1hdFZhbGlkYXRvcnMgPSBwYXJlbnQgPyBPYmplY3QuY3JlYXRlKHBhcmVudC5mb3JtYXRWYWxpZGF0b3JzKSA6IHt9O1xyXG5cdHRoaXMuc2NoZW1hcyA9IHBhcmVudCA/IE9iamVjdC5jcmVhdGUocGFyZW50LnNjaGVtYXMpIDoge307XHJcblx0dGhpcy5jb2xsZWN0TXVsdGlwbGUgPSBjb2xsZWN0TXVsdGlwbGU7XHJcblx0dGhpcy5lcnJvcnMgPSBbXTtcclxuXHR0aGlzLmhhbmRsZUVycm9yID0gY29sbGVjdE11bHRpcGxlID8gdGhpcy5jb2xsZWN0RXJyb3IgOiB0aGlzLnJldHVybkVycm9yO1xyXG5cdGlmIChjaGVja1JlY3Vyc2l2ZSkge1xyXG5cdFx0dGhpcy5jaGVja1JlY3Vyc2l2ZSA9IHRydWU7XHJcblx0XHR0aGlzLnNjYW5uZWQgPSBbXTtcclxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plbiA9IFtdO1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcyA9IFtdO1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycyA9IFtdO1xyXG5cdFx0dGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5ID0gJ3R2NF92YWxpZGF0aW9uX2lkJztcclxuXHRcdHRoaXMudmFsaWRhdGlvbkVycm9yc0tleSA9ICd0djRfdmFsaWRhdGlvbl9lcnJvcnNfaWQnO1xyXG5cdH1cclxuXHRpZiAodHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzID0gdHJ1ZTtcclxuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0fVxyXG5cdHRoaXMuZXJyb3JSZXBvcnRlciA9IGVycm9yUmVwb3J0ZXIgfHwgZGVmYXVsdEVycm9yUmVwb3J0ZXIoJ2VuJyk7XHJcblx0aWYgKHR5cGVvZiB0aGlzLmVycm9yUmVwb3J0ZXIgPT09ICdzdHJpbmcnKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2RlYnVnJyk7XHJcblx0fVxyXG5cdHRoaXMuZGVmaW5lZEtleXdvcmRzID0ge307XHJcblx0aWYgKHBhcmVudCkge1xyXG5cdFx0Zm9yICh2YXIga2V5IGluIHBhcmVudC5kZWZpbmVkS2V5d29yZHMpIHtcclxuXHRcdFx0dGhpcy5kZWZpbmVkS2V5d29yZHNba2V5XSA9IHBhcmVudC5kZWZpbmVkS2V5d29yZHNba2V5XS5zbGljZSgwKTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmRlZmluZUtleXdvcmQgPSBmdW5jdGlvbiAoa2V5d29yZCwga2V5d29yZEZ1bmN0aW9uKSB7XHJcblx0dGhpcy5kZWZpbmVkS2V5d29yZHNba2V5d29yZF0gPSB0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXl3b3JkXSB8fCBbXTtcclxuXHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXl3b3JkXS5wdXNoKGtleXdvcmRGdW5jdGlvbik7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmNyZWF0ZUVycm9yID0gZnVuY3Rpb24gKGNvZGUsIG1lc3NhZ2VQYXJhbXMsIGRhdGFQYXRoLCBzY2hlbWFQYXRoLCBzdWJFcnJvcnMsIGRhdGEsIHNjaGVtYSkge1xyXG5cdHZhciBlcnJvciA9IG5ldyBWYWxpZGF0aW9uRXJyb3IoY29kZSwgbWVzc2FnZVBhcmFtcywgZGF0YVBhdGgsIHNjaGVtYVBhdGgsIHN1YkVycm9ycyk7XHJcblx0ZXJyb3IubWVzc2FnZSA9IHRoaXMuZXJyb3JSZXBvcnRlcihlcnJvciwgZGF0YSwgc2NoZW1hKTtcclxuXHRyZXR1cm4gZXJyb3I7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnJldHVybkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0cmV0dXJuIGVycm9yO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5jb2xsZWN0RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRpZiAoZXJyb3IpIHtcclxuXHRcdHRoaXMuZXJyb3JzLnB1c2goZXJyb3IpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucHJlZml4RXJyb3JzID0gZnVuY3Rpb24gKHN0YXJ0SW5kZXgsIGRhdGFQYXRoLCBzY2hlbWFQYXRoKSB7XHJcblx0Zm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0aGlzLmVycm9ycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dGhpcy5lcnJvcnNbaV0gPSB0aGlzLmVycm9yc1tpXS5wcmVmaXhXaXRoKGRhdGFQYXRoLCBzY2hlbWFQYXRoKTtcclxuXHR9XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmJhblVua25vd25Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSkge1xyXG5cdGZvciAodmFyIHVua25vd25QYXRoIGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpIHtcclxuXHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5VTktOT1dOX1BST1BFUlRZLCB7cGF0aDogdW5rbm93blBhdGh9LCB1bmtub3duUGF0aCwgXCJcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdHZhciByZXN1bHQgPSB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcclxuXHRcdGlmIChyZXN1bHQpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5hZGRGb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0LCB2YWxpZGF0b3IpIHtcclxuXHRpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ29iamVjdCcpIHtcclxuXHRcdGZvciAodmFyIGtleSBpbiBmb3JtYXQpIHtcclxuXHRcdFx0dGhpcy5hZGRGb3JtYXQoa2V5LCBmb3JtYXRba2V5XSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblx0dGhpcy5mb3JtYXRWYWxpZGF0b3JzW2Zvcm1hdF0gPSB2YWxpZGF0b3I7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnJlc29sdmVSZWZzID0gZnVuY3Rpb24gKHNjaGVtYSwgdXJsSGlzdG9yeSkge1xyXG5cdGlmIChzY2hlbWFbJyRyZWYnXSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHR1cmxIaXN0b3J5ID0gdXJsSGlzdG9yeSB8fCB7fTtcclxuXHRcdGlmICh1cmxIaXN0b3J5W3NjaGVtYVsnJHJlZiddXSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkNJUkNVTEFSX1JFRkVSRU5DRSwge3VybHM6IE9iamVjdC5rZXlzKHVybEhpc3RvcnkpLmpvaW4oJywgJyl9LCAnJywgJycsIG51bGwsIHVuZGVmaW5lZCwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHRcdHVybEhpc3Rvcnlbc2NoZW1hWyckcmVmJ11dID0gdHJ1ZTtcclxuXHRcdHNjaGVtYSA9IHRoaXMuZ2V0U2NoZW1hKHNjaGVtYVsnJHJlZiddLCB1cmxIaXN0b3J5KTtcclxuXHR9XHJcblx0cmV0dXJuIHNjaGVtYTtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0U2NoZW1hID0gZnVuY3Rpb24gKHVybCwgdXJsSGlzdG9yeSkge1xyXG5cdHZhciBzY2hlbWE7XHJcblx0aWYgKHRoaXMuc2NoZW1hc1t1cmxdICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdHNjaGVtYSA9IHRoaXMuc2NoZW1hc1t1cmxdO1xyXG5cdFx0cmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hLCB1cmxIaXN0b3J5KTtcclxuXHR9XHJcblx0dmFyIGJhc2VVcmwgPSB1cmw7XHJcblx0dmFyIGZyYWdtZW50ID0gXCJcIjtcclxuXHRpZiAodXJsLmluZGV4T2YoJyMnKSAhPT0gLTEpIHtcclxuXHRcdGZyYWdtZW50ID0gdXJsLnN1YnN0cmluZyh1cmwuaW5kZXhPZihcIiNcIikgKyAxKTtcclxuXHRcdGJhc2VVcmwgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5pbmRleE9mKFwiI1wiKSk7XHJcblx0fVxyXG5cdGlmICh0eXBlb2YgdGhpcy5zY2hlbWFzW2Jhc2VVcmxdID09PSAnb2JqZWN0Jykge1xyXG5cdFx0c2NoZW1hID0gdGhpcy5zY2hlbWFzW2Jhc2VVcmxdO1xyXG5cdFx0dmFyIHBvaW50ZXJQYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGZyYWdtZW50KTtcclxuXHRcdGlmIChwb2ludGVyUGF0aCA9PT0gXCJcIikge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEsIHVybEhpc3RvcnkpO1xyXG5cdFx0fSBlbHNlIGlmIChwb2ludGVyUGF0aC5jaGFyQXQoMCkgIT09IFwiL1wiKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblx0XHR2YXIgcGFydHMgPSBwb2ludGVyUGF0aC5zcGxpdChcIi9cIikuc2xpY2UoMSk7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBjb21wb25lbnQgPSBwYXJ0c1tpXS5yZXBsYWNlKC9+MS9nLCBcIi9cIikucmVwbGFjZSgvfjAvZywgXCJ+XCIpO1xyXG5cdFx0XHRpZiAoc2NoZW1hW2NvbXBvbmVudF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHNjaGVtYSA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRzY2hlbWEgPSBzY2hlbWFbY29tcG9uZW50XTtcclxuXHRcdH1cclxuXHRcdGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEsIHVybEhpc3RvcnkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAodGhpcy5taXNzaW5nW2Jhc2VVcmxdID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHRoaXMubWlzc2luZy5wdXNoKGJhc2VVcmwpO1xyXG5cdFx0dGhpcy5taXNzaW5nW2Jhc2VVcmxdID0gYmFzZVVybDtcclxuXHRcdHRoaXMubWlzc2luZ01hcFtiYXNlVXJsXSA9IGJhc2VVcmw7XHJcblx0fVxyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5zZWFyY2hTY2hlbWFzID0gZnVuY3Rpb24gKHNjaGVtYSwgdXJsKSB7XHJcblx0aWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5zZWFyY2hTY2hlbWFzKHNjaGVtYVtpXSwgdXJsKTtcclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRpZiAodHlwZW9mIHNjaGVtYS5pZCA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRpZiAoaXNUcnVzdGVkVXJsKHVybCwgc2NoZW1hLmlkKSkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnNjaGVtYXNbc2NoZW1hLmlkXSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNjaGVtYXNbc2NoZW1hLmlkXSA9IHNjaGVtYTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcclxuXHRcdFx0aWYgKGtleSAhPT0gXCJlbnVtXCIpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIHNjaGVtYVtrZXldID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNlYXJjaFNjaGVtYXMoc2NoZW1hW2tleV0sIHVybCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChrZXkgPT09IFwiJHJlZlwiKSB7XHJcblx0XHRcdFx0XHR2YXIgdXJpID0gZ2V0RG9jdW1lbnRVcmkoc2NoZW1hW2tleV0pO1xyXG5cdFx0XHRcdFx0aWYgKHVyaSAmJiB0aGlzLnNjaGVtYXNbdXJpXSA9PT0gdW5kZWZpbmVkICYmIHRoaXMubWlzc2luZ01hcFt1cmldID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5taXNzaW5nTWFwW3VyaV0gPSB1cmk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5hZGRTY2hlbWEgPSBmdW5jdGlvbiAodXJsLCBzY2hlbWEpIHtcclxuXHQvL292ZXJsb2FkXHJcblx0aWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBzY2hlbWEgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRpZiAodHlwZW9mIHVybCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHVybC5pZCA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0c2NoZW1hID0gdXJsO1xyXG5cdFx0XHR1cmwgPSBzY2hlbWEuaWQ7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAodXJsID09PSBnZXREb2N1bWVudFVyaSh1cmwpICsgXCIjXCIpIHtcclxuXHRcdC8vIFJlbW92ZSBlbXB0eSBmcmFnbWVudFxyXG5cdFx0dXJsID0gZ2V0RG9jdW1lbnRVcmkodXJsKTtcclxuXHR9XHJcblx0dGhpcy5zY2hlbWFzW3VybF0gPSBzY2hlbWE7XHJcblx0ZGVsZXRlIHRoaXMubWlzc2luZ01hcFt1cmxdO1xyXG5cdG5vcm1TY2hlbWEoc2NoZW1hLCB1cmwpO1xyXG5cdHRoaXMuc2VhcmNoU2NoZW1hcyhzY2hlbWEsIHVybCk7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRTY2hlbWFNYXAgPSBmdW5jdGlvbiAoKSB7XHJcblx0dmFyIG1hcCA9IHt9O1xyXG5cdGZvciAodmFyIGtleSBpbiB0aGlzLnNjaGVtYXMpIHtcclxuXHRcdG1hcFtrZXldID0gdGhpcy5zY2hlbWFzW2tleV07XHJcblx0fVxyXG5cdHJldHVybiBtYXA7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRTY2hlbWFVcmlzID0gZnVuY3Rpb24gKGZpbHRlclJlZ0V4cCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuc2NoZW1hcykge1xyXG5cdFx0aWYgKCFmaWx0ZXJSZWdFeHAgfHwgZmlsdGVyUmVnRXhwLnRlc3Qoa2V5KSkge1xyXG5cdFx0XHRsaXN0LnB1c2goa2V5KTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRNaXNzaW5nVXJpcyA9IGZ1bmN0aW9uIChmaWx0ZXJSZWdFeHApIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cdGZvciAodmFyIGtleSBpbiB0aGlzLm1pc3NpbmdNYXApIHtcclxuXHRcdGlmICghZmlsdGVyUmVnRXhwIHx8IGZpbHRlclJlZ0V4cC50ZXN0KGtleSkpIHtcclxuXHRcdFx0bGlzdC5wdXNoKGtleSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZHJvcFNjaGVtYXMgPSBmdW5jdGlvbiAoKSB7XHJcblx0dGhpcy5zY2hlbWFzID0ge307XHJcblx0dGhpcy5yZXNldCgpO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuXHR0aGlzLm1pc3NpbmcgPSBbXTtcclxuXHR0aGlzLm1pc3NpbmdNYXAgPSB7fTtcclxuXHR0aGlzLmVycm9ycyA9IFtdO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBbGwgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBkYXRhUGF0aFBhcnRzLCBzY2hlbWFQYXRoUGFydHMsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHZhciB0b3BMZXZlbDtcclxuXHRzY2hlbWEgPSB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSk7XHJcblx0aWYgKCFzY2hlbWEpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH0gZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSB7XHJcblx0XHR0aGlzLmVycm9ycy5wdXNoKHNjaGVtYSk7XHJcblx0XHRyZXR1cm4gc2NoZW1hO1xyXG5cdH1cclxuXHJcblx0dmFyIHN0YXJ0RXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHR2YXIgZnJvemVuSW5kZXgsIHNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCA9IG51bGwsIHNjYW5uZWRTY2hlbWFzSW5kZXggPSBudWxsO1xyXG5cdGlmICh0aGlzLmNoZWNrUmVjdXJzaXZlICYmIGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XHJcblx0XHR0b3BMZXZlbCA9ICF0aGlzLnNjYW5uZWQubGVuZ3RoO1xyXG5cdFx0aWYgKGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSkge1xyXG5cdFx0XHR2YXIgc2NoZW1hSW5kZXggPSBkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0uaW5kZXhPZihzY2hlbWEpO1xyXG5cdFx0XHRpZiAoc2NoZW1hSW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5jb25jYXQoZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3NjaGVtYUluZGV4XSk7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChPYmplY3QuaXNGcm96ZW4oZGF0YSkpIHtcclxuXHRcdFx0ZnJvemVuSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW4uaW5kZXhPZihkYXRhKTtcclxuXHRcdFx0aWYgKGZyb3plbkluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRcdHZhciBmcm96ZW5TY2hlbWFJbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbZnJvemVuSW5kZXhdLmluZGV4T2Yoc2NoZW1hKTtcclxuXHRcdFx0XHRpZiAoZnJvemVuU2NoZW1hSW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmNvbmNhdCh0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2Zyb3plbkluZGV4XVtmcm96ZW5TY2hlbWFJbmRleF0pO1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0aGlzLnNjYW5uZWQucHVzaChkYXRhKTtcclxuXHRcdGlmIChPYmplY3QuaXNGcm96ZW4oZGF0YSkpIHtcclxuXHRcdFx0aWYgKGZyb3plbkluZGV4ID09PSAtMSkge1xyXG5cdFx0XHRcdGZyb3plbkluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuLmxlbmd0aDtcclxuXHRcdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW4ucHVzaChkYXRhKTtcclxuXHRcdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzLnB1c2goW10pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbZnJvemVuSW5kZXhdLmxlbmd0aDtcclxuXHRcdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF1bc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4XSA9IHNjaGVtYTtcclxuXHRcdFx0dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tmcm96ZW5JbmRleF1bc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4XSA9IFtdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKCFkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pIHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRhdGEsIHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSwge1xyXG5cdFx0XHRcdFx0XHR2YWx1ZTogW10sXHJcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGF0YSwgdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5LCB7XHJcblx0XHRcdFx0XHRcdHZhbHVlOiBbXSxcclxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHQvL0lFIDcvOCB3b3JrYXJvdW5kXHJcblx0XHRcdFx0XHRkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0gPSBbXTtcclxuXHRcdFx0XHRcdGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XSA9IFtdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRzY2FubmVkU2NoZW1hc0luZGV4ID0gZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmxlbmd0aDtcclxuXHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldW3NjYW5uZWRTY2hlbWFzSW5kZXhdID0gc2NoZW1hO1xyXG5cdFx0XHRkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSBbXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBlcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVCYXNpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVOdW1lcmljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZVN0cmluZyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVBcnJheShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlQ29tYmluYXRpb25zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUh5cGVybWVkaWEoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlRm9ybWF0KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZURlZmluZWRLZXl3b3JkcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcblxyXG5cdGlmICh0b3BMZXZlbCkge1xyXG5cdFx0d2hpbGUgKHRoaXMuc2Nhbm5lZC5sZW5ndGgpIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzLnNjYW5uZWQucG9wKCk7XHJcblx0XHRcdGRlbGV0ZSBpdGVtW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV07XHJcblx0XHR9XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW4gPSBbXTtcclxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMgPSBbXTtcclxuXHR9XHJcblxyXG5cdGlmIChlcnJvciB8fCBlcnJvckNvdW50ICE9PSB0aGlzLmVycm9ycy5sZW5ndGgpIHtcclxuXHRcdHdoaWxlICgoZGF0YVBhdGhQYXJ0cyAmJiBkYXRhUGF0aFBhcnRzLmxlbmd0aCkgfHwgKHNjaGVtYVBhdGhQYXJ0cyAmJiBzY2hlbWFQYXRoUGFydHMubGVuZ3RoKSkge1xyXG5cdFx0XHR2YXIgZGF0YVBhcnQgPSAoZGF0YVBhdGhQYXJ0cyAmJiBkYXRhUGF0aFBhcnRzLmxlbmd0aCkgPyBcIlwiICsgZGF0YVBhdGhQYXJ0cy5wb3AoKSA6IG51bGw7XHJcblx0XHRcdHZhciBzY2hlbWFQYXJ0ID0gKHNjaGVtYVBhdGhQYXJ0cyAmJiBzY2hlbWFQYXRoUGFydHMubGVuZ3RoKSA/IFwiXCIgKyBzY2hlbWFQYXRoUGFydHMucG9wKCkgOiBudWxsO1xyXG5cdFx0XHRpZiAoZXJyb3IpIHtcclxuXHRcdFx0XHRlcnJvciA9IGVycm9yLnByZWZpeFdpdGgoZGF0YVBhcnQsIHNjaGVtYVBhcnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMucHJlZml4RXJyb3JzKGVycm9yQ291bnQsIGRhdGFQYXJ0LCBzY2hlbWFQYXJ0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChzY2FubmVkRnJvemVuU2NoZW1hSW5kZXggIT09IG51bGwpIHtcclxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbZnJvemVuSW5kZXhdW3NjYW5uZWRGcm96ZW5TY2hlbWFJbmRleF0gPSB0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpO1xyXG5cdH0gZWxzZSBpZiAoc2Nhbm5lZFNjaGVtYXNJbmRleCAhPT0gbnVsbCkge1xyXG5cdFx0ZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3NjYW5uZWRTY2hlbWFzSW5kZXhdID0gdGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBzY2hlbWEuZm9ybWF0ICE9PSAnc3RyaW5nJyB8fCAhdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3NjaGVtYS5mb3JtYXRdKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9yTWVzc2FnZSA9IHRoaXMuZm9ybWF0VmFsaWRhdG9yc1tzY2hlbWEuZm9ybWF0XS5jYWxsKG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0aWYgKHR5cGVvZiBlcnJvck1lc3NhZ2UgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBlcnJvck1lc3NhZ2UgPT09ICdudW1iZXInKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkZPUk1BVF9DVVNUT00sIHttZXNzYWdlOiBlcnJvck1lc3NhZ2V9LCAnJywgJy9mb3JtYXQnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlICYmIHR5cGVvZiBlcnJvck1lc3NhZ2UgPT09ICdvYmplY3QnKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkZPUk1BVF9DVVNUT00sIHttZXNzYWdlOiBlcnJvck1lc3NhZ2UubWVzc2FnZSB8fCBcIj9cIn0sIGVycm9yTWVzc2FnZS5kYXRhUGF0aCB8fCAnJywgZXJyb3JNZXNzYWdlLnNjaGVtYVBhdGggfHwgXCIvZm9ybWF0XCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZURlZmluZWRLZXl3b3JkcyA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGZvciAodmFyIGtleSBpbiB0aGlzLmRlZmluZWRLZXl3b3Jkcykge1xyXG5cdFx0aWYgKHR5cGVvZiBzY2hlbWFba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0Y29udGludWU7XHJcblx0XHR9XHJcblx0XHR2YXIgdmFsaWRhdGlvbkZ1bmN0aW9ucyA9IHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleV07XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHZhbGlkYXRpb25GdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGZ1bmMgPSB2YWxpZGF0aW9uRnVuY3Rpb25zW2ldO1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gZnVuYyhkYXRhLCBzY2hlbWFba2V5XSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpO1xyXG5cdFx0XHRpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLktFWVdPUkRfQ1VTVE9NLCB7a2V5OiBrZXksIG1lc3NhZ2U6IHJlc3VsdH0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKG51bGwsIGtleSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0dmFyIGNvZGUgPSByZXN1bHQuY29kZTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRpZiAoIUVycm9yQ29kZXNbY29kZV0pIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmRlZmluZWQgZXJyb3IgY29kZSAodXNlIGRlZmluZUVycm9yKTogJyArIGNvZGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29kZSA9IEVycm9yQ29kZXNbY29kZV07XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgY29kZSAhPT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHRcdGNvZGUgPSBFcnJvckNvZGVzLktFWVdPUkRfQ1VTVE9NO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR2YXIgbWVzc2FnZVBhcmFtcyA9ICh0eXBlb2YgcmVzdWx0Lm1lc3NhZ2UgPT09ICdvYmplY3QnKSA/IHJlc3VsdC5tZXNzYWdlIDoge2tleToga2V5LCBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB8fCBcIj9cIn07XHJcblx0XHRcdFx0dmFyIHNjaGVtYVBhdGggPSByZXN1bHQuc2NoZW1hUGF0aCB8fCAoXCIvXCIgKyBrZXkucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJykpO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGNvZGUsIG1lc3NhZ2VQYXJhbXMsIHJlc3VsdC5kYXRhUGF0aCB8fCBudWxsLCBzY2hlbWFQYXRoLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVjdXJzaXZlQ29tcGFyZShBLCBCKSB7XHJcblx0aWYgKEEgPT09IEIpIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHRpZiAoQSAmJiBCICYmIHR5cGVvZiBBID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBCID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRpZiAoQXJyYXkuaXNBcnJheShBKSAhPT0gQXJyYXkuaXNBcnJheShCKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQSkpIHtcclxuXHRcdFx0aWYgKEEubGVuZ3RoICE9PSBCLmxlbmd0aCkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IEEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoIXJlY3Vyc2l2ZUNvbXBhcmUoQVtpXSwgQltpXSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBrZXk7XHJcblx0XHRcdGZvciAoa2V5IGluIEEpIHtcclxuXHRcdFx0XHRpZiAoQltrZXldID09PSB1bmRlZmluZWQgJiYgQVtrZXldICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yIChrZXkgaW4gQikge1xyXG5cdFx0XHRcdGlmIChBW2tleV0gPT09IHVuZGVmaW5lZCAmJiBCW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKGtleSBpbiBBKSB7XHJcblx0XHRcdFx0aWYgKCFyZWN1cnNpdmVDb21wYXJlKEFba2V5XSwgQltrZXldKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVCYXNpYyA9IGZ1bmN0aW9uIHZhbGlkYXRlQmFzaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHR2YXIgZXJyb3I7XHJcblx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZVR5cGUoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpKSB7XHJcblx0XHRyZXR1cm4gZXJyb3IucHJlZml4V2l0aChudWxsLCBcInR5cGVcIik7XHJcblx0fVxyXG5cdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVFbnVtKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0cmV0dXJuIGVycm9yLnByZWZpeFdpdGgobnVsbCwgXCJ0eXBlXCIpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlVHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZShkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAoc2NoZW1hLnR5cGUgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBkYXRhVHlwZSA9IHR5cGVvZiBkYXRhO1xyXG5cdGlmIChkYXRhID09PSBudWxsKSB7XHJcblx0XHRkYXRhVHlwZSA9IFwibnVsbFwiO1xyXG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG5cdFx0ZGF0YVR5cGUgPSBcImFycmF5XCI7XHJcblx0fVxyXG5cdHZhciBhbGxvd2VkVHlwZXMgPSBzY2hlbWEudHlwZTtcclxuXHRpZiAoIUFycmF5LmlzQXJyYXkoYWxsb3dlZFR5cGVzKSkge1xyXG5cdFx0YWxsb3dlZFR5cGVzID0gW2FsbG93ZWRUeXBlc107XHJcblx0fVxyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFsbG93ZWRUeXBlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHR5cGUgPSBhbGxvd2VkVHlwZXNbaV07XHJcblx0XHRpZiAodHlwZSA9PT0gZGF0YVR5cGUgfHwgKHR5cGUgPT09IFwiaW50ZWdlclwiICYmIGRhdGFUeXBlID09PSBcIm51bWJlclwiICYmIChkYXRhICUgMSA9PT0gMCkpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLklOVkFMSURfVFlQRSwge3R5cGU6IGRhdGFUeXBlLCBleHBlY3RlZDogYWxsb3dlZFR5cGVzLmpvaW4oXCIvXCIpfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVFbnVtID0gZnVuY3Rpb24gdmFsaWRhdGVFbnVtKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmIChzY2hlbWFbXCJlbnVtXCJdID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYVtcImVudW1cIl0ubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBlbnVtVmFsID0gc2NoZW1hW1wiZW51bVwiXVtpXTtcclxuXHRcdGlmIChyZWN1cnNpdmVDb21wYXJlKGRhdGEsIGVudW1WYWwpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkVOVU1fTUlTTUFUQ0gsIHt2YWx1ZTogKHR5cGVvZiBKU09OICE9PSAndW5kZWZpbmVkJykgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IGRhdGF9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU51bWVyaWMgPSBmdW5jdGlvbiB2YWxpZGF0ZU51bWVyaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlTWluTWF4KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU5hTihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcbn07XHJcblxyXG52YXIgQ0xPU0VfRU5PVUdIX0xPVyA9IE1hdGgucG93KDIsIC01MSk7XHJcbnZhciBDTE9TRV9FTk9VR0hfSElHSCA9IDEgLSBDTE9TRV9FTk9VR0hfTE9XO1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU11bHRpcGxlT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlT2YoZGF0YSwgc2NoZW1hKSB7XHJcblx0dmFyIG11bHRpcGxlT2YgPSBzY2hlbWEubXVsdGlwbGVPZiB8fCBzY2hlbWEuZGl2aXNpYmxlQnk7XHJcblx0aWYgKG11bHRpcGxlT2YgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmICh0eXBlb2YgZGF0YSA9PT0gXCJudW1iZXJcIikge1xyXG5cdFx0dmFyIHJlbWFpbmRlciA9IChkYXRhL211bHRpcGxlT2YpJTE7XHJcblx0XHRpZiAocmVtYWluZGVyID49IENMT1NFX0VOT1VHSF9MT1cgJiYgcmVtYWluZGVyIDwgQ0xPU0VfRU5PVUdIX0hJR0gpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTVVMVElQTEVfT0YsIHt2YWx1ZTogZGF0YSwgbXVsdGlwbGVPZjogbXVsdGlwbGVPZn0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU1pbk1heCA9IGZ1bmN0aW9uIHZhbGlkYXRlTWluTWF4KGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIikge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWluaW11bSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoZGF0YSA8IHNjaGVtYS5taW5pbXVtKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01JTklNVU0sIHt2YWx1ZTogZGF0YSwgbWluaW11bTogc2NoZW1hLm1pbmltdW19LCAnJywgJy9taW5pbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHRcdGlmIChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSAmJiBkYXRhID09PSBzY2hlbWEubWluaW11bSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRSwge3ZhbHVlOiBkYXRhLCBtaW5pbXVtOiBzY2hlbWEubWluaW11bX0sICcnLCAnL2V4Y2x1c2l2ZU1pbmltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoc2NoZW1hLm1heGltdW0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGRhdGEgPiBzY2hlbWEubWF4aW11bSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NQVhJTVVNLCB7dmFsdWU6IGRhdGEsIG1heGltdW06IHNjaGVtYS5tYXhpbXVtfSwgJycsICcvbWF4aW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0XHRpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gJiYgZGF0YSA9PT0gc2NoZW1hLm1heGltdW0pIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUFYSU1VTV9FWENMVVNJVkUsIHt2YWx1ZTogZGF0YSwgbWF4aW11bTogc2NoZW1hLm1heGltdW19LCAnJywgJy9leGNsdXNpdmVNYXhpbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU5hTiA9IGZ1bmN0aW9uIHZhbGlkYXRlTmFOKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIikge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmIChpc05hTihkYXRhKSA9PT0gdHJ1ZSB8fCBkYXRhID09PSBJbmZpbml0eSB8fCBkYXRhID09PSAtSW5maW5pdHkpIHtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX05PVF9BX05VTUJFUiwge3ZhbHVlOiBkYXRhfSwgJycsICcvdHlwZScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmcgPSBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHJldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nTGVuZ3RoKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmdMZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZ0xlbmd0aChkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRpZiAoc2NoZW1hLm1pbkxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoZGF0YS5sZW5ndGggPCBzY2hlbWEubWluTGVuZ3RoKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuU1RSSU5HX0xFTkdUSF9TSE9SVCwge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1pbmltdW06IHNjaGVtYS5taW5MZW5ndGh9LCAnJywgJy9taW5MZW5ndGgnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoc2NoZW1hLm1heExlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoZGF0YS5sZW5ndGggPiBzY2hlbWEubWF4TGVuZ3RoKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuU1RSSU5HX0xFTkdUSF9MT05HLCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWF4aW11bTogc2NoZW1hLm1heExlbmd0aH0sICcnLCAnL21heExlbmd0aCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmdQYXR0ZXJuID0gZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmdQYXR0ZXJuKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiB8fCAodHlwZW9mIHNjaGVtYS5wYXR0ZXJuICE9PSBcInN0cmluZ1wiICYmICEoc2NoZW1hLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApKSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciByZWdleHA7XHJcblx0aWYgKHNjaGVtYS5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7XHJcblx0ICByZWdleHAgPSBzY2hlbWEucGF0dGVybjtcclxuXHR9XHJcblx0ZWxzZSB7XHJcblx0ICB2YXIgYm9keSwgZmxhZ3MgPSAnJztcclxuXHQgIC8vIENoZWNrIGZvciByZWd1bGFyIGV4cHJlc3Npb24gbGl0ZXJhbHNcclxuXHQgIC8vIEBzZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTcuOC41XHJcblx0ICB2YXIgbGl0ZXJhbCA9IHNjaGVtYS5wYXR0ZXJuLm1hdGNoKC9eXFwvKC4rKVxcLyhbaW1nXSopJC8pO1xyXG5cdCAgaWYgKGxpdGVyYWwpIHtcclxuXHQgICAgYm9keSA9IGxpdGVyYWxbMV07XHJcblx0ICAgIGZsYWdzID0gbGl0ZXJhbFsyXTtcclxuXHQgIH1cclxuXHQgIGVsc2Uge1xyXG5cdCAgICBib2R5ID0gc2NoZW1hLnBhdHRlcm47XHJcblx0ICB9XHJcblx0ICByZWdleHAgPSBuZXcgUmVnRXhwKGJvZHksIGZsYWdzKTtcclxuXHR9XHJcblx0aWYgKCFyZWdleHAudGVzdChkYXRhKSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfUEFUVEVSTiwge3BhdHRlcm46IHNjaGVtYS5wYXR0ZXJufSwgJycsICcvcGF0dGVybicsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheSA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXkoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZUFycmF5TGVuZ3RoKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlQXJyYXlJdGVtcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5TGVuZ3RoID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheUxlbmd0aChkYXRhLCBzY2hlbWEpIHtcclxuXHR2YXIgZXJyb3I7XHJcblx0aWYgKHNjaGVtYS5taW5JdGVtcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoZGF0YS5sZW5ndGggPCBzY2hlbWEubWluSXRlbXMpIHtcclxuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfTEVOR1RIX1NIT1JULCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWluaW11bTogc2NoZW1hLm1pbkl0ZW1zfSwgJycsICcvbWluSXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHNjaGVtYS5tYXhJdGVtcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoZGF0YS5sZW5ndGggPiBzY2hlbWEubWF4SXRlbXMpIHtcclxuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfTEVOR1RIX0xPTkcsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtYXhpbXVtOiBzY2hlbWEubWF4SXRlbXN9LCAnJywgJy9tYXhJdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyhkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Zm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGlmIChyZWN1cnNpdmVDb21wYXJlKGRhdGFbaV0sIGRhdGFbal0pKSB7XHJcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfVU5JUVVFLCB7bWF0Y2gxOiBpLCBtYXRjaDI6IGp9LCAnJywgJy91bmlxdWVJdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXlJdGVtcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmIChzY2hlbWEuaXRlbXMgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBlcnJvciwgaTtcclxuXHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpKSB7XHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoaSA8IHNjaGVtYS5pdGVtcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFbaV0sIHNjaGVtYS5pdGVtc1tpXSwgW2ldLCBbXCJpdGVtc1wiLCBpXSwgZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBpKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChzY2hlbWEuYWRkaXRpb25hbEl0ZW1zICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgPT09IFwiYm9vbGVhblwiKSB7XHJcblx0XHRcdFx0XHRpZiAoIXNjaGVtYS5hZGRpdGlvbmFsSXRlbXMpIHtcclxuXHRcdFx0XHRcdFx0ZXJyb3IgPSAodGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX0FERElUSU9OQUxfSVRFTVMsIHt9LCAnLycgKyBpLCAnL2FkZGl0aW9uYWxJdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSkpO1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2ldLCBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zLCBbaV0sIFtcImFkZGl0aW9uYWxJdGVtc1wiXSwgZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBpKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0gZWxzZSB7XHJcblx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFbaV0sIHNjaGVtYS5pdGVtcywgW2ldLCBbXCJpdGVtc1wiXSwgZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBpKSkge1xyXG5cdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0ID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIgfHwgZGF0YSA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKSB7XHJcblx0dmFyIGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcclxuXHR2YXIgZXJyb3I7XHJcblx0aWYgKHNjaGVtYS5taW5Qcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChrZXlzLmxlbmd0aCA8IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU0sIHtwcm9wZXJ0eUNvdW50OiBrZXlzLmxlbmd0aCwgbWluaW11bTogc2NoZW1hLm1pblByb3BlcnRpZXN9LCAnJywgJy9taW5Qcm9wZXJ0aWVzJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWF4UHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoa2V5cy5sZW5ndGggPiBzY2hlbWEubWF4UHJvcGVydGllcykge1xyXG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNLCB7cHJvcGVydHlDb3VudDoga2V5cy5sZW5ndGgsIG1heGltdW06IHNjaGVtYS5tYXhQcm9wZXJ0aWVzfSwgJycsICcvbWF4UHJvcGVydGllcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHNjaGVtYS5yZXF1aXJlZCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5yZXF1aXJlZC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIga2V5ID0gc2NoZW1hLnJlcXVpcmVkW2ldO1xyXG5cdFx0XHRpZiAoZGF0YVtrZXldID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR2YXIgZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX1JFUVVJUkVELCB7a2V5OiBrZXl9LCAnJywgJy9yZXF1aXJlZC8nICsgaSwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHR2YXIgZXJyb3I7XHJcblx0Zm9yICh2YXIga2V5IGluIGRhdGEpIHtcclxuXHRcdHZhciBrZXlQb2ludGVyUGF0aCA9IGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsga2V5LnJlcGxhY2UoL34vZywgJ34wJykucmVwbGFjZSgvXFwvL2csICd+MScpO1xyXG5cdFx0dmFyIGZvdW5kTWF0Y2ggPSBmYWxzZTtcclxuXHRcdGlmIChzY2hlbWEucHJvcGVydGllcyAhPT0gdW5kZWZpbmVkICYmIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRmb3VuZE1hdGNoID0gdHJ1ZTtcclxuXHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2tleV0sIHNjaGVtYS5wcm9wZXJ0aWVzW2tleV0sIFtrZXldLCBbXCJwcm9wZXJ0aWVzXCIsIGtleV0sIGtleVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGZvciAodmFyIHBhdHRlcm5LZXkgaW4gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0dmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAocGF0dGVybktleSk7XHJcblx0XHRcdFx0aWYgKHJlZ2V4cC50ZXN0KGtleSkpIHtcclxuXHRcdFx0XHRcdGZvdW5kTWF0Y2ggPSB0cnVlO1xyXG5cdFx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2tleV0sIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuS2V5XSwgW2tleV0sIFtcInBhdHRlcm5Qcm9wZXJ0aWVzXCIsIHBhdHRlcm5LZXldLCBrZXlQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKCFmb3VuZE1hdGNoKSB7XHJcblx0XHRcdGlmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSA9IHRydWU7XHJcblx0XHRcdFx0XHRkZWxldGUgdGhpcy51bmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBcImJvb2xlYW5cIikge1xyXG5cdFx0XHRcdFx0aWYgKCFzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUywge2tleToga2V5fSwgJycsICcvYWRkaXRpb25hbFByb3BlcnRpZXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgoa2V5LCBudWxsKTtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtrZXldLCBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIFtrZXldLCBbXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSwga2V5UG9pbnRlclBhdGgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzICYmICF0aGlzLmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0pIHtcclxuXHRcdFx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSA9IHRydWU7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0dmFyIGVycm9yO1xyXG5cdGlmIChzY2hlbWEuZGVwZW5kZW5jaWVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGZvciAodmFyIGRlcEtleSBpbiBzY2hlbWEuZGVwZW5kZW5jaWVzKSB7XHJcblx0XHRcdGlmIChkYXRhW2RlcEtleV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHZhciBkZXAgPSBzY2hlbWEuZGVwZW5kZW5jaWVzW2RlcEtleV07XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBkZXAgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRcdGlmIChkYXRhW2RlcF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfREVQRU5ERU5DWV9LRVksIHtrZXk6IGRlcEtleSwgbWlzc2luZzogZGVwfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgobnVsbCwgZGVwS2V5KS5wcmVmaXhXaXRoKG51bGwsIFwiZGVwZW5kZW5jaWVzXCIpO1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGVwKSkge1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0dmFyIHJlcXVpcmVkS2V5ID0gZGVwW2ldO1xyXG5cdFx0XHRcdFx0XHRpZiAoZGF0YVtyZXF1aXJlZEtleV0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSwge2tleTogZGVwS2V5LCBtaXNzaW5nOiByZXF1aXJlZEtleX0sICcnLCAnLycgKyBpLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgobnVsbCwgZGVwS2V5KS5wcmVmaXhXaXRoKG51bGwsIFwiZGVwZW5kZW5jaWVzXCIpO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIGRlcCwgW10sIFtcImRlcGVuZGVuY2llc1wiLCBkZXBLZXldLCBkYXRhUG9pbnRlclBhdGgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUNvbWJpbmF0aW9ucyA9IGZ1bmN0aW9uIHZhbGlkYXRlQ29tYmluYXRpb25zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVBbGxPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVBbnlPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVPbmVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVOb3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBbGxPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlQWxsT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoc2NoZW1hLmFsbE9mID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgZXJyb3I7XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEuYWxsT2YubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBzdWJTY2hlbWEgPSBzY2hlbWEuYWxsT2ZbaV07XHJcblx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcImFsbE9mXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpKSB7XHJcblx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFueU9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbnlPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmIChzY2hlbWEuYW55T2YgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBlcnJvcnMgPSBbXTtcclxuXHR2YXIgc3RhcnRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdHZhciBvbGRVbmtub3duUHJvcGVydHlQYXRocywgb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy51bmtub3duUHJvcGVydHlQYXRocztcclxuXHRcdG9sZEtub3duUHJvcGVydHlQYXRocyA9IHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdH1cclxuXHR2YXIgZXJyb3JBdEVuZCA9IHRydWU7XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEuYW55T2YubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0fVxyXG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5hbnlPZltpXTtcclxuXHJcblx0XHR2YXIgZXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHRcdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wiYW55T2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCk7XHJcblxyXG5cdFx0aWYgKGVycm9yID09PSBudWxsICYmIGVycm9yQ291bnQgPT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xyXG5cdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIga25vd25LZXkgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpIHtcclxuXHRcdFx0XHRcdG9sZEtub3duUHJvcGVydHlQYXRoc1trbm93bktleV0gPSB0cnVlO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yICh2YXIgdW5rbm93bktleSBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKSB7XHJcblx0XHRcdFx0XHRpZiAoIW9sZEtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSkge1xyXG5cdFx0XHRcdFx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gY29udGludWUgbG9vcGluZyBzbyB3ZSBjYXRjaCBhbGwgdGhlIHByb3BlcnR5IGRlZmluaXRpb25zLCBidXQgd2UgZG9uJ3Qgd2FudCB0byByZXR1cm4gYW4gZXJyb3JcclxuXHRcdFx0XHRlcnJvckF0RW5kID0gZmFsc2U7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGVycm9yKSB7XHJcblx0XHRcdGVycm9ycy5wdXNoKGVycm9yLnByZWZpeFdpdGgobnVsbCwgXCJcIiArIGkpLnByZWZpeFdpdGgobnVsbCwgXCJhbnlPZlwiKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRVbmtub3duUHJvcGVydHlQYXRocztcclxuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdH1cclxuXHRpZiAoZXJyb3JBdEVuZCkge1xyXG5cdFx0ZXJyb3JzID0gZXJyb3JzLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpKTtcclxuXHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQU5ZX09GX01JU1NJTkcsIHt9LCBcIlwiLCBcIi9hbnlPZlwiLCBlcnJvcnMsIGRhdGEsIHNjaGVtYSk7XHJcblx0fVxyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPbmVPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlT25lT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoc2NoZW1hLm9uZU9mID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgdmFsaWRJbmRleCA9IG51bGw7XHJcblx0dmFyIGVycm9ycyA9IFtdO1xyXG5cdHZhciBzdGFydEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLm9uZU9mLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHRcdH1cclxuXHRcdHZhciBzdWJTY2hlbWEgPSBzY2hlbWEub25lT2ZbaV07XHJcblxyXG5cdFx0dmFyIGVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0XHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcIm9uZU9mXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpO1xyXG5cclxuXHRcdGlmIChlcnJvciA9PT0gbnVsbCAmJiBlcnJvckNvdW50ID09PSB0aGlzLmVycm9ycy5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKHZhbGlkSW5kZXggPT09IG51bGwpIHtcclxuXHRcdFx0XHR2YWxpZEluZGV4ID0gaTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PTkVfT0ZfTVVMVElQTEUsIHtpbmRleDE6IHZhbGlkSW5kZXgsIGluZGV4MjogaX0sIFwiXCIsIFwiL29uZU9mXCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHRcdGZvciAodmFyIGtub3duS2V5IGluIHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKSB7XHJcblx0XHRcdFx0XHRvbGRLbm93blByb3BlcnR5UGF0aHNba25vd25LZXldID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBvbGRVbmtub3duUHJvcGVydHlQYXRoc1trbm93bktleV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvciAodmFyIHVua25vd25LZXkgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocykge1xyXG5cdFx0XHRcdFx0aWYgKCFvbGRLbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0pIHtcclxuXHRcdFx0XHRcdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0gPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChlcnJvcikge1xyXG5cdFx0XHRlcnJvcnMucHVzaChlcnJvcik7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRVbmtub3duUHJvcGVydHlQYXRocztcclxuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdH1cclxuXHRpZiAodmFsaWRJbmRleCA9PT0gbnVsbCkge1xyXG5cdFx0ZXJyb3JzID0gZXJyb3JzLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpKTtcclxuXHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT05FX09GX01JU1NJTkcsIHt9LCBcIlwiLCBcIi9vbmVPZlwiLCBlcnJvcnMsIGRhdGEsIHNjaGVtYSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU5vdCA9IGZ1bmN0aW9uIHZhbGlkYXRlTm90KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHNjaGVtYS5ub3QgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBvbGRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdHZhciBvbGRVbmtub3duUHJvcGVydHlQYXRocywgb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy51bmtub3duUHJvcGVydHlQYXRocztcclxuXHRcdG9sZEtub3duUHJvcGVydHlQYXRocyA9IHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHR9XHJcblx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzY2hlbWEubm90LCBudWxsLCBudWxsLCBkYXRhUG9pbnRlclBhdGgpO1xyXG5cdHZhciBub3RFcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZShvbGRFcnJvckNvdW50KTtcclxuXHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIG9sZEVycm9yQ291bnQpO1xyXG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRVbmtub3duUHJvcGVydHlQYXRocztcclxuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdH1cclxuXHRpZiAoZXJyb3IgPT09IG51bGwgJiYgbm90RXJyb3JzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OT1RfUEFTU0VELCB7fSwgXCJcIiwgXCIvbm90XCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVIeXBlcm1lZGlhID0gZnVuY3Rpb24gdmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoIXNjaGVtYS5saW5rcykge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBlcnJvcjtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5saW5rcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGxkbyA9IHNjaGVtYS5saW5rc1tpXTtcclxuXHRcdGlmIChsZG8ucmVsID09PSBcImRlc2NyaWJlZGJ5XCIpIHtcclxuXHRcdFx0dmFyIHRlbXBsYXRlID0gbmV3IFVyaVRlbXBsYXRlKGxkby5ocmVmKTtcclxuXHRcdFx0dmFyIGFsbFByZXNlbnQgPSB0cnVlO1xyXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRlbXBsYXRlLnZhck5hbWVzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0aWYgKCEodGVtcGxhdGUudmFyTmFtZXNbal0gaW4gZGF0YSkpIHtcclxuXHRcdFx0XHRcdGFsbFByZXNlbnQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYWxsUHJlc2VudCkge1xyXG5cdFx0XHRcdHZhciBzY2hlbWFVcmwgPSB0ZW1wbGF0ZS5maWxsRnJvbU9iamVjdChkYXRhKTtcclxuXHRcdFx0XHR2YXIgc3ViU2NoZW1hID0ge1wiJHJlZlwiOiBzY2hlbWFVcmx9O1xyXG5cdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wibGlua3NcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG4vLyBwYXJzZVVSSSgpIGFuZCByZXNvbHZlVXJsKCkgYXJlIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTA4ODg1MFxyXG4vLyAgIC0gIHJlbGVhc2VkIGFzIHB1YmxpYyBkb21haW4gYnkgYXV0aG9yIChcIllhZmZsZVwiKSAtIHNlZSBjb21tZW50cyBvbiBnaXN0XHJcblxyXG5mdW5jdGlvbiBwYXJzZVVSSSh1cmwpIHtcclxuXHR2YXIgbSA9IFN0cmluZyh1cmwpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKS5tYXRjaCgvXihbXjpcXC8/I10rOik/KFxcL1xcLyg/OlteOkBdKig/OjpbXjpAXSopP0ApPygoW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oW14/I10qKShcXD9bXiNdKik/KCNbXFxzXFxTXSopPy8pO1xyXG5cdC8vIGF1dGhvcml0eSA9ICcvLycgKyB1c2VyICsgJzonICsgcGFzcyAnQCcgKyBob3N0bmFtZSArICc6JyBwb3J0XHJcblx0cmV0dXJuIChtID8ge1xyXG5cdFx0aHJlZiAgICAgOiBtWzBdIHx8ICcnLFxyXG5cdFx0cHJvdG9jb2wgOiBtWzFdIHx8ICcnLFxyXG5cdFx0YXV0aG9yaXR5OiBtWzJdIHx8ICcnLFxyXG5cdFx0aG9zdCAgICAgOiBtWzNdIHx8ICcnLFxyXG5cdFx0aG9zdG5hbWUgOiBtWzRdIHx8ICcnLFxyXG5cdFx0cG9ydCAgICAgOiBtWzVdIHx8ICcnLFxyXG5cdFx0cGF0aG5hbWUgOiBtWzZdIHx8ICcnLFxyXG5cdFx0c2VhcmNoICAgOiBtWzddIHx8ICcnLFxyXG5cdFx0aGFzaCAgICAgOiBtWzhdIHx8ICcnXHJcblx0fSA6IG51bGwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHsvLyBSRkMgMzk4NlxyXG5cclxuXHRmdW5jdGlvbiByZW1vdmVEb3RTZWdtZW50cyhpbnB1dCkge1xyXG5cdFx0dmFyIG91dHB1dCA9IFtdO1xyXG5cdFx0aW5wdXQucmVwbGFjZSgvXihcXC5cXC4/KFxcL3wkKSkrLywgJycpXHJcblx0XHRcdC5yZXBsYWNlKC9cXC8oXFwuKFxcL3wkKSkrL2csICcvJylcclxuXHRcdFx0LnJlcGxhY2UoL1xcL1xcLlxcLiQvLCAnLy4uLycpXHJcblx0XHRcdC5yZXBsYWNlKC9cXC8/W15cXC9dKi9nLCBmdW5jdGlvbiAocCkge1xyXG5cdFx0XHRcdGlmIChwID09PSAnLy4uJykge1xyXG5cdFx0XHRcdFx0b3V0cHV0LnBvcCgpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRvdXRwdXQucHVzaChwKTtcclxuXHRcdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJykucmVwbGFjZSgvXlxcLy8sIGlucHV0LmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJycpO1xyXG5cdH1cclxuXHJcblx0aHJlZiA9IHBhcnNlVVJJKGhyZWYgfHwgJycpO1xyXG5cdGJhc2UgPSBwYXJzZVVSSShiYXNlIHx8ICcnKTtcclxuXHJcblx0cmV0dXJuICFocmVmIHx8ICFiYXNlID8gbnVsbCA6IChocmVmLnByb3RvY29sIHx8IGJhc2UucHJvdG9jb2wpICtcclxuXHRcdChocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5ID8gaHJlZi5hdXRob3JpdHkgOiBiYXNlLmF1dGhvcml0eSkgK1xyXG5cdFx0cmVtb3ZlRG90U2VnbWVudHMoaHJlZi5wcm90b2NvbCB8fCBocmVmLmF1dGhvcml0eSB8fCBocmVmLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID8gaHJlZi5wYXRobmFtZSA6IChocmVmLnBhdGhuYW1lID8gKChiYXNlLmF1dGhvcml0eSAmJiAhYmFzZS5wYXRobmFtZSA/ICcvJyA6ICcnKSArIGJhc2UucGF0aG5hbWUuc2xpY2UoMCwgYmFzZS5wYXRobmFtZS5sYXN0SW5kZXhPZignLycpICsgMSkgKyBocmVmLnBhdGhuYW1lKSA6IGJhc2UucGF0aG5hbWUpKSArXHJcblx0XHQoaHJlZi5wcm90b2NvbCB8fCBocmVmLmF1dGhvcml0eSB8fCBocmVmLnBhdGhuYW1lID8gaHJlZi5zZWFyY2ggOiAoaHJlZi5zZWFyY2ggfHwgYmFzZS5zZWFyY2gpKSArXHJcblx0XHRocmVmLmhhc2g7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERvY3VtZW50VXJpKHVyaSkge1xyXG5cdHJldHVybiB1cmkuc3BsaXQoJyMnKVswXTtcclxufVxyXG5mdW5jdGlvbiBub3JtU2NoZW1hKHNjaGVtYSwgYmFzZVVyaSkge1xyXG5cdGlmIChzY2hlbWEgJiYgdHlwZW9mIHNjaGVtYSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0aWYgKGJhc2VVcmkgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRiYXNlVXJpID0gc2NoZW1hLmlkO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2Ygc2NoZW1hLmlkID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdGJhc2VVcmkgPSByZXNvbHZlVXJsKGJhc2VVcmksIHNjaGVtYS5pZCk7XHJcblx0XHRcdHNjaGVtYS5pZCA9IGJhc2VVcmk7XHJcblx0XHR9XHJcblx0XHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEpKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0bm9ybVNjaGVtYShzY2hlbWFbaV0sIGJhc2VVcmkpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAodHlwZW9mIHNjaGVtYVsnJHJlZiddID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0c2NoZW1hWyckcmVmJ10gPSByZXNvbHZlVXJsKGJhc2VVcmksIHNjaGVtYVsnJHJlZiddKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSB7XHJcblx0XHRcdFx0aWYgKGtleSAhPT0gXCJlbnVtXCIpIHtcclxuXHRcdFx0XHRcdG5vcm1TY2hlbWEoc2NoZW1hW2tleV0sIGJhc2VVcmkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZGVmYXVsdEVycm9yUmVwb3J0ZXIobGFuZ3VhZ2UpIHtcclxuXHRsYW5ndWFnZSA9IGxhbmd1YWdlIHx8ICdlbic7XHJcblxyXG5cdHZhciBlcnJvck1lc3NhZ2VzID0gbGFuZ3VhZ2VzW2xhbmd1YWdlXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0dmFyIG1lc3NhZ2VUZW1wbGF0ZSA9IGVycm9yTWVzc2FnZXNbZXJyb3IuY29kZV0gfHwgRXJyb3JNZXNzYWdlc0RlZmF1bHRbZXJyb3IuY29kZV07XHJcblx0XHRpZiAodHlwZW9mIG1lc3NhZ2VUZW1wbGF0ZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0cmV0dXJuIFwiVW5rbm93biBlcnJvciBjb2RlIFwiICsgZXJyb3IuY29kZSArIFwiOiBcIiArIEpTT04uc3RyaW5naWZ5KGVycm9yLm1lc3NhZ2VQYXJhbXMpO1xyXG5cdFx0fVxyXG5cdFx0dmFyIG1lc3NhZ2VQYXJhbXMgPSBlcnJvci5wYXJhbXM7XHJcblx0XHQvLyBBZGFwdGVkIGZyb20gQ3JvY2tmb3JkJ3Mgc3VwcGxhbnQoKVxyXG5cdFx0cmV0dXJuIG1lc3NhZ2VUZW1wbGF0ZS5yZXBsYWNlKC9cXHsoW157fV0qKVxcfS9nLCBmdW5jdGlvbiAod2hvbGUsIHZhck5hbWUpIHtcclxuXHRcdFx0dmFyIHN1YlZhbHVlID0gbWVzc2FnZVBhcmFtc1t2YXJOYW1lXTtcclxuXHRcdFx0cmV0dXJuIHR5cGVvZiBzdWJWYWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHN1YlZhbHVlID09PSAnbnVtYmVyJyA/IHN1YlZhbHVlIDogd2hvbGU7XHJcblx0XHR9KTtcclxuXHR9O1xyXG59XHJcblxyXG52YXIgRXJyb3JDb2RlcyA9IHtcclxuXHRJTlZBTElEX1RZUEU6IDAsXHJcblx0RU5VTV9NSVNNQVRDSDogMSxcclxuXHRBTllfT0ZfTUlTU0lORzogMTAsXHJcblx0T05FX09GX01JU1NJTkc6IDExLFxyXG5cdE9ORV9PRl9NVUxUSVBMRTogMTIsXHJcblx0Tk9UX1BBU1NFRDogMTMsXHJcblx0Ly8gTnVtZXJpYyBlcnJvcnNcclxuXHROVU1CRVJfTVVMVElQTEVfT0Y6IDEwMCxcclxuXHROVU1CRVJfTUlOSU1VTTogMTAxLFxyXG5cdE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRTogMTAyLFxyXG5cdE5VTUJFUl9NQVhJTVVNOiAxMDMsXHJcblx0TlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiAxMDQsXHJcblx0TlVNQkVSX05PVF9BX05VTUJFUjogMTA1LFxyXG5cdC8vIFN0cmluZyBlcnJvcnNcclxuXHRTVFJJTkdfTEVOR1RIX1NIT1JUOiAyMDAsXHJcblx0U1RSSU5HX0xFTkdUSF9MT05HOiAyMDEsXHJcblx0U1RSSU5HX1BBVFRFUk46IDIwMixcclxuXHQvLyBPYmplY3QgZXJyb3JzXHJcblx0T0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTTogMzAwLFxyXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06IDMwMSxcclxuXHRPQkpFQ1RfUkVRVUlSRUQ6IDMwMixcclxuXHRPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOiAzMDMsXHJcblx0T0JKRUNUX0RFUEVOREVOQ1lfS0VZOiAzMDQsXHJcblx0Ly8gQXJyYXkgZXJyb3JzXHJcblx0QVJSQVlfTEVOR1RIX1NIT1JUOiA0MDAsXHJcblx0QVJSQVlfTEVOR1RIX0xPTkc6IDQwMSxcclxuXHRBUlJBWV9VTklRVUU6IDQwMixcclxuXHRBUlJBWV9BRERJVElPTkFMX0lURU1TOiA0MDMsXHJcblx0Ly8gQ3VzdG9tL3VzZXItZGVmaW5lZCBlcnJvcnNcclxuXHRGT1JNQVRfQ1VTVE9NOiA1MDAsXHJcblx0S0VZV09SRF9DVVNUT006IDUwMSxcclxuXHQvLyBTY2hlbWEgc3RydWN0dXJlXHJcblx0Q0lSQ1VMQVJfUkVGRVJFTkNFOiA2MDAsXHJcblx0Ly8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9uc1xyXG5cdFVOS05PV05fUFJPUEVSVFk6IDEwMDBcclxufTtcclxudmFyIEVycm9yQ29kZUxvb2t1cCA9IHt9O1xyXG5mb3IgKHZhciBrZXkgaW4gRXJyb3JDb2Rlcykge1xyXG5cdEVycm9yQ29kZUxvb2t1cFtFcnJvckNvZGVzW2tleV1dID0ga2V5O1xyXG59XHJcbnZhciBFcnJvck1lc3NhZ2VzRGVmYXVsdCA9IHtcclxuXHRJTlZBTElEX1RZUEU6IFwiSW52YWxpZCB0eXBlOiB7dHlwZX0gKGV4cGVjdGVkIHtleHBlY3RlZH0pXCIsXHJcblx0RU5VTV9NSVNNQVRDSDogXCJObyBlbnVtIG1hdGNoIGZvcjoge3ZhbHVlfVwiLFxyXG5cdEFOWV9PRl9NSVNTSU5HOiBcIkRhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSBcXFwiYW55T2ZcXFwiXCIsXHJcblx0T05FX09GX01JU1NJTkc6IFwiRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tIFxcXCJvbmVPZlxcXCJcIixcclxuXHRPTkVfT0ZfTVVMVElQTEU6IFwiRGF0YSBpcyB2YWxpZCBhZ2FpbnN0IG1vcmUgdGhhbiBvbmUgc2NoZW1hIGZyb20gXFxcIm9uZU9mXFxcIjogaW5kaWNlcyB7aW5kZXgxfSBhbmQge2luZGV4Mn1cIixcclxuXHROT1RfUEFTU0VEOiBcIkRhdGEgbWF0Y2hlcyBzY2hlbWEgZnJvbSBcXFwibm90XFxcIlwiLFxyXG5cdC8vIE51bWVyaWMgZXJyb3JzXHJcblx0TlVNQkVSX01VTFRJUExFX09GOiBcIlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgbXVsdGlwbGUgb2Yge211bHRpcGxlT2Z9XCIsXHJcblx0TlVNQkVSX01JTklNVU06IFwiVmFsdWUge3ZhbHVlfSBpcyBsZXNzIHRoYW4gbWluaW11bSB7bWluaW11bX1cIixcclxuXHROVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6IFwiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWluaW11bSB7bWluaW11bX1cIixcclxuXHROVU1CRVJfTUFYSU1VTTogXCJWYWx1ZSB7dmFsdWV9IGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHttYXhpbXVtfVwiLFxyXG5cdE5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRTogXCJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtYXhpbXVtIHttYXhpbXVtfVwiLFxyXG5cdE5VTUJFUl9OT1RfQV9OVU1CRVI6IFwiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSB2YWxpZCBudW1iZXJcIixcclxuXHQvLyBTdHJpbmcgZXJyb3JzXHJcblx0U1RSSU5HX0xFTkdUSF9TSE9SVDogXCJTdHJpbmcgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSBjaGFycyksIG1pbmltdW0ge21pbmltdW19XCIsXHJcblx0U1RSSU5HX0xFTkdUSF9MT05HOiBcIlN0cmluZyBpcyB0b28gbG9uZyAoe2xlbmd0aH0gY2hhcnMpLCBtYXhpbXVtIHttYXhpbXVtfVwiLFxyXG5cdFNUUklOR19QQVRURVJOOiBcIlN0cmluZyBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuOiB7cGF0dGVybn1cIixcclxuXHQvLyBPYmplY3QgZXJyb3JzXHJcblx0T0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTTogXCJUb28gZmV3IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWluaW11bSB7bWluaW11bX1cIixcclxuXHRPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOiBcIlRvbyBtYW55IHByb3BlcnRpZXMgZGVmaW5lZCAoe3Byb3BlcnR5Q291bnR9KSwgbWF4aW11bSB7bWF4aW11bX1cIixcclxuXHRPQkpFQ1RfUkVRVUlSRUQ6IFwiTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eToge2tleX1cIixcclxuXHRPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTOiBcIkFkZGl0aW9uYWwgcHJvcGVydGllcyBub3QgYWxsb3dlZFwiLFxyXG5cdE9CSkVDVF9ERVBFTkRFTkNZX0tFWTogXCJEZXBlbmRlbmN5IGZhaWxlZCAtIGtleSBtdXN0IGV4aXN0OiB7bWlzc2luZ30gKGR1ZSB0byBrZXk6IHtrZXl9KVwiLFxyXG5cdC8vIEFycmF5IGVycm9yc1xyXG5cdEFSUkFZX0xFTkdUSF9TSE9SVDogXCJBcnJheSBpcyB0b28gc2hvcnQgKHtsZW5ndGh9KSwgbWluaW11bSB7bWluaW11bX1cIixcclxuXHRBUlJBWV9MRU5HVEhfTE9ORzogXCJBcnJheSBpcyB0b28gbG9uZyAoe2xlbmd0aH0pLCBtYXhpbXVtIHttYXhpbXVtfVwiLFxyXG5cdEFSUkFZX1VOSVFVRTogXCJBcnJheSBpdGVtcyBhcmUgbm90IHVuaXF1ZSAoaW5kaWNlcyB7bWF0Y2gxfSBhbmQge21hdGNoMn0pXCIsXHJcblx0QVJSQVlfQURESVRJT05BTF9JVEVNUzogXCJBZGRpdGlvbmFsIGl0ZW1zIG5vdCBhbGxvd2VkXCIsXHJcblx0Ly8gRm9ybWF0IGVycm9yc1xyXG5cdEZPUk1BVF9DVVNUT006IFwiRm9ybWF0IHZhbGlkYXRpb24gZmFpbGVkICh7bWVzc2FnZX0pXCIsXHJcblx0S0VZV09SRF9DVVNUT006IFwiS2V5d29yZCBmYWlsZWQ6IHtrZXl9ICh7bWVzc2FnZX0pXCIsXHJcblx0Ly8gU2NoZW1hIHN0cnVjdHVyZVxyXG5cdENJUkNVTEFSX1JFRkVSRU5DRTogXCJDaXJjdWxhciAkcmVmczoge3VybHN9XCIsXHJcblx0Ly8gTm9uLXN0YW5kYXJkIHZhbGlkYXRpb24gb3B0aW9uc1xyXG5cdFVOS05PV05fUFJPUEVSVFk6IFwiVW5rbm93biBwcm9wZXJ0eSAobm90IGluIHNjaGVtYSlcIlxyXG59O1xyXG5cclxuZnVuY3Rpb24gVmFsaWRhdGlvbkVycm9yKGNvZGUsIHBhcmFtcywgZGF0YVBhdGgsIHNjaGVtYVBhdGgsIHN1YkVycm9ycykge1xyXG5cdEVycm9yLmNhbGwodGhpcyk7XHJcblx0aWYgKGNvZGUgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yIChcIk5vIGVycm9yIGNvZGUgc3VwcGxpZWQ6IFwiICsgc2NoZW1hUGF0aCk7XHJcblx0fVxyXG5cdHRoaXMubWVzc2FnZSA9ICcnO1xyXG5cdHRoaXMucGFyYW1zID0gcGFyYW1zO1xyXG5cdHRoaXMuY29kZSA9IGNvZGU7XHJcblx0dGhpcy5kYXRhUGF0aCA9IGRhdGFQYXRoIHx8IFwiXCI7XHJcblx0dGhpcy5zY2hlbWFQYXRoID0gc2NoZW1hUGF0aCB8fCBcIlwiO1xyXG5cdHRoaXMuc3ViRXJyb3JzID0gc3ViRXJyb3JzIHx8IG51bGw7XHJcblxyXG5cdHZhciBlcnIgPSBuZXcgRXJyb3IodGhpcy5tZXNzYWdlKTtcclxuXHR0aGlzLnN0YWNrID0gZXJyLnN0YWNrIHx8IGVyci5zdGFja3RyYWNlO1xyXG5cdGlmICghdGhpcy5zdGFjaykge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhyb3cgZXJyO1xyXG5cdFx0fVxyXG5cdFx0Y2F0Y2goZXJyKSB7XHJcblx0XHRcdHRoaXMuc3RhY2sgPSBlcnIuc3RhY2sgfHwgZXJyLnN0YWNrdHJhY2U7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XHJcblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWYWxpZGF0aW9uRXJyb3I7XHJcblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUubmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InO1xyXG5cclxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5wcmVmaXhXaXRoID0gZnVuY3Rpb24gKGRhdGFQcmVmaXgsIHNjaGVtYVByZWZpeCkge1xyXG5cdGlmIChkYXRhUHJlZml4ICE9PSBudWxsKSB7XHJcblx0XHRkYXRhUHJlZml4ID0gZGF0YVByZWZpeC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XHJcblx0XHR0aGlzLmRhdGFQYXRoID0gXCIvXCIgKyBkYXRhUHJlZml4ICsgdGhpcy5kYXRhUGF0aDtcclxuXHR9XHJcblx0aWYgKHNjaGVtYVByZWZpeCAhPT0gbnVsbCkge1xyXG5cdFx0c2NoZW1hUHJlZml4ID0gc2NoZW1hUHJlZml4LnJlcGxhY2UoL34vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MVwiKTtcclxuXHRcdHRoaXMuc2NoZW1hUGF0aCA9IFwiL1wiICsgc2NoZW1hUHJlZml4ICsgdGhpcy5zY2hlbWFQYXRoO1xyXG5cdH1cclxuXHRpZiAodGhpcy5zdWJFcnJvcnMgIT09IG51bGwpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJFcnJvcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5zdWJFcnJvcnNbaV0ucHJlZml4V2l0aChkYXRhUHJlZml4LCBzY2hlbWFQcmVmaXgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gdGhpcztcclxufTtcclxuXHJcbmZ1bmN0aW9uIGlzVHJ1c3RlZFVybChiYXNlVXJsLCB0ZXN0VXJsKSB7XHJcblx0aWYodGVzdFVybC5zdWJzdHJpbmcoMCwgYmFzZVVybC5sZW5ndGgpID09PSBiYXNlVXJsKXtcclxuXHRcdHZhciByZW1haW5kZXIgPSB0ZXN0VXJsLnN1YnN0cmluZyhiYXNlVXJsLmxlbmd0aCk7XHJcblx0XHRpZiAoKHRlc3RVcmwubGVuZ3RoID4gMCAmJiB0ZXN0VXJsLmNoYXJBdChiYXNlVXJsLmxlbmd0aCAtIDEpID09PSBcIi9cIilcclxuXHRcdFx0fHwgcmVtYWluZGVyLmNoYXJBdCgwKSA9PT0gXCIjXCJcclxuXHRcdFx0fHwgcmVtYWluZGVyLmNoYXJBdCgwKSA9PT0gXCI/XCIpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxudmFyIGxhbmd1YWdlcyA9IHt9O1xyXG5mdW5jdGlvbiBjcmVhdGVBcGkobGFuZ3VhZ2UpIHtcclxuXHR2YXIgZ2xvYmFsQ29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KCk7XHJcblx0dmFyIGN1cnJlbnRMYW5ndWFnZTtcclxuXHR2YXIgY3VzdG9tRXJyb3JSZXBvcnRlcjtcclxuXHR2YXIgYXBpID0ge1xyXG5cdFx0c2V0RXJyb3JSZXBvcnRlcjogZnVuY3Rpb24gKHJlcG9ydGVyKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgcmVwb3J0ZXIgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMubGFuZ3VhZ2UocmVwb3J0ZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGN1c3RvbUVycm9yUmVwb3J0ZXIgPSByZXBvcnRlcjtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LFxyXG5cdFx0YWRkRm9ybWF0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGdsb2JhbENvbnRleHQuYWRkRm9ybWF0LmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0bGFuZ3VhZ2U6IGZ1bmN0aW9uIChjb2RlKSB7XHJcblx0XHRcdGlmICghY29kZSkge1xyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50TGFuZ3VhZ2U7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFsYW5ndWFnZXNbY29kZV0pIHtcclxuXHRcdFx0XHRjb2RlID0gY29kZS5zcGxpdCgnLScpWzBdOyAvLyBmYWxsIGJhY2sgdG8gYmFzZSBsYW5ndWFnZVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChsYW5ndWFnZXNbY29kZV0pIHtcclxuXHRcdFx0XHRjdXJyZW50TGFuZ3VhZ2UgPSBjb2RlO1xyXG5cdFx0XHRcdHJldHVybiBjb2RlOyAvLyBzbyB5b3UgY2FuIHRlbGwgaWYgZmFsbC1iYWNrIGhhcyBoYXBwZW5lZFxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0sXHJcblx0XHRhZGRMYW5ndWFnZTogZnVuY3Rpb24gKGNvZGUsIG1lc3NhZ2VNYXApIHtcclxuXHRcdFx0dmFyIGtleTtcclxuXHRcdFx0Zm9yIChrZXkgaW4gRXJyb3JDb2Rlcykge1xyXG5cdFx0XHRcdGlmIChtZXNzYWdlTWFwW2tleV0gJiYgIW1lc3NhZ2VNYXBbRXJyb3JDb2Rlc1trZXldXSkge1xyXG5cdFx0XHRcdFx0bWVzc2FnZU1hcFtFcnJvckNvZGVzW2tleV1dID0gbWVzc2FnZU1hcFtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgcm9vdENvZGUgPSBjb2RlLnNwbGl0KCctJylbMF07XHJcblx0XHRcdGlmICghbGFuZ3VhZ2VzW3Jvb3RDb2RlXSkgeyAvLyB1c2UgZm9yIGJhc2UgbGFuZ3VhZ2UgaWYgbm90IHlldCBkZWZpbmVkXHJcblx0XHRcdFx0bGFuZ3VhZ2VzW2NvZGVdID0gbWVzc2FnZU1hcDtcclxuXHRcdFx0XHRsYW5ndWFnZXNbcm9vdENvZGVdID0gbWVzc2FnZU1hcDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRsYW5ndWFnZXNbY29kZV0gPSBPYmplY3QuY3JlYXRlKGxhbmd1YWdlc1tyb290Q29kZV0pO1xyXG5cdFx0XHRcdGZvciAoa2V5IGluIG1lc3NhZ2VNYXApIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgbGFuZ3VhZ2VzW3Jvb3RDb2RlXVtrZXldID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHRsYW5ndWFnZXNbcm9vdENvZGVdW2tleV0gPSBtZXNzYWdlTWFwW2tleV07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsYW5ndWFnZXNbY29kZV1ba2V5XSA9IG1lc3NhZ2VNYXBba2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0ZnJlc2hBcGk6IGZ1bmN0aW9uIChsYW5ndWFnZSkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gY3JlYXRlQXBpKCk7XHJcblx0XHRcdGlmIChsYW5ndWFnZSkge1xyXG5cdFx0XHRcdHJlc3VsdC5sYW5ndWFnZShsYW5ndWFnZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0sXHJcblx0XHR2YWxpZGF0ZTogZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdHZhciBkZWYgPSBkZWZhdWx0RXJyb3JSZXBvcnRlcihjdXJyZW50TGFuZ3VhZ2UpO1xyXG5cdFx0XHR2YXIgZXJyb3JSZXBvcnRlciA9IGN1c3RvbUVycm9yUmVwb3J0ZXIgPyBmdW5jdGlvbiAoZXJyb3IsIGRhdGEsIHNjaGVtYSkge1xyXG5cdFx0XHRcdHJldHVybiBjdXN0b21FcnJvclJlcG9ydGVyKGVycm9yLCBkYXRhLCBzY2hlbWEpIHx8IGRlZihlcnJvciwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fSA6IGRlZjtcclxuXHRcdFx0dmFyIGNvbnRleHQgPSBuZXcgVmFsaWRhdG9yQ29udGV4dChnbG9iYWxDb250ZXh0LCBmYWxzZSwgZXJyb3JSZXBvcnRlciwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKTtcclxuXHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRzY2hlbWEgPSB7XCIkcmVmXCI6IHNjaGVtYX07XHJcblx0XHRcdH1cclxuXHRcdFx0Y29udGV4dC5hZGRTY2hlbWEoXCJcIiwgc2NoZW1hKTtcclxuXHRcdFx0dmFyIGVycm9yID0gY29udGV4dC52YWxpZGF0ZUFsbChkYXRhLCBzY2hlbWEsIG51bGwsIG51bGwsIFwiXCIpO1xyXG5cdFx0XHRpZiAoIWVycm9yICYmIGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0ZXJyb3IgPSBjb250ZXh0LmJhblVua25vd25Qcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5lcnJvciA9IGVycm9yO1xyXG5cdFx0XHR0aGlzLm1pc3NpbmcgPSBjb250ZXh0Lm1pc3Npbmc7XHJcblx0XHRcdHRoaXMudmFsaWQgPSAoZXJyb3IgPT09IG51bGwpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy52YWxpZDtcclxuXHRcdH0sXHJcblx0XHR2YWxpZGF0ZVJlc3VsdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0ge3RvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMudmFsaWQgPyAndmFsaWQnIDogdGhpcy5lcnJvci5tZXNzYWdlO1xyXG5cdFx0XHR9fTtcclxuXHRcdFx0dGhpcy52YWxpZGF0ZS5hcHBseShyZXN1bHQsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9LFxyXG5cdFx0dmFsaWRhdGVNdWx0aXBsZTogZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdHZhciBkZWYgPSBkZWZhdWx0RXJyb3JSZXBvcnRlcihjdXJyZW50TGFuZ3VhZ2UpO1xyXG5cdFx0XHR2YXIgZXJyb3JSZXBvcnRlciA9IGN1c3RvbUVycm9yUmVwb3J0ZXIgPyBmdW5jdGlvbiAoZXJyb3IsIGRhdGEsIHNjaGVtYSkge1xyXG5cdFx0XHRcdHJldHVybiBjdXN0b21FcnJvclJlcG9ydGVyKGVycm9yLCBkYXRhLCBzY2hlbWEpIHx8IGRlZihlcnJvciwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fSA6IGRlZjtcclxuXHRcdFx0dmFyIGNvbnRleHQgPSBuZXcgVmFsaWRhdG9yQ29udGV4dChnbG9iYWxDb250ZXh0LCB0cnVlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpO1xyXG5cdFx0XHRpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdHNjaGVtYSA9IHtcIiRyZWZcIjogc2NoZW1hfTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb250ZXh0LmFkZFNjaGVtYShcIlwiLCBzY2hlbWEpO1xyXG5cdFx0XHRjb250ZXh0LnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYSwgbnVsbCwgbnVsbCwgXCJcIik7XHJcblx0XHRcdGlmIChiYW5Vbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHRcdGNvbnRleHQuYmFuVW5rbm93blByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgcmVzdWx0ID0ge3RvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMudmFsaWQgPyAndmFsaWQnIDogdGhpcy5lcnJvci5tZXNzYWdlO1xyXG5cdFx0XHR9fTtcclxuXHRcdFx0cmVzdWx0LmVycm9ycyA9IGNvbnRleHQuZXJyb3JzO1xyXG5cdFx0XHRyZXN1bHQubWlzc2luZyA9IGNvbnRleHQubWlzc2luZztcclxuXHRcdFx0cmVzdWx0LnZhbGlkID0gKHJlc3VsdC5lcnJvcnMubGVuZ3RoID09PSAwKTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0sXHJcblx0XHRhZGRTY2hlbWE6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuYWRkU2NoZW1hLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0U2NoZW1hOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldFNjaGVtYS5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGdldFNjaGVtYU1hcDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRTY2hlbWFNYXAuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRnZXRTY2hlbWFVcmlzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldFNjaGVtYVVyaXMuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRnZXRNaXNzaW5nVXJpczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRNaXNzaW5nVXJpcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGRyb3BTY2hlbWFzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGdsb2JhbENvbnRleHQuZHJvcFNjaGVtYXMuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRkZWZpbmVLZXl3b3JkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGdsb2JhbENvbnRleHQuZGVmaW5lS2V5d29yZC5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGRlZmluZUVycm9yOiBmdW5jdGlvbiAoY29kZU5hbWUsIGNvZGVOdW1iZXIsIGRlZmF1bHRNZXNzYWdlKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgY29kZU5hbWUgIT09ICdzdHJpbmcnIHx8ICEvXltBLVpdKyhfW0EtWl0rKSokLy50ZXN0KGNvZGVOYW1lKSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignQ29kZSBuYW1lIG11c3QgYmUgYSBzdHJpbmcgaW4gVVBQRVJfQ0FTRV9XSVRIX1VOREVSU0NPUkVTJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHR5cGVvZiBjb2RlTnVtYmVyICE9PSAnbnVtYmVyJyB8fCBjb2RlTnVtYmVyJTEgIT09IDAgfHwgY29kZU51bWJlciA8IDEwMDAwKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb2RlIG51bWJlciBtdXN0IGJlIGFuIGludGVnZXIgPiAxMDAwMCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlb2YgRXJyb3JDb2Rlc1tjb2RlTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFcnJvciBhbHJlYWR5IGRlZmluZWQ6ICcgKyBjb2RlTmFtZSArICcgYXMgJyArIEVycm9yQ29kZXNbY29kZU5hbWVdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodHlwZW9mIEVycm9yQ29kZUxvb2t1cFtjb2RlTnVtYmVyXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGNvZGUgYWxyZWFkeSB1c2VkOiAnICsgRXJyb3JDb2RlTG9va3VwW2NvZGVOdW1iZXJdICsgJyBhcyAnICsgY29kZU51bWJlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0RXJyb3JDb2Rlc1tjb2RlTmFtZV0gPSBjb2RlTnVtYmVyO1xyXG5cdFx0XHRFcnJvckNvZGVMb29rdXBbY29kZU51bWJlcl0gPSBjb2RlTmFtZTtcclxuXHRcdFx0RXJyb3JNZXNzYWdlc0RlZmF1bHRbY29kZU5hbWVdID0gRXJyb3JNZXNzYWdlc0RlZmF1bHRbY29kZU51bWJlcl0gPSBkZWZhdWx0TWVzc2FnZTtcclxuXHRcdFx0Zm9yICh2YXIgbGFuZ0NvZGUgaW4gbGFuZ3VhZ2VzKSB7XHJcblx0XHRcdFx0dmFyIGxhbmd1YWdlID0gbGFuZ3VhZ2VzW2xhbmdDb2RlXTtcclxuXHRcdFx0XHRpZiAobGFuZ3VhZ2VbY29kZU5hbWVdKSB7XHJcblx0XHRcdFx0XHRsYW5ndWFnZVtjb2RlTnVtYmVyXSA9IGxhbmd1YWdlW2NvZGVOdW1iZXJdIHx8IGxhbmd1YWdlW2NvZGVOYW1lXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRyZXNldDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRnbG9iYWxDb250ZXh0LnJlc2V0KCk7XHJcblx0XHRcdHRoaXMuZXJyb3IgPSBudWxsO1xyXG5cdFx0XHR0aGlzLm1pc3NpbmcgPSBbXTtcclxuXHRcdFx0dGhpcy52YWxpZCA9IHRydWU7XHJcblx0XHR9LFxyXG5cdFx0bWlzc2luZzogW10sXHJcblx0XHRlcnJvcjogbnVsbCxcclxuXHRcdHZhbGlkOiB0cnVlLFxyXG5cdFx0bm9ybVNjaGVtYTogbm9ybVNjaGVtYSxcclxuXHRcdHJlc29sdmVVcmw6IHJlc29sdmVVcmwsXHJcblx0XHRnZXREb2N1bWVudFVyaTogZ2V0RG9jdW1lbnRVcmksXHJcblx0XHRlcnJvckNvZGVzOiBFcnJvckNvZGVzXHJcblx0fTtcclxuXHRhcGkubGFuZ3VhZ2UobGFuZ3VhZ2UgfHwgJ2VuJyk7XHJcblx0cmV0dXJuIGFwaTtcclxufVxyXG5cclxudmFyIHR2NCA9IGNyZWF0ZUFwaSgpO1xyXG50djQuYWRkTGFuZ3VhZ2UoJ2VuLWdiJywgRXJyb3JNZXNzYWdlc0RlZmF1bHQpO1xyXG5cclxuLy9sZWdhY3kgcHJvcGVydHlcclxudHY0LnR2NCA9IHR2NDtcclxuXHJcbnJldHVybiB0djQ7IC8vIHVzZWQgYnkgX2hlYWRlci5qcyB0byBnbG9iYWxpc2UuXHJcblxyXG59KSk7IiwiLyoqXG4gKiBAY2xhc3MgQmFzZUNsaWVudC5UeXBlc1xuICpcbiAqIC0gTWFuYWdlcyBhbmQgdmFsaWRhdGVzIHR5cGVzIG9mIHJlbW90ZVN0b3JhZ2Ugb2JqZWN0cywgdXNpbmcgSlNPTi1MRCBhbmRcbiAqICAgSlNPTiBTY2hlbWFcbiAqIC0gQWRkcyBzY2hlbWEgZGVjbGFyYXRpb24vdmFsaWRhdGlvbiBtZXRob2RzIHRvIEJhc2VDbGllbnQgaW5zdGFuY2VzLlxuICoqL1xudHlwZSBKc29uU2NoZW1hcyA9IHsgW2tleTogc3RyaW5nXTogdHY0Lkpzb25TY2hlbWEgfTtcblxuZXhwb3J0IGNsYXNzIEJhc2VDbGllbnRUeXBlcyB7XG4gIC8qKlxuICAgKiA8YWxpYXM+IC0+IDx1cmk+XG4gICAqL1xuICB1cmlzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgLyoqXG4gICAqIENvbnRhaW5zIHNjaGVtYSBvYmplY3RzIG9mIGFsbCB0eXBlcyBrbm93biB0byB0aGUgQmFzZUNsaWVudCBpbnN0YW5jZVxuICAgKlxuICAgKiA8dXJpPiAtPiA8c2NoZW1hPlxuICAgKi9cbiAgc2NoZW1hczogSnNvblNjaGVtYXMgPSB7fTtcblxuICAvKipcbiAgICogPHVyaT4gLT4gPGFsaWFzPlxuICAgKi9cbiAgYWxpYXNlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgdmlhIHB1YmxpYyBmdW5jdGlvbiBCYXNlQ2xpZW50LmRlY2xhcmVUeXBlKClcbiAgICogISBOb3QgaW50ZW5kZWQgdG8gYmUgdXNlZCBhcyBwdWJsaWMgQVBJICFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRlY2xhcmUgKG1vZHVsZU5hbWU6IHN0cmluZywgYWxpYXM6IHN0cmluZywgdXJpOiBzdHJpbmcsIHNjaGVtYTogdHY0Lkpzb25TY2hlbWEpOiB2b2lkIHtcbiAgICBjb25zdCBmdWxsQWxpYXMgPSBtb2R1bGVOYW1lICsgJy8nICsgYWxpYXM7XG5cbiAgICBpZiAoc2NoZW1hLmV4dGVuZHMpIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gc2NoZW1hLmV4dGVuZHMuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IGV4dGVuZGVkQWxpYXMgPSAocGFydHMubGVuZ3RoID09PSAxKVxuICAgICAgICA/IG1vZHVsZU5hbWUgKyAnLycgKyBwYXJ0cy5zaGlmdCgpXG4gICAgICAgIDogcGFydHMuam9pbignLycpO1xuXG4gICAgICBjb25zdCBleHRlbmRlZFVyaSA9IHRoaXMudXJpc1tleHRlbmRlZEFsaWFzXTtcbiAgICAgIGlmICghZXh0ZW5kZWRVcmkpIHtcbiAgICAgICAgdGhyb3cgXCJUeXBlICdcIiArIGZ1bGxBbGlhcyArIFwiJyB0cmllcyB0byBleHRlbmQgdW5rbm93biBzY2hlbWEgJ1wiICsgZXh0ZW5kZWRBbGlhcyArIFwiJ1wiO1xuICAgICAgfVxuICAgICAgc2NoZW1hLmV4dGVuZHMgPSB0aGlzLnNjaGVtYXNbZXh0ZW5kZWRVcmldO1xuICAgIH1cblxuICAgIHRoaXMudXJpc1tmdWxsQWxpYXNdID0gdXJpO1xuICAgIHRoaXMuYWxpYXNlc1t1cmldID0gZnVsbEFsaWFzO1xuICAgIHRoaXMuc2NoZW1hc1t1cmldID0gc2NoZW1hO1xuICB9XG5cbiAgcmVzb2x2ZUFsaWFzIChhbGlhczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy51cmlzW2FsaWFzXTtcbiAgfVxuXG4gIGdldFNjaGVtYSAodXJpOiBzdHJpbmcpOiB0djQuSnNvblNjaGVtYSB7XG4gICAgcmV0dXJuIHRoaXMuc2NoZW1hc1t1cmldO1xuICB9XG5cbiAgaW5TY29wZSAobW9kdWxlTmFtZTogc3RyaW5nKTogSnNvblNjaGVtYXMge1xuICAgIGNvbnN0IG1sID0gbW9kdWxlTmFtZS5sZW5ndGg7XG4gICAgY29uc3Qgc2NoZW1hcyA9IHt9O1xuICAgIGZvciAoY29uc3QgYWxpYXMgaW4gdGhpcy51cmlzKSB7XG4gICAgICBpZiAoYWxpYXMuc3Vic3RyKDAsIG1sICsgMSkgPT09IG1vZHVsZU5hbWUgKyAnLycpIHtcbiAgICAgICAgY29uc3QgdXJpID0gdGhpcy51cmlzW2FsaWFzXTtcbiAgICAgICAgc2NoZW1hc1t1cmldID0gdGhpcy5zY2hlbWFzW3VyaV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWFzO1xuICB9XG59XG5cbmNvbnN0IFR5cGVzID0gbmV3IEJhc2VDbGllbnRUeXBlcygpO1xuZXhwb3J0IGRlZmF1bHQgVHlwZXM7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTY2hlbWFOb3RGb3VuZCBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IodXJpOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFwiU2NoZW1hIG5vdCBmb3VuZDogXCIgKyB1cmkpO1xuICAgIGVycm9yLm5hbWUgPSBcIlNjaGVtYU5vdEZvdW5kXCI7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59XG4iLCIvKipcbiAqIEEgY2FjaGUgd2hpY2ggY2FuIHByb3BhZ2F0ZSBjaGFuZ2VzIHVwIHRvIHBhcmVudCBmb2xkZXJzIGFuZCBnZW5lcmF0ZSBuZXdcbiAqIHJldmlzaW9uIGlkcyBmb3IgdGhlbS4gVGhlIGdlbmVyYXRlZCByZXZpc2lvbiBpZCBpcyBjb25zaXN0ZW50IGFjcm9zc1xuICogZGlmZmVyZW50IHNlc3Npb25zLiAgVGhlIGtleXMgZm9yIHRoZSBjYWNoZSBhcmUgY2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0gZGVmYXVsdFZhbHVlIHtzdHJpbmd9IHRoZSB2YWx1ZSB0aGF0IGlzIHJldHVybmVkIGZvciBhbGwga2V5cyB0aGF0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbid0IGV4aXN0IGluIHRoZSBjYWNoZVxuICogQGNsYXNzXG4gKi9cblxuY2xhc3MgUmV2aXNpb25DYWNoZSB7XG4gIGRlZmF1bHRWYWx1ZTogc3RyaW5nO1xuXG4gIHByaXZhdGUgX2l0ZW1zUmV2OiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XG4gIHByaXZhdGUgX3N0b3JhZ2U6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgcHJpdmF0ZSBfY2FuUHJvcGFnYXRlID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoZGVmYXVsdFZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB0aGlzLmFjdGl2YXRlUHJvcGFnYXRpb24oKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbHVlIGZyb20gdGhlIGNhY2hlIG9yIGRlZmF1bHRWYWx1ZSwgaWYgdGhlIGtleSBpcyBub3QgaW4gdGhlXG4gICAqIGNhY2hlXG4gICAqL1xuICBnZXQoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBzdG9yZWQgPSB0aGlzLl9zdG9yYWdlW2tleV07XG4gICAgaWYgKHR5cGVvZiBzdG9yZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzdG9yZWQgPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHRoaXMuX3N0b3JhZ2Vba2V5XSA9IHN0b3JlZDtcbiAgICB9XG4gICAgcmV0dXJuIHN0b3JlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSB2YWx1ZVxuICAgKi9cbiAgc2V0KGtleTogc3RyaW5nLCB2YWx1ZSk6IHVua25vd24ge1xuICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh0aGlzLl9zdG9yYWdlW2tleV0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHRoaXMuX3N0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9pdGVtc1JldltrZXldO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVQYXJlbnRGb2xkZXJJdGVtUmV2KGtleSwgdmFsdWUpO1xuICAgIGlmICh0aGlzLl9jYW5Qcm9wYWdhdGUpIHtcbiAgICAgIHRoaXMuX3Byb3BhZ2F0ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgdmFsdWVcbiAgICovXG4gIGRlbGV0ZShrZXk6IHN0cmluZyk6IHVua25vd24ge1xuICAgIHJldHVybiB0aGlzLnNldChrZXksIG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIGF1dG9tYXRpYyB1cGRhdGUgb2YgZm9sZGVyIHJldmlzaW9ucyB3aGVuIGEga2V5IHZhbHVlIGlzIHVwZGF0ZWRcbiAgICovXG4gIGRlYWN0aXZhdGVQcm9wYWdhdGlvbigpOiB0cnVlIHtcbiAgICB0aGlzLl9jYW5Qcm9wYWdhdGUgPSBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIGF1dG9tYXRpYyB1cGRhdGUgb2YgZm9sZGVyIHJldmlzaW9ucyB3aGVuIGEga2V5IHZhbHVlIGlzIHVwZGF0ZWRcbiAgICogYW5kIHJlZnJlc2hlcyB0aGUgZm9sZGVyIHJldmlzaW9uIGlkcyBmb3IgZW50aXJlIHRyZWUuXG4gICAqL1xuICBhY3RpdmF0ZVByb3BhZ2F0aW9uKCk6IHRydWUge1xuICAgIGlmICh0aGlzLl9jYW5Qcm9wYWdhdGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9nZW5lcmF0ZUZvbGRlclJldihcIi9cIik7XG4gICAgdGhpcy5fY2FuUHJvcGFnYXRlID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgaGFzaCBjb2RlIGZvciBhIHN0cmluZy5cbiAgICovXG4gIHByaXZhdGUgX2hhc2hDb2RlKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBsZXQgaGFzaCA9IDA7XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hyO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIFRha2VzIGFuIGFycmF5IG9mIHN0cmluZ3MgYW5kIHJldHVybnMgYSBoYXNoIG9mIHRoZSBpdGVtc1xuICAgKi9cbiAgcHJpdmF0ZSBfZ2VuZXJhdGVIYXNoKGl0ZW1zOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gICAgLy8gV2Ugc29ydCB0aGUgaXRlbXMgYmVmb3JlIGpvaW5pbmcgdGhlbSB0byBlbnN1cmUgY29ycmVjdCBoYXNoIGdlbmVyYXRpb25cbiAgICAvLyBldmVyeSB0aW1lXG4gICAgY29uc3QgZmlsZXMgPSBpdGVtcy5zb3J0KCkuam9pbignfCcpO1xuICAgIGNvbnN0IGhhc2ggPSBcIlwiICsgdGhpcy5faGFzaENvZGUoZmlsZXMpO1xuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcmV2aXNpb24gb2YgYSBrZXkgaW4gaXQncyBwYXJlbnQgZm9sZGVyIGRhdGFcbiAgICovXG4gIHByaXZhdGUgX3VwZGF0ZVBhcmVudEZvbGRlckl0ZW1SZXYoa2V5OiBzdHJpbmcsIHJldik6IHZvaWQge1xuICAgIGlmIChrZXkgIT09ICcvJykge1xuICAgICAgY29uc3QgcGFyZW50Rm9sZGVyID0gdGhpcy5fZ2V0UGFyZW50Rm9sZGVyKGtleSk7XG4gICAgICBpZiAoIXRoaXMuX2l0ZW1zUmV2W3BhcmVudEZvbGRlcl0pIHtcbiAgICAgICAgdGhpcy5faXRlbXNSZXZbcGFyZW50Rm9sZGVyXSA9IHt9O1xuICAgICAgfVxuICAgICAgY29uc3QgcGFyZW50Rm9sZGVySXRlbXNSZXYgPSB0aGlzLl9pdGVtc1JldltwYXJlbnRGb2xkZXJdO1xuICAgICAgaWYgKCFyZXYpIHtcbiAgICAgICAgZGVsZXRlIHBhcmVudEZvbGRlckl0ZW1zUmV2W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRGb2xkZXJJdGVtc1JldltrZXldID0gcmV2O1xuICAgICAgfVxuICAgICAgLy9yZXNldCByZXZpc2lvbiB1bnRpbCByb290XG4gICAgICB0aGlzLl91cGRhdGVQYXJlbnRGb2xkZXJJdGVtUmV2KHBhcmVudEZvbGRlciwgdGhpcy5kZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2dldFBhcmVudEZvbGRlcihrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGtleS5zdWJzdHIoMCwga2V5Lmxhc3RJbmRleE9mKCcvJywga2V5Lmxlbmd0aCAtIDIpICsgMSk7XG4gIH1cblxuICAvKipcbiAgICogUHJvcGFnYXRlIHRoZSBjaGFuZ2VzIHRvIHRoZSBwYXJlbnQgZm9sZGVycyBhbmQgZ2VuZXJhdGUgbmV3IHJldmlzaW9uIGlkc1xuICAgKiBmb3IgdGhlbVxuICAgKi9cbiAgcHJpdmF0ZSBfcHJvcGFnYXRlKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGtleSAhPT0gJy8nKSB7XG4gICAgICBjb25zdCBwYXJlbnRGb2xkZXIgPSB0aGlzLl9nZXRQYXJlbnRGb2xkZXIoa2V5KTtcbiAgICAgIGNvbnN0IHBhcmVudEZvbGRlckl0ZW1zUmV2ID0gdGhpcy5faXRlbXNSZXZbcGFyZW50Rm9sZGVyXTtcbiAgICAgIGNvbnN0IGhhc2hJdGVtcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwYXRoIGluIHBhcmVudEZvbGRlckl0ZW1zUmV2KSB7XG4gICAgICAgIGhhc2hJdGVtcy5wdXNoKHBhcmVudEZvbGRlckl0ZW1zUmV2W3BhdGhdKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld1JldiA9IHRoaXMuX2dlbmVyYXRlSGFzaChoYXNoSXRlbXMpO1xuICAgICAgdGhpcy5zZXQocGFyZW50Rm9sZGVyLCBuZXdSZXYpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSByZXZpc2lvbiBpZCBmb3IgYSBmb2xkZXIgYW5kIGl0J3Mgc3ViZm9sZGVycywgYnkgaGFzaGluZyBpdCdzXG4gICAqIGxpc3RpbmdcbiAgICovXG4gIHByaXZhdGUgX2dlbmVyYXRlRm9sZGVyUmV2KGZvbGRlcjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBpdGVtc1JldiA9IHRoaXMuX2l0ZW1zUmV2W2ZvbGRlcl07XG4gICAgbGV0IGhhc2ggPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICBpZiAoaXRlbXNSZXYpIHtcbiAgICAgIGNvbnN0IGhhc2hJdGVtcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwYXRoIGluIGl0ZW1zUmV2KSB7XG4gICAgICAgIGNvbnN0IGlzRGlyOiBib29sZWFuID0gKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKTtcbiAgICAgICAgbGV0IGhhc2hJdGVtO1xuICAgICAgICBpZiAoaXNEaXIpIHtcbiAgICAgICAgICBoYXNoSXRlbSA9IHRoaXMuX2dlbmVyYXRlRm9sZGVyUmV2KHBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhc2hJdGVtID0gaXRlbXNSZXZbcGF0aF07XG4gICAgICAgIH1cbiAgICAgICAgaGFzaEl0ZW1zLnB1c2goaGFzaEl0ZW0pO1xuICAgICAgfVxuICAgICAgaWYgKGhhc2hJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGhhc2ggPSB0aGlzLl9nZW5lcmF0ZUhhc2goaGFzaEl0ZW1zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zZXQoZm9sZGVyLCBoYXNoKTtcbiAgICByZXR1cm4gaGFzaDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZXZpc2lvbkNhY2hlO1xuIiwiLyogZ2xvYmFsIGRlZmluZSAqL1xuLyohXG4gKiB3ZWJmaW5nZXIuanNcbiAqICAgdmVyc2lvbiAyLjcuMFxuICogICBodHRwOi8vZ2l0aHViLmNvbS9zaWx2ZXJidWNrZXQvd2ViZmluZ2VyLmpzXG4gKlxuICogRGV2ZWxvcGVkIGFuZCBNYWludGFpbmVkIGJ5OlxuICogICBOaWNrIEplbm5pbmdzIDxuaWNrQHNpbHZlcmJ1Y2tldC5uZXQ+IDIwMTJcbiAqXG4gKiB3ZWJmaW5nZXIuanMgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIEFHUEwgKHNlZSBMSUNFTlNFKS5cbiAqXG4gKiBZb3UgZG9uJ3QgaGF2ZSB0byBkbyBhbnl0aGluZyBzcGVjaWFsIHRvIGNob29zZSBvbmUgbGljZW5zZSBvciB0aGUgb3RoZXIgYW5kIHlvdSBkb24ndFxuICogaGF2ZSB0byBub3RpZnkgYW55b25lIHdoaWNoIGxpY2Vuc2UgeW91IGFyZSB1c2luZy5cbiAqIFBsZWFzZSBzZWUgdGhlIGNvcnJlc3BvbmRpbmcgbGljZW5zZSBmaWxlIGZvciBkZXRhaWxzIG9mIHRoZXNlIGxpY2Vuc2VzLlxuICogWW91IGFyZSBmcmVlIHRvIHVzZSwgbW9kaWZ5IGFuZCBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUsIGJ1dCBhbGwgY29weXJpZ2h0XG4gKiBpbmZvcm1hdGlvbiBtdXN0IHJlbWFpbi5cbiAqXG4gKi9cblxuaWYgKHR5cGVvZiBmZXRjaCAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgLy8gWE1MSHR0cFJlcXVlc3QgPSByZXF1aXJlKCd4bWxodHRwcmVxdWVzdCcpLlhNTEh0dHBSZXF1ZXN0O1xuICBYTUxIdHRwUmVxdWVzdCA9IHJlcXVpcmUoJ3hocjInKTtcbn1cblxuKGZ1bmN0aW9uIChnbG9iYWwpIHtcblxuICAvLyBVUkkgdG8gcHJvcGVydHkgbmFtZSBtYXBcbiAgdmFyIExJTktfVVJJX01BUFMgPSB7XG4gICAgJ2h0dHA6Ly93ZWJmaXN0Lm9yZy9zcGVjL3JlbCc6ICd3ZWJmaXN0JyxcbiAgICAnaHR0cDovL3dlYmZpbmdlci5uZXQvcmVsL2F2YXRhcic6ICdhdmF0YXInLFxuICAgICdyZW1vdGVzdG9yYWdlJzogJ3JlbW90ZXN0b3JhZ2UnLFxuICAgICdodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaWQvZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UnOiAncmVtb3Rlc3RvcmFnZScsXG4gICAgJ3JlbW90ZVN0b3JhZ2UnOiAncmVtb3Rlc3RvcmFnZScsXG4gICAgJ2h0dHA6Ly93d3cucGFja2V0aXplci5jb20vcmVsL3NoYXJlJzogJ3NoYXJlJyxcbiAgICAnaHR0cDovL3dlYmZpbmdlci5uZXQvcmVsL3Byb2ZpbGUtcGFnZSc6ICdwcm9maWxlJyxcbiAgICAnbWUnOiAncHJvZmlsZScsXG4gICAgJ3ZjYXJkJzogJ3ZjYXJkJyxcbiAgICAnYmxvZyc6ICdibG9nJyxcbiAgICAnaHR0cDovL3BhY2tldGl6ZXIuY29tL3JlbC9ibG9nJzogJ2Jsb2cnLFxuICAgICdodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL2cvMjAxMCN1cGRhdGVzLWZyb20nOiAndXBkYXRlcycsXG4gICAgJ2h0dHBzOi8vY2FtbGlzdG9yZS5vcmcvcmVsL3NlcnZlcic6ICdjYW1pbHN0b3JlJ1xuICB9O1xuXG4gIHZhciBMSU5LX1BST1BFUlRJRVMgPSB7XG4gICAgJ2F2YXRhcic6IFtdLFxuICAgICdyZW1vdGVzdG9yYWdlJzogW10sXG4gICAgJ2Jsb2cnOiBbXSxcbiAgICAndmNhcmQnOiBbXSxcbiAgICAndXBkYXRlcyc6IFtdLFxuICAgICdzaGFyZSc6IFtdLFxuICAgICdwcm9maWxlJzogW10sXG4gICAgJ3dlYmZpc3QnOiBbXSxcbiAgICAnY2FtbGlzdG9yZSc6IFtdXG4gIH07XG5cbiAgLy8gbGlzdCBvZiBlbmRwb2ludHMgdG8gdHJ5LCBmYWxsYmFjayBmcm9tIGJlZ2lubmluZyB0byBlbmQuXG4gIHZhciBVUklTID0gWyd3ZWJmaW5nZXInLCAnaG9zdC1tZXRhJywgJ2hvc3QtbWV0YS5qc29uJ107XG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVFcnJvck9iamVjdChvYmopIHtcbiAgICBvYmoudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH07XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIC8vIGdpdmVuIGEgVVJMIGVuc3VyZXMgaXQncyBIVFRQUy5cbiAgLy8gcmV0dXJucyBmYWxzZSBmb3IgbnVsbCBzdHJpbmcgb3Igbm9uLUhUVFBTIFVSTC5cbiAgZnVuY3Rpb24gaXNTZWN1cmUodXJsKSB7XG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwYXJ0cyA9IHVybC5zcGxpdCgnOi8vJyk7XG4gICAgaWYgKHBhcnRzWzBdID09PSAnaHR0cHMnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uOiBXZWJGaW5nZXJcbiAgICpcbiAgICogV2ViRmluZ2VyIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIFJldHVybnM6XG4gICAqXG4gICAqICAgcmV0dXJuIFdlYkZpbmdlciBvYmplY3RcbiAgICovXG4gIGZ1bmN0aW9uIFdlYkZpbmdlcihjb25maWcpIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbmZpZyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgdGxzX29ubHk6ICAgICAgICAgKHR5cGVvZiBjb25maWcudGxzX29ubHkgIT09ICd1bmRlZmluZWQnKSA/IGNvbmZpZy50bHNfb25seSA6IHRydWUsXG4gICAgICB3ZWJmaXN0X2ZhbGxiYWNrOiAodHlwZW9mIGNvbmZpZy53ZWJmaXN0X2ZhbGxiYWNrICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcud2ViZmlzdF9mYWxsYmFjayA6IGZhbHNlLFxuICAgICAgdXJpX2ZhbGxiYWNrOiAgICAgKHR5cGVvZiBjb25maWcudXJpX2ZhbGxiYWNrICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcudXJpX2ZhbGxiYWNrIDogZmFsc2UsXG4gICAgICByZXF1ZXN0X3RpbWVvdXQ6ICAodHlwZW9mIGNvbmZpZy5yZXF1ZXN0X3RpbWVvdXQgIT09ICd1bmRlZmluZWQnKSA/IGNvbmZpZy5yZXF1ZXN0X3RpbWVvdXQgOiAxMDAwMFxuICAgIH07XG4gIH1cblxuICAvLyBtYWtlIGFuIGh0dHAgcmVxdWVzdCBhbmQgbG9vayBmb3IgSlJEIHJlc3BvbnNlLCBmYWlscyBpZiByZXF1ZXN0IGZhaWxzXG4gIC8vIG9yIHJlc3BvbnNlIG5vdCBqc29uLlxuICBXZWJGaW5nZXIucHJvdG90eXBlLl9fZmV0Y2hKUkQgPSBmdW5jdGlvbiAodXJsLCBlcnJvckhhbmRsZXIsIHN1Y2Vzc0hhbmRsZXIpIHtcbiAgICBpZiAodHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fZmV0Y2hKUkRfZmV0Y2godXJsLCBlcnJvckhhbmRsZXIsIHN1Y2Vzc0hhbmRsZXIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2ZldGNoSlJEX1hIUih1cmwsIGVycm9ySGFuZGxlciwgc3VjZXNzSGFuZGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFkZCBhIHBvbHlmaWxsIGZvciBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdFwiKTtcbiAgICB9XG4gIH07XG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19mZXRjaEpSRF9mZXRjaCA9IGZ1bmN0aW9uICh1cmwsIGVycm9ySGFuZGxlciwgc3VjZXNzSGFuZGxlcikge1xuICAgIHZhciB3ZWJmaW5nZXIgPSB0aGlzO1xuICAgIHZhciBhYm9ydENvbnRyb2xsZXI7XG4gICAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgdmFyIG5ldHdvcmtQcm9taXNlID0gZmV0Y2godXJsLCB7XG4gICAgICBoZWFkZXJzOiB7J0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qcmQranNvbiwgYXBwbGljYXRpb24vanNvbid9LFxuICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIgPyBhYm9ydENvbnRyb2xsZXIuc2lnbmFsIDogdW5kZWZpbmVkXG4gICAgfSkuXG4gICAgdGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAncmVzb3VyY2Ugbm90IGZvdW5kJyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7ICAgLy8gb3RoZXIgSFRUUCBzdGF0dXMgKHJlZGlyZWN0cyBhcmUgaGFuZGxlZCB0cmFuc3BhcmVudGx5KVxuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAnZXJyb3IgZHVyaW5nIHJlcXVlc3QnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZnVuY3Rpb24gKGVycikgeyAgIC8vIGNvbm5lY3Rpb24gcmVmdXNlZCwgZXRjLlxuICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgIG1lc3NhZ2U6ICdlcnJvciBkdXJpbmcgcmVxdWVzdCcsXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZCxcbiAgICAgICAgZXJyOiBlcnJcbiAgICAgIH0pXG4gICAgfSkuXG4gICAgdGhlbihmdW5jdGlvbiAocmVzcG9uc2VUZXh0KSB7XG4gICAgICBpZiAod2ViZmluZ2VyLl9faXNWYWxpZEpTT04ocmVzcG9uc2VUZXh0KSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VUZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ2ludmFsaWQganNvbicsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVqZWN0KGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdyZXF1ZXN0IHRpbWVkIG91dCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiB1bmRlZmluZWRcbiAgICAgICAgfSkpO1xuICAgICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHdlYmZpbmdlci5jb25maWcucmVxdWVzdF90aW1lb3V0KTtcbiAgICB9KTtcblxuICAgIFByb21pc2UucmFjZShbbmV0d29ya1Byb21pc2UsIHRpbWVvdXRQcm9taXNlXSkuXG4gICAgdGhlbihmdW5jdGlvbiAocmVzcG9uc2VUZXh0KSB7XG4gICAgICBzdWNlc3NIYW5kbGVyKHJlc3BvbnNlVGV4dCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgfSk7XG4gIH07XG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19mZXRjaEpSRF9YSFIgPSBmdW5jdGlvbiAodXJsLCBlcnJvckhhbmRsZXIsIHN1Y2Vzc0hhbmRsZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGhhbmRsZXJTcGVudCA9IGZhbHNlO1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGZ1bmN0aW9uIF9fcHJvY2Vzc1N0YXRlKCkge1xuICAgICAgaWYgKGhhbmRsZXJTcGVudCl7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1lbHNle1xuICAgICAgICBoYW5kbGVyU3BlbnQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGlmIChzZWxmLl9faXNWYWxpZEpTT04oeGhyLnJlc3BvbnNlVGV4dCkpIHtcbiAgICAgICAgICByZXR1cm4gc3VjZXNzSGFuZGxlcih4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2ludmFsaWQganNvbicsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAncmVzb3VyY2Ugbm90IGZvdW5kJyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmICgoeGhyLnN0YXR1cyA+PSAzMDEpICYmICh4aHIuc3RhdHVzIDw9IDMwMikpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpO1xuICAgICAgICBpZiAoaXNTZWN1cmUobG9jYXRpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIF9fbWFrZVJlcXVlc3QobG9jYXRpb24pOyAvLyBmb2xsb3cgcmVkaXJlY3RcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ25vIHJlZGlyZWN0IFVSTCBmb3VuZCcsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAnZXJyb3IgZHVyaW5nIHJlcXVlc3QnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19tYWtlUmVxdWVzdCgpIHtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIF9fcHJvY2Vzc1N0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9fcHJvY2Vzc1N0YXRlKCk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdyZXF1ZXN0IHRpbWVkIG91dCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXG4gICAgICAgIH0pKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnRpbWVvdXQgPSBzZWxmLmNvbmZpZy5yZXF1ZXN0X3RpbWVvdXQ7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pyZCtqc29uLCBhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIHJldHVybiBfX21ha2VSZXF1ZXN0KCk7XG4gIH07XG5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2lzVmFsaWRKU09OID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHRyeSB7XG4gICAgICBKU09OLnBhcnNlKHN0cik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBXZWJGaW5nZXIucHJvdG90eXBlLl9faXNMb2NhbGhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgIHZhciBsb2NhbCA9IC9ebG9jYWxob3N0KFxcLmxvY2FsZG9tYWluKT8oXFw6WzAtOV0rKT8kLztcbiAgICByZXR1cm4gbG9jYWwudGVzdChob3N0KTtcbiAgfTtcblxuICAvLyBwcm9jZXNzZXMgSlJEIG9iamVjdCBhcyBpZiBpdCdzIGEgd2ViZmluZ2VyIHJlc3BvbnNlIG9iamVjdFxuICAvLyBsb29rcyBmb3Iga25vd24gcHJvcGVydGllcyBhbmQgYWRkcyB0aGVtIHRvIHByb2ZpbGUgZGF0YXQgc3RydWN0LlxuICBXZWJGaW5nZXIucHJvdG90eXBlLl9fcHJvY2Vzc0pSRCA9IGZ1bmN0aW9uIChVUkwsIEpSRCwgZXJyb3JIYW5kbGVyLCBzdWNjZXNzSGFuZGxlcikge1xuICAgIHZhciBwYXJzZWRKUkQgPSBKU09OLnBhcnNlKEpSRCk7XG4gICAgaWYgKCh0eXBlb2YgcGFyc2VkSlJEICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgKHR5cGVvZiBwYXJzZWRKUkQubGlua3MgIT09ICdvYmplY3QnKSkge1xuICAgICAgaWYgKHR5cGVvZiBwYXJzZWRKUkQuZXJyb3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7IG1lc3NhZ2U6IHBhcnNlZEpSRC5lcnJvciwgcmVxdWVzdDogVVJMIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7IG1lc3NhZ2U6ICd1bmtub3duIHJlc3BvbnNlIGZyb20gc2VydmVyJywgcmVxdWVzdDogVVJMIH0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGlua3MgPSBwYXJzZWRKUkQubGlua3M7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGxpbmtzKSkge1xuICAgICAgbGlua3MgPSBbXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IHsgIC8vIHdlYmZpbmdlciBKUkQgLSBvYmplY3QsIGpzb24sIGFuZCBvdXIgb3duIGluZGV4aW5nXG4gICAgICBvYmplY3Q6IHBhcnNlZEpSRCxcbiAgICAgIGpzb246IEpSRCxcbiAgICAgIGlkeDoge31cbiAgICB9O1xuXG4gICAgcmVzdWx0LmlkeC5wcm9wZXJ0aWVzID0ge1xuICAgICAgJ25hbWUnOiB1bmRlZmluZWRcbiAgICB9O1xuICAgIHJlc3VsdC5pZHgubGlua3MgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KExJTktfUFJPUEVSVElFUykpO1xuXG4gICAgLy8gcHJvY2VzcyBsaW5rc1xuICAgIGxpbmtzLm1hcChmdW5jdGlvbiAobGluaywgaSkge1xuICAgICAgaWYgKExJTktfVVJJX01BUFMuaGFzT3duUHJvcGVydHkobGluay5yZWwpKSB7XG4gICAgICAgIGlmIChyZXN1bHQuaWR4LmxpbmtzW0xJTktfVVJJX01BUFNbbGluay5yZWxdXSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IHt9O1xuICAgICAgICAgIE9iamVjdC5rZXlzKGxpbmspLm1hcChmdW5jdGlvbiAoaXRlbSwgbikge1xuICAgICAgICAgICAgZW50cnlbaXRlbV0gPSBsaW5rW2l0ZW1dO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc3VsdC5pZHgubGlua3NbTElOS19VUklfTUFQU1tsaW5rLnJlbF1dLnB1c2goZW50cnkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBwcm9jZXNzIHByb3BlcnRpZXNcbiAgICB2YXIgcHJvcHMgPSBKU09OLnBhcnNlKEpSRCkucHJvcGVydGllcztcbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdodHRwOi8vcGFja2V0aXplci5jb20vbnMvbmFtZScpIHtcbiAgICAgICAgICByZXN1bHQuaWR4LnByb3BlcnRpZXMubmFtZSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1Y2Nlc3NIYW5kbGVyKHJlc3VsdCk7XG4gIH07XG5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5sb29rdXAgPSBmdW5jdGlvbiAoYWRkcmVzcywgY2IpIHtcbiAgICBpZiAodHlwZW9mIGFkZHJlc3MgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IHBhcmFtZXRlciBtdXN0IGJlIGEgdXNlciBhZGRyZXNzJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc2Vjb25kIHBhcmFtZXRlciBtdXN0IGJlIGEgY2FsbGJhY2snKTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGhvc3QgPSAnJztcbiAgICBpZiAoYWRkcmVzcy5pbmRleE9mKCc6Ly8nKSA+IC0xKSB7XG4gICAgICAvLyBvdGhlciB1cmkgZm9ybWF0XG4gICAgICBob3N0ID0gYWRkcmVzcy5yZXBsYWNlKC8gL2csJycpLnNwbGl0KCcvJylbMl07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZXJhZGRyZXNzXG4gICAgICBob3N0ID0gYWRkcmVzcy5yZXBsYWNlKC8gL2csJycpLnNwbGl0KCdAJylbMV07XG4gICAgfVxuICAgIHZhciB1cmlfaW5kZXggPSAwOyAgICAgIC8vIHRyYWNrIHdoaWNoIFVSSVMgd2UndmUgdHJpZWQgYWxyZWFkeVxuICAgIHZhciBwcm90b2NvbCA9ICdodHRwcyc7IC8vIHdlIHVzZSBodHRwcyBieSBkZWZhdWx0XG5cbiAgICBpZiAoc2VsZi5fX2lzTG9jYWxob3N0KGhvc3QpKSB7XG4gICAgICBwcm90b2NvbCA9ICdodHRwJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfX2J1aWxkVVJMKCkge1xuICAgICAgdmFyIHVyaSA9ICcnO1xuICAgICAgaWYgKCEgYWRkcmVzcy5zcGxpdCgnOi8vJylbMV0pIHtcbiAgICAgICAgLy8gdGhlIFVSSSBoYXMgbm90IGJlZW4gZGVmaW5lZCwgZGVmYXVsdCB0byBhY2N0XG4gICAgICAgIHVyaSA9ICdhY2N0Oic7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvdG9jb2wgKyAnOi8vJyArIGhvc3QgKyAnLy53ZWxsLWtub3duLycgK1xuICAgICAgICAgICAgIFVSSVNbdXJpX2luZGV4XSArICc/cmVzb3VyY2U9JyArIHVyaSArIGFkZHJlc3M7XG4gICAgfVxuXG4gICAgLy8gY29udHJvbCBmbG93IGZvciBmYWlsdXJlcywgd2hhdCB0byBkbyBpbiB2YXJpb3VzIGNhc2VzLCBldGMuXG4gICAgZnVuY3Rpb24gX19mYWxsYmFja0NoZWNrcyhlcnIpIHtcbiAgICAgIGlmICgoc2VsZi5jb25maWcudXJpX2ZhbGxiYWNrKSAmJiAoaG9zdCAhPT0gJ3dlYmZpc3Qub3JnJykgJiYgKHVyaV9pbmRleCAhPT0gVVJJUy5sZW5ndGggLSAxKSkgeyAvLyB3ZSBoYXZlIHVyaXMgbGVmdCB0byB0cnlcbiAgICAgICAgdXJpX2luZGV4ID0gdXJpX2luZGV4ICsgMTtcbiAgICAgICAgcmV0dXJuIF9fY2FsbCgpO1xuICAgICAgfSBlbHNlIGlmICgoIXNlbGYuY29uZmlnLnRsc19vbmx5KSAmJiAocHJvdG9jb2wgPT09ICdodHRwcycpKSB7IC8vIHRyeSBub3JtYWwgaHR0cFxuICAgICAgICB1cmlfaW5kZXggPSAwO1xuICAgICAgICBwcm90b2NvbCA9ICdodHRwJztcbiAgICAgICAgcmV0dXJuIF9fY2FsbCgpO1xuICAgICAgfSBlbHNlIGlmICgoc2VsZi5jb25maWcud2ViZmlzdF9mYWxsYmFjaykgJiYgKGhvc3QgIT09ICd3ZWJmaXN0Lm9yZycpKSB7IC8vIHdlYmZpc3QgYXR0ZW1wdFxuICAgICAgICB1cmlfaW5kZXggPSAwO1xuICAgICAgICBwcm90b2NvbCA9ICdodHRwJztcbiAgICAgICAgaG9zdCA9ICd3ZWJmaXN0Lm9yZyc7XG4gICAgICAgIC8vIHdlYmZpc3Qgd2lsbFxuICAgICAgICAvLyAxLiBtYWtlIGEgcXVlcnkgdG8gdGhlIHdlYmZpc3Qgc2VydmVyIGZvciB0aGUgdXNlcnMgYWNjb3VudFxuICAgICAgICAvLyAyLiBmcm9tIHRoZSByZXNwb25zZSwgZ2V0IGEgbGluayB0byB0aGUgYWN0dWFsIHdlYmZpbmdlciBqc29uIGRhdGFcbiAgICAgICAgLy8gICAgKHN0b3JlZCBzb21ld2hlcmUgaW4gY29udHJvbCBvZiB0aGUgdXNlcilcbiAgICAgICAgLy8gMy4gbWFrZSBhIHJlcXVlc3QgdG8gdGhhdCB1cmwgYW5kIGdldCB0aGUganNvblxuICAgICAgICAvLyA0LiBwcm9jZXNzIGl0IGxpa2UgYSBub3JtYWwgd2ViZmluZ2VyIHJlc3BvbnNlXG4gICAgICAgIHZhciBVUkwgPSBfX2J1aWxkVVJMKCk7XG4gICAgICAgIHNlbGYuX19mZXRjaEpSRChVUkwsIGNiLCBmdW5jdGlvbiAoZGF0YSkgeyAvLyBnZXQgbGluayB0byB1c2VycyBKUkRcbiAgICAgICAgICBzZWxmLl9fcHJvY2Vzc0pSRChVUkwsIGRhdGEsIGNiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoKHR5cGVvZiByZXN1bHQuaWR4LmxpbmtzLndlYmZpc3QgPT09ICdvYmplY3QnKSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgcmVzdWx0LmlkeC5saW5rcy53ZWJmaXN0WzBdLmhyZWYgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgICAgICBzZWxmLl9fZmV0Y2hKUkQocmVzdWx0LmlkeC5saW5rcy53ZWJmaXN0WzBdLmhyZWYsIGNiLCBmdW5jdGlvbiAoSlJEKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fX3Byb2Nlc3NKUkQoVVJMLCBKUkQsIGNiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2IobnVsbCwgY2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfX2NhbGwoKSB7XG4gICAgICAvLyBtYWtlIHJlcXVlc3RcbiAgICAgIHZhciBVUkwgPSBfX2J1aWxkVVJMKCk7XG4gICAgICBzZWxmLl9fZmV0Y2hKUkQoVVJMLCBfX2ZhbGxiYWNrQ2hlY2tzLCBmdW5jdGlvbiAoSlJEKSB7XG4gICAgICAgIHNlbGYuX19wcm9jZXNzSlJEKFVSTCwgSlJELCBjYiwgZnVuY3Rpb24gKHJlc3VsdCkgeyBjYihudWxsLCByZXN1bHQpOyB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBzZXRUaW1lb3V0KF9fY2FsbCwgMCk7XG4gIH07XG5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5sb29rdXBMaW5rID0gZnVuY3Rpb24gKGFkZHJlc3MsIHJlbCwgY2IpIHtcbiAgICBpZiAoTElOS19QUk9QRVJUSUVTLmhhc093blByb3BlcnR5KHJlbCkpIHtcbiAgICAgIHRoaXMubG9va3VwKGFkZHJlc3MsIGZ1bmN0aW9uIChlcnIsIHApIHtcbiAgICAgICAgdmFyIGxpbmtzICA9IHAuaWR4LmxpbmtzW3JlbF07XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gY2IoJ25vIGxpbmtzIGZvdW5kIHdpdGggcmVsPVwiJyArIHJlbCArICdcIicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBjYihudWxsLCBsaW5rc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2IoJ3Vuc3VwcG9ydGVkIHJlbCAnICsgcmVsKTtcbiAgICB9XG4gIH07XG5cblxuXG4gIC8vIEFNRCBzdXBwb3J0XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gV2ViRmluZ2VyOyB9KTtcbiAgLy8gQ29tbW9uSlMgYW5kIE5vZGUuanMgbW9kdWxlIHN1cHBvcnQuXG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gU3VwcG9ydCBOb2RlLmpzIHNwZWNpZmljIGBtb2R1bGUuZXhwb3J0c2AgKHdoaWNoIGNhbiBiZSBhIGZ1bmN0aW9uKVxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBXZWJGaW5nZXI7XG4gICAgfVxuICAgIC8vIEJ1dCBhbHdheXMgc3VwcG9ydCBDb21tb25KUyBtb2R1bGUgMS4xLjEgc3BlYyAoYGV4cG9ydHNgIGNhbm5vdCBiZSBhIGZ1bmN0aW9uKVxuICAgIGV4cG9ydHMuV2ViRmluZ2VyID0gV2ViRmluZ2VyO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgPHNjcmlwdD4gc3VwcG9ydFxuICAgIGdsb2JhbC5XZWJGaW5nZXIgPSBXZWJGaW5nZXI7XG4gIH1cbn0pKHRoaXMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBYTUxIdHRwUmVxdWVzdDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgRW52IGZyb20gJy4vZW52JztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHsgZXh0ZW5kLCBsb2dFcnJvciB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgU0dQRCBmcm9tICcuL3N5bmNlZGdldHB1dGRlbGV0ZSc7XG5cbmltcG9ydCBBY2Nlc3MgZnJvbSAnLi9hY2Nlc3MnO1xuaW1wb3J0IEF1dGhvcml6ZSBmcm9tICcuL2F1dGhvcml6ZSc7XG5pbXBvcnQgRGlzY292ZXIgZnJvbSAnLi9kaXNjb3Zlcic7XG5pbXBvcnQgQmFzZUNsaWVudCBmcm9tICcuL2Jhc2VjbGllbnQnO1xuaW1wb3J0IEdvb2dsZURyaXZlIGZyb20gJy4vZ29vZ2xlZHJpdmUnO1xuaW1wb3J0IERyb3Bib3ggZnJvbSAnLi9kcm9wYm94JztcbmltcG9ydCBXaXJlQ2xpZW50IGZyb20gJy4vd2lyZWNsaWVudCc7XG5pbXBvcnQgU3luYyBmcm9tICcuL3N5bmMnO1xuXG4vLyBDYWNoaW5nXG5pbXBvcnQgQ2FjaGluZyBmcm9tICcuL2NhY2hpbmcnO1xuaW1wb3J0IEluZGV4ZWREQiBmcm9tICcuL2luZGV4ZWRkYic7XG5pbXBvcnQgTG9jYWxTdG9yYWdlIGZyb20gJy4vbG9jYWxzdG9yYWdlJztcbmltcG9ydCBJbk1lbW9yeVN0b3JhZ2UgZnJvbSAnLi9pbm1lbW9yeXN0b3JhZ2UnO1xuXG5jb25zdCBGZWF0dXJlcyA9IHtcbiAgZmVhdHVyZXM6IFtdLFxuICBmZWF0dXJlc0RvbmU6IDAsXG4gIHJlYWR5RmlyZWQ6IGZhbHNlLFxuXG4gIGxvYWRGZWF0dXJlcyAoKTogdm9pZCB7XG4gICAgdGhpcy5mZWF0dXJlcyA9IFtdO1xuICAgIHRoaXMuZmVhdHVyZXNEb25lID0gMDtcbiAgICB0aGlzLnJlYWR5RmlyZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuZmVhdHVyZU1vZHVsZXMgPSB7XG4gICAgICAnV2lyZUNsaWVudCc6IFdpcmVDbGllbnQsXG4gICAgICAnRHJvcGJveCc6IERyb3Bib3gsXG4gICAgICAnR29vZ2xlRHJpdmUnOiBHb29nbGVEcml2ZSxcbiAgICAgICdBY2Nlc3MnOiBBY2Nlc3MsXG4gICAgICAnRGlzY292ZXInOiBEaXNjb3ZlcixcbiAgICAgICdBdXRob3JpemUnOiBBdXRob3JpemUsXG4gICAgICAnQmFzZUNsaWVudCc6IEJhc2VDbGllbnQsXG4gICAgICAnRW52JzogRW52XG4gICAgfTtcblxuICAgIC8vIGVuYWJsZSBjYWNoaW5nIHJlbGF0ZWQgbW9kdWxlcyBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLmNhY2hlKSB7XG4gICAgICAvLyBUT0RPIHJlcGxhY2UgdXRpbC5leHRlbmQgd2l0aCBtb2Rlcm4gSlMgey4uLm9iamVjdCwgLi4ub2JqZWN0fVxuICAgICAgZXh0ZW5kKHRoaXMuZmVhdHVyZU1vZHVsZXMsIHtcbiAgICAgICAgJ0NhY2hpbmcnOiBDYWNoaW5nLFxuICAgICAgICAnSW5kZXhlZERCJzogSW5kZXhlZERCLFxuICAgICAgICAnTG9jYWxTdG9yYWdlJzogTG9jYWxTdG9yYWdlLFxuICAgICAgICAnSW5NZW1vcnlTdG9yYWdlJzogSW5NZW1vcnlTdG9yYWdlLFxuICAgICAgICAnU3luYyc6IFN5bmNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGRpc2FibGUgZmVhdHVyZXMgc2V0IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB0byB0aGUgUmVtb3RlU3RvcmFnZVxuICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgLy8gRm9yIGV4YW1wbGU6IFsnSW5kZXhlZERCJ11cbiAgICBjb25maWcuZGlzYWJsZUZlYXR1cmVzLmZvckVhY2goZmVhdHVyZSA9PiB7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlXSkge1xuICAgICAgICAvLyB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVdID0gdW5kZWZpbmVkXG4gICAgICAgIGRlbGV0ZSB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fYWxsTG9hZGVkID0gZmFsc2U7XG5cbiAgICBmb3IgKGNvbnN0IGZlYXR1cmVOYW1lIGluIHRoaXMuZmVhdHVyZU1vZHVsZXMpIHtcbiAgICAgIC8vIEZJWE1FOiB0aGlzIGhhcyB0byBwdXNoIHRoZSBwcm9taXNlZCByZXR1cm4gdmFsdWUgaW50byBhblxuICAgICAgLy8gYXJyYXkgb2YgcHJvbWlzZXMgYW5kIHVzZSBQcm9taXNlLmFsbCB0byBlbWl0IGByZWFkeWBcbiAgICAgIC8vIGluc3RlYWQgb2YgaW5jcmVtZW50IGEgY291bnRlciBvZiBsb2FkZWQgZmVhdHVyZXMuIC1sZXNcbiAgICAgIHRoaXMubG9hZEZlYXR1cmUoZmVhdHVyZU5hbWUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTWV0aG9kOiBoYXNGZWF0dXJlXG4gICAqXG4gICAqIENoZWNrcyB3aGV0aGVyIGEgZmVhdHVyZSBpcyBlbmFibGVkIG9yIG5vdCB3aXRoaW4gcmVtb3RlU3RvcmFnZS5cbiAgICogUmV0dXJucyBhIGJvb2xlYW4uXG4gICAqXG4gICAqIFBhcmFtZXRlcnM6XG4gICAqICAgbmFtZSAtIENhcGl0YWxpemVkIG5hbWUgb2YgdGhlIGZlYXR1cmUuIGUuZy4gQXV0aG9yaXplLCBvciBJbmRleGVkREJcbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICogICBpZiAocmVtb3RlU3RvcmFnZS5oYXNGZWF0dXJlKCdMb2NhbFN0b3JhZ2UnKSkge1xuICAgKiAgICAgY29uc29sZS5sb2coJ0xvY2FsU3RvcmFnZSBpcyBlbmFibGVkIScpO1xuICAgKiAgIH1cbiAgICogICAoZW5kIGNvZGUpXG4gICAqXG4gICAqL1xuICBoYXNGZWF0dXJlIChmZWF0dXJlKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZmVhdHVyZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVzW2ldLm5hbWUgPT09IGZlYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZXNbaV0uc3VwcG9ydGVkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgbG9hZEZlYXR1cmUgKGZlYXR1cmVOYW1lKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZU5hbWVdO1xuICAgIGNvbnN0IHN1cHBvcnRlZCA9ICFmZWF0dXJlLl9yc19zdXBwb3J0ZWQgfHwgZmVhdHVyZS5fcnNfc3VwcG9ydGVkKCk7XG5cbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0gaW5pdGlhbGl6aW5nIC4uLmApO1xuXG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICdvYmplY3QnKSB7XG4gICAgICBzdXBwb3J0ZWQudGhlbiggKCkgPT4ge1xuICAgICAgICB0aGlzLmZlYXR1cmVTdXBwb3J0ZWQoZmVhdHVyZU5hbWUsIHRydWUpO1xuICAgICAgICB0aGlzLmluaXRGZWF0dXJlKGZlYXR1cmVOYW1lKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgdGhpcy5mZWF0dXJlU3VwcG9ydGVkKGZlYXR1cmVOYW1lLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5mZWF0dXJlU3VwcG9ydGVkKGZlYXR1cmVOYW1lLCBzdXBwb3J0ZWQpO1xuICAgICAgaWYgKHN1cHBvcnRlZCkge1xuICAgICAgICB0aGlzLmluaXRGZWF0dXJlKGZlYXR1cmVOYW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mZWF0dXJlU3VwcG9ydGVkKGZlYXR1cmVOYW1lLCBmYWxzZSk7XG4gICAgfVxuICB9LFxuXG4gIGluaXRGZWF0dXJlIChmZWF0dXJlTmFtZSkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXTtcbiAgICBsZXQgaW5pdFJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgaW5pdFJlc3VsdCA9IGZlYXR1cmUuX3JzX2luaXQodGhpcyk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICB0aGlzLmZlYXR1cmVGYWlsZWQoZmVhdHVyZU5hbWUsIGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YoaW5pdFJlc3VsdCkgPT09ICdvYmplY3QnICYmIHR5cGVvZihpbml0UmVzdWx0LnRoZW4pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbml0UmVzdWx0LnRoZW4oXG4gICAgICAgICgpID0+IHsgdGhpcy5mZWF0dXJlSW5pdGlhbGl6ZWQoZmVhdHVyZU5hbWUpOyB9LFxuICAgICAgICAoZXJyKSA9PiB7IHRoaXMuZmVhdHVyZUZhaWxlZChmZWF0dXJlTmFtZSwgZXJyKTsgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mZWF0dXJlSW5pdGlhbGl6ZWQoZmVhdHVyZU5hbWUpO1xuICAgIH1cbiAgfSxcblxuICBmZWF0dXJlRmFpbGVkIChmZWF0dXJlTmFtZSwgZXJyKSB7XG4gICAgbG9nKGBbUmVtb3RlU3RvcmFnZV0gW0ZFQVRVUkUgJHtmZWF0dXJlTmFtZX1dIGluaXRpYWxpemF0aW9uIGZhaWxlZCAoJHtlcnJ9KWApO1xuICAgIHRoaXMuZmVhdHVyZURvbmUoKTtcbiAgfSxcblxuICBmZWF0dXJlU3VwcG9ydGVkIChmZWF0dXJlTmFtZSwgc3VjY2Vzcykge1xuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIFtGRUFUVVJFICR7ZmVhdHVyZU5hbWV9XSR7c3VjY2VzcyA/ICcnIDogJ25vdCAnfSBzdXBwb3J0ZWRgKTtcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMuZmVhdHVyZURvbmUoKTtcbiAgICB9XG4gIH0sXG5cbiAgZmVhdHVyZUluaXRpYWxpemVkIChmZWF0dXJlTmFtZSkge1xuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIFtGRUFUVVJFICR7ZmVhdHVyZU5hbWV9XSBpbml0aWFsaXplZGApO1xuICAgIHRoaXMuZmVhdHVyZXMucHVzaCh7XG4gICAgICBuYW1lIDogZmVhdHVyZU5hbWUsXG4gICAgICBpbml0IDogIHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZU5hbWVdLl9yc19pbml0LFxuICAgICAgc3VwcG9ydGVkIDogdHJ1ZSxcbiAgICAgIGNsZWFudXAgOiB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXS5fcnNfY2xlYW51cFxuICAgIH0pO1xuICAgIHRoaXMuZmVhdHVyZURvbmUoKTtcbiAgfSxcblxuICBmZWF0dXJlRG9uZSAoKSB7XG4gICAgdGhpcy5mZWF0dXJlc0RvbmUrKztcbiAgICBpZiAodGhpcy5mZWF0dXJlc0RvbmUgPT09IE9iamVjdC5rZXlzKHRoaXMuZmVhdHVyZU1vZHVsZXMpLmxlbmd0aCkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLmZlYXR1cmVzTG9hZGVkLmJpbmQodGhpcyksIDApO1xuICAgIH1cbiAgfSxcblxuICBfc2V0Q2FjaGluZ01vZHVsZSAoKSB7XG4gICAgY29uc3QgY2FjaGluZ01vZHVsZXMgPSBbJ0luZGV4ZWREQicsICdMb2NhbFN0b3JhZ2UnLCAnSW5NZW1vcnlTdG9yYWdlJ107XG5cbiAgICBjYWNoaW5nTW9kdWxlcy5zb21lKCBjYWNoaW5nTGF5ZXIgPT4ge1xuICAgICAgaWYgKHRoaXMuZmVhdHVyZXMuc29tZShmZWF0dXJlID0+IGZlYXR1cmUubmFtZSA9PT0gY2FjaGluZ0xheWVyKSkge1xuICAgICAgICB0aGlzLmZlYXR1cmVzLmxvY2FsID0gdGhpcy5mZWF0dXJlTW9kdWxlc1tjYWNoaW5nTGF5ZXJdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfZmlyZVJlYWR5KCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMucmVhZHlGaXJlZCkge1xuICAgICAgICB0aGlzLl9lbWl0KCdyZWFkeScpO1xuICAgICAgICB0aGlzLnJlYWR5RmlyZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIidyZWFkeScgZmFpbGVkOiBcIiwgZSwgZS5zdGFjayk7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIGUpO1xuICAgIH1cbiAgfSxcblxuICBmZWF0dXJlc0xvYWRlZCAoKSB7XG4gICAgbG9nKGBbUmVtb3RlU3RvcmFnZV0gQWxsIGZlYXR1cmVzIGxvYWRlZGApO1xuXG4gICAgdGhpcy5fc2V0Q2FjaGluZ01vZHVsZSgpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgdGhpcy5sb2NhbCA9IGNvbmZpZy5jYWNoZSAmJiB0aGlzLmZlYXR1cmVzLmxvY2FsICYmIG5ldyB0aGlzLmZlYXR1cmVzLmxvY2FsKCk7XG5cbiAgICAvLyB0aGlzLnJlbW90ZSBzZXQgYnkgV2lyZUNsaWVudC5fcnNfaW5pdCBhcyBsYXp5IHByb3BlcnR5IG9uXG4gICAgLy8gUlMucHJvdG90eXBlXG5cbiAgICBpZiAodGhpcy5sb2NhbCAmJiB0aGlzLnJlbW90ZSkge1xuICAgICAgdGhpcy5fc2V0R1BEKFNHUEQsIHRoaXMpO1xuICAgICAgdGhpcy5fYmluZENoYW5nZSh0aGlzLmxvY2FsKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgICB0aGlzLl9zZXRHUEQodGhpcy5yZW1vdGUsIHRoaXMucmVtb3RlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgICB0aGlzLnJlbW90ZS5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9maXJlUmVhZHkoKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVtb3RlLm9uKCdub3QtY29ubmVjdGVkJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9maXJlUmVhZHkoKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5yZW1vdGUuY29ubmVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2ZpcmVSZWFkeSgpO1xuICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhhc0ZlYXR1cmUoJ0F1dGhvcml6ZScpKSB7XG4gICAgICAgIHRoaXMucmVtb3RlLnN0b3BXYWl0aW5nRm9yVG9rZW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2FsbExvYWRlZCA9IHRydWU7XG4gICAgICB0aGlzLl9lbWl0KCdmZWF0dXJlcy1sb2FkZWQnKTtcbiAgICB9IGNhdGNoKGV4Yykge1xuICAgICAgbG9nRXJyb3IoZXhjKTtcbiAgICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgZXhjKTtcbiAgICB9XG4gICAgdGhpcy5fcHJvY2Vzc1BlbmRpbmcoKTtcbiAgfSxcblxuICBfY29sbGVjdENsZWFudXBGdW5jdGlvbnMgKCk6IHZvaWQge1xuICAgIHRoaXMuX2NsZWFudXBzID0gW107XG4gICAgZm9yIChsZXQgaT0wOyBpIDwgdGhpcy5mZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2xlYW51cCA9IHRoaXMuZmVhdHVyZXNbaV0uY2xlYW51cDtcbiAgICAgIGlmICh0eXBlb2YoY2xlYW51cCkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5fY2xlYW51cHMucHVzaChjbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZlYXR1cmVzO1xuIiwiaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5cbmZ1bmN0aW9uIHNoYXJlRmlyc3QocGF0aDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAoIHRoaXMuYmFja2VuZCA9PT0gJ2Ryb3Bib3gnICYmXG4gICAgICAgICAgICEhcGF0aC5tYXRjaCgvXlxcL3B1YmxpY1xcLy4qW15cXC9dJC8pICk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRNYXhBZ2UoY29udGV4dCk6IGZhbHNlIHwgbnVtYmVyIHtcbiAgaWYgKCh0eXBlb2YgY29udGV4dC5yZW1vdGUgPT09ICdvYmplY3QnKSAmJlxuICAgICAgY29udGV4dC5yZW1vdGUuY29ubmVjdGVkICYmIGNvbnRleHQucmVtb3RlLm9ubGluZSkge1xuICAgIHJldHVybiAyICogY29udGV4dC5nZXRTeW5jSW50ZXJ2YWwoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2coJ05vdCBzZXR0aW5nIGRlZmF1bHQgbWF4QWdlLCBiZWNhdXNlIHJlbW90ZSBpcyBvZmZsaW5lIG9yIG5vdCBjb25uZWN0ZWQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgU3luY2VkR2V0UHV0RGVsZXRlID0ge1xuICBnZXQ6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG1heEFnZTogdW5kZWZpbmVkIHwgZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAoIXRoaXMubG9jYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW90ZS5nZXQocGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgbWF4QWdlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtYXhBZ2UgPSBkZWZhdWx0TWF4QWdlKHRoaXMpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWF4QWdlICE9PSAnbnVtYmVyJyAmJiBtYXhBZ2UgIT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgQXJndW1lbnQgJ21heEFnZScgbXVzdCBiZSAnZmFsc2UnIG9yIGEgbnVtYmVyYCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5nZXQocGF0aCwgbWF4QWdlLCB0aGlzLnN5bmMucXVldWVHZXRSZXF1ZXN0LmJpbmQodGhpcy5zeW5jKSk7XG4gICAgfVxuICB9LFxuXG4gIHB1dDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgYm9keTogdW5rbm93biwgY29udGVudFR5cGU6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmIChzaGFyZUZpcnN0LmJpbmQodGhpcykocGF0aCkpIHtcbiAgICAgIHJldHVybiBTeW5jZWRHZXRQdXREZWxldGUuX3dyYXBCdXN5RG9uZS5jYWxsKHRoaXMsIHRoaXMucmVtb3RlLnB1dChwYXRoLCBib2R5LCBjb250ZW50VHlwZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmxvY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5wdXQocGF0aCwgYm9keSwgY29udGVudFR5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3luY2VkR2V0UHV0RGVsZXRlLl93cmFwQnVzeURvbmUuY2FsbCh0aGlzLCB0aGlzLnJlbW90ZS5wdXQocGF0aCwgYm9keSwgY29udGVudFR5cGUpKTtcbiAgICB9XG4gIH0sXG5cbiAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodGhpcy5sb2NhbCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZGVsZXRlKHBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3luY2VkR2V0UHV0RGVsZXRlLl93cmFwQnVzeURvbmUuY2FsbCh0aGlzLCB0aGlzLnJlbW90ZS5kZWxldGUocGF0aCkpO1xuICAgIH1cbiAgfSxcblxuICBfd3JhcEJ1c3lEb25lOiBhc3luYyBmdW5jdGlvbiAocmVzdWx0OiBQcm9taXNlPHVua25vd24+KTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgdGhpcy5fZW1pdCgnd2lyZS1idXN5Jyk7XG4gICAgcmV0dXJuIHJlc3VsdC50aGVuKChyKSA9PiB7XG4gICAgICB0aGlzLl9lbWl0KCd3aXJlLWRvbmUnLCB7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgIH0sIChlcnI6IEVycm9yKSA9PiB7XG4gICAgICB0aGlzLl9lbWl0KCd3aXJlLWRvbmUnLCB7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFN5bmNlZEdldFB1dERlbGV0ZTtcbiIsImltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IEVudiBmcm9tICcuL2Vudic7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQgQXV0aG9yaXplIGZyb20gJy4vYXV0aG9yaXplJztcbmltcG9ydCBTeW5jRXJyb3IgZnJvbSAnLi9zeW5jLWVycm9yJztcbmltcG9ydCBVbmF1dGhvcml6ZWRFcnJvciBmcm9tICcuL3VuYXV0aG9yaXplZC1lcnJvcic7XG5pbXBvcnQge1xuICBhcHBseU1peGlucyxcbiAgZGVlcENsb25lLFxuICBlcXVhbCxcbiAgaXNGb2xkZXIsXG4gIGlzRG9jdW1lbnQsXG4gIHBhdGhzRnJvbVJvb3Rcbn0gZnJvbSAnLi91dGlsJztcblxubGV0IHN5bmNDeWNsZUNiLCBzeW5jT25Db25uZWN0O1xuXG5pbnRlcmZhY2UgUmVzcG9uc2VTdGF0dXMge1xuICBzdGF0dXNDb2RlOiBzdHJpbmcgfCBudW1iZXI7XG4gIHN1Y2Nlc3NmdWw6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGNvbmZsaWN0OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICB1bkF1dGg6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIG5vdEZvdW5kOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjaGFuZ2VkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBuZXR3b3JrUHJvYmxlbXM6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG59XG5cbmludGVyZmFjZSBTeW5jVGFzayB7XG4gIGFjdGlvbjogYW55O1xuICBwYXRoOiBzdHJpbmc7XG4gIHByb21pc2U6IFByb21pc2U8YW55Pjtcbn1cblxuZnVuY3Rpb24gdGFza0ZvciAoYWN0aW9uLCBwYXRoOiBzdHJpbmcsIHByb21pc2U6IFByb21pc2U8YW55Pik6IFN5bmNUYXNrIHtcbiAgcmV0dXJuIHsgYWN0aW9uLCBwYXRoLCBwcm9taXNlIH07XG59XG5cbmZ1bmN0aW9uIG5vZGVDaGFuZ2VkIChub2RlOiBSU05vZGUsIGV0YWc6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9kZS5jb21tb24ucmV2aXNpb24gIT09IGV0YWcgJiZcbiAgICAgICAgICghbm9kZS5yZW1vdGUgfHwgbm9kZS5yZW1vdGUucmV2aXNpb24gIT09IGV0YWcpO1xufVxuXG5mdW5jdGlvbiBpc1N0YWxlQ2hpbGQgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9kZS5yZW1vdGUgJiYgbm9kZS5yZW1vdGUucmV2aXNpb24gJiYgIW5vZGUucmVtb3RlLml0ZW1zTWFwICYmICFub2RlLnJlbW90ZS5ib2R5O1xufVxuXG5mdW5jdGlvbiBoYXNDb21tb25SZXZpc2lvbiAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gIHJldHVybiBub2RlLmNvbW1vbiAmJiBub2RlLmNvbW1vbi5yZXZpc2lvbjtcbn1cblxuZnVuY3Rpb24gaGFzTm9SZW1vdGVDaGFuZ2VzIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgaWYgKG5vZGUucmVtb3RlICYmIG5vZGUucmVtb3RlLnJldmlzaW9uICYmXG4gICAgICBub2RlLnJlbW90ZS5yZXZpc2lvbiAhPT0gbm9kZS5jb21tb24ucmV2aXNpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChub2RlLmNvbW1vbi5ib2R5ID09PSB1bmRlZmluZWQgJiYgbm9kZS5yZW1vdGUuYm9keSA9PT0gZmFsc2UpIHx8XG4gICAgKG5vZGUucmVtb3RlLmJvZHkgPT09IG5vZGUuY29tbW9uLmJvZHkgJiZcbiAgICAgbm9kZS5yZW1vdGUuY29udGVudFR5cGUgPT09IG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VNdXR1YWxEZWxldGlvbiAobm9kZTogUlNOb2RlKTogUlNOb2RlIHtcbiAgaWYgKG5vZGUucmVtb3RlICYmIG5vZGUucmVtb3RlLmJvZHkgPT09IGZhbHNlICYmXG4gICAgICBub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuYm9keSA9PT0gZmFsc2UpIHtcbiAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eSAoZW52LCBycyk6IHZvaWQge1xuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UgKGlzRm9yZWdyb3VuZCk6IHZvaWQge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gcnMuZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCgpO1xuICAgIGNvbmZpZy5pc0JhY2tncm91bmQgPSAhaXNGb3JlZ3JvdW5kO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gcnMuZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCgpO1xuICAgIHJzLl9lbWl0KCdzeW5jLWludGVydmFsLWNoYW5nZScsIHtvbGRWYWx1ZTogb2xkVmFsdWUsIG5ld1ZhbHVlOiBuZXdWYWx1ZX0pO1xuICB9XG4gIGVudi5vbignYmFja2dyb3VuZCcsICgpID0+IGhhbmRsZUNoYW5nZShmYWxzZSkpO1xuICBlbnYub24oJ2ZvcmVncm91bmQnLCAoKSA9PiBoYW5kbGVDaGFuZ2UodHJ1ZSkpO1xufVxuXG4vKipcbiAqIENsYXNzOiBSZW1vdGVTdG9yYWdlLlN5bmNcbiAqXG4gKiBUaGlzIGNsYXNzIGJhc2ljYWxseSBkb2VzIHNpeCB0aGluZ3M6XG4gKlxuICogLSByZXRyaWV2ZSB0aGUgcmVtb3RlIHZlcnNpb24gb2YgcmVsZXZhbnQgZG9jdW1lbnRzIGFuZCBmb2xkZXJzXG4gKiAtIGFkZCBhbGwgbG9jYWwgYW5kIHJlbW90ZSBkb2N1bWVudHMgdG9nZXRoZXIgaW50byBvbmUgdHJlZVxuICogLSBwdXNoIGxvY2FsIGRvY3VtZW50cyBvdXQgaWYgdGhleSBkb24ndCBleGlzdCByZW1vdGVseVxuICogLSBwdXNoIGxvY2FsIGNoYW5nZXMgb3V0IHRvIHJlbW90ZSBkb2N1bWVudHMgKGNvbmRpdGlvbmFsbHksIHRvIGF2b2lkIHJhY2VcbiAqICAgY29uZGl0aW9ucyB3aGVyZSBib3RoIGhhdmUgY2hhbmdlZClcbiAqIC0gYWRvcHQgdGhlIGxvY2FsIHZlcnNpb24gb2YgYSBkb2N1bWVudCB0byBpdHMgcmVtb3RlIHZlcnNpb24gaWYgYm90aCBleGlzdFxuICogICBhbmQgdGhleSBkaWZmZXJcbiAqIC0gZGVsZXRlIHRoZSBsb2NhbCB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQgaWYgaXQgd2FzIGRlbGV0ZWQgcmVtb3RlbHlcbiAqIC0gaWYgYW55IEdFVCByZXF1ZXN0cyB3ZXJlIHdhaXRpbmcgZm9yIHJlbW90ZSBkYXRhLCByZXNvbHZlIHRoZW0gb25jZSB0aGlzXG4gKiAgIGRhdGEgY29tZXMgaW4uXG4gKlxuICogSXQgZG9lcyB0aGlzIHVzaW5nIHJlcXVlc3RzIHRvIGRvY3VtZW50cyBhbmQgZm9sZGVycy4gV2hlbmV2ZXIgYSBmb2xkZXIgR0VUXG4gKiBjb21lcyBpbiwgaXQgZ2l2ZXMgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHRoZSBkb2N1bWVudHMgaXQgY29udGFpbnMgKHRoaXMgaXNcbiAqIHRoZSBgbWFya0NoaWxkcmVuYCBmdW5jdGlvbikuXG4gKiovXG5jbGFzcyBTeW5jIHtcbiAgLy8gVE9ETyByZW1vdmUgd2hlbiBSUyBpcyBkZWZpbmVkLCBvciBpZiB1bm5lY2Vzc2FyeVxuICByczogeyBbcHJvcE5hbWU6IHN0cmluZ106IGFueSB9XG5cbiAgbnVtVGhyZWFkczogbnVtYmVyXG4gIGRvbmU6IGJvb2xlYW5cbiAgc3RvcHBlZDogYm9vbGVhblxuXG4gIC8vIFRPRE8gZGVmaW5lIGluIG1vcmUgZGV0YWlsXG4gIF90YXNrczogb2JqZWN0XG4gIF9ydW5uaW5nOiBvYmplY3RcbiAgX3RpbWVTdGFydGVkOiBvYmplY3RcblxuICBjb25zdHJ1Y3RvciAocmVtb3RlU3RvcmFnZTogb2JqZWN0KSB7XG4gICAgdGhpcy5ycyA9IHJlbW90ZVN0b3JhZ2U7XG5cbiAgICB0aGlzLl90YXNrcyAgICAgICA9IHt9O1xuICAgIHRoaXMuX3J1bm5pbmcgICAgID0ge307XG4gICAgdGhpcy5fdGltZVN0YXJ0ZWQgPSB7fTtcblxuICAgIHRoaXMubnVtVGhyZWFkcyA9IDEwO1xuXG4gICAgdGhpcy5ycy5sb2NhbC5vbkRpZmYocGF0aCA9PiB7XG4gICAgICB0aGlzLmFkZFRhc2socGF0aCk7XG4gICAgICB0aGlzLmRvVGFza3MoKTtcbiAgICB9KTtcblxuICAgIHRoaXMucnMuY2FjaGluZy5vbkFjdGl2YXRlKChwYXRoOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMuYWRkVGFzayhwYXRoKTtcbiAgICAgIHRoaXMuZG9UYXNrcygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRFdmVudHMoWydkb25lJywgJ3JlcS1kb25lJ10pO1xuICB9XG5cbiAgcHVibGljIG5vdyAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxuICBwdWJsaWMgcXVldWVHZXRSZXF1ZXN0IChwYXRoOiBzdHJpbmcpOiBvYmplY3Qge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoIXRoaXMucnMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICByZWplY3QoJ2Nhbm5vdCBmdWxmaWxsIG1heEFnZSByZXF1aXJlbWVudCAtIHJlbW90ZSBpcyBub3QgY29ubmVjdGVkJyk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnJzLnJlbW90ZS5vbmxpbmUpIHtcbiAgICAgICAgcmVqZWN0KCdjYW5ub3QgZnVsZmlsbCBtYXhBZ2UgcmVxdWlyZW1lbnQgLSByZW1vdGUgaXMgbm90IG9ubGluZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGRUYXNrKHBhdGgsIGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgICAgICB0aGlzLnJzLmxvY2FsLmdldChwYXRoKS50aGVuKHIgPT4gcmVzb2x2ZShyKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5kb1Rhc2tzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBGSVhNRSBmb3JjZTAyIHNvdW5kcyBsaWtlIHJzIHNwZWMgMDIsIHRodXMgY291bGQgYmUgcmVtb3ZlZFxuICBwdWJsaWMgY29ycnVwdFNlcnZlckl0ZW1zTWFwIChpdGVtc01hcCwgZm9yY2UwMj86IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICBpZiAoKHR5cGVvZihpdGVtc01hcCkgIT09ICdvYmplY3QnKSB8fCAoQXJyYXkuaXNBcnJheShpdGVtc01hcCkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW1OYW1lIGluIGl0ZW1zTWFwKSB7XG4gICAgICBjb25zdCBpdGVtID0gaXRlbXNNYXBbaXRlbU5hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mKGl0ZW0pICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YoaXRlbS5FVGFnKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNGb2xkZXIoaXRlbU5hbWUpKSB7XG4gICAgICAgIGlmIChpdGVtTmFtZS5zdWJzdHJpbmcoMCwgaXRlbU5hbWUubGVuZ3RoLTEpLmluZGV4T2YoJy8nKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGl0ZW1OYW1lLmluZGV4T2YoJy8nKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9yY2UwMikge1xuICAgICAgICAgIGlmICh0eXBlb2YoaXRlbVsnQ29udGVudC1UeXBlJ10pICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YoaXRlbVsnQ29udGVudC1MZW5ndGgnXSkgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgY29ycnVwdEl0ZW1zTWFwIChpdGVtc01hcCk6IGJvb2xlYW4ge1xuICAgIGlmICgodHlwZW9mKGl0ZW1zTWFwKSAhPT0gJ29iamVjdCcpIHx8IChBcnJheS5pc0FycmF5KGl0ZW1zTWFwKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcGF0aCBpbiBpdGVtc01hcCkge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtc01hcFtwYXRoXSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBjb3JydXB0UmV2aXNpb24gKHJldik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoKHR5cGVvZihyZXYpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgIChBcnJheS5pc0FycmF5KHJldikpIHx8XG4gICAgICAgICAgICAocmV2LnJldmlzaW9uICYmIHR5cGVvZihyZXYucmV2aXNpb24pICE9PSAnc3RyaW5nJykgfHxcbiAgICAgICAgICAgIChyZXYuYm9keSAmJiB0eXBlb2YocmV2LmJvZHkpICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YocmV2LmJvZHkpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgIChyZXYuY29udGVudFR5cGUgJiYgdHlwZW9mKHJldi5jb250ZW50VHlwZSkgIT09ICdzdHJpbmcnKSB8fFxuICAgICAgICAgICAgKHJldi5jb250ZW50TGVuZ3RoICYmIHR5cGVvZihyZXYuY29udGVudExlbmd0aCkgIT09ICdudW1iZXInKSB8fFxuICAgICAgICAgICAgKHJldi50aW1lc3RhbXAgJiYgdHlwZW9mKHJldi50aW1lc3RhbXApICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgIChyZXYuaXRlbXNNYXAgJiYgdGhpcy5jb3JydXB0SXRlbXNNYXAocmV2Lml0ZW1zTWFwKSkpO1xuICB9XG5cbiAgcHVibGljIGlzQ29ycnVwdCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICgodHlwZW9mKG5vZGUpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgIChBcnJheS5pc0FycmF5KG5vZGUpKSB8fFxuICAgICAgICAgICAgKHR5cGVvZihub2RlLnBhdGgpICE9PSAnc3RyaW5nJykgfHxcbiAgICAgICAgICAgICh0aGlzLmNvcnJ1cHRSZXZpc2lvbihub2RlLmNvbW1vbikpIHx8XG4gICAgICAgICAgICAobm9kZS5sb2NhbCAmJiB0aGlzLmNvcnJ1cHRSZXZpc2lvbihub2RlLmxvY2FsKSkgfHxcbiAgICAgICAgICAgIChub2RlLnJlbW90ZSAmJiB0aGlzLmNvcnJ1cHRSZXZpc2lvbihub2RlLnJlbW90ZSkpIHx8XG4gICAgICAgICAgICAobm9kZS5wdXNoICYmIHRoaXMuY29ycnVwdFJldmlzaW9uKG5vZGUucHVzaCkpKTtcbiAgfVxuXG4gIHB1YmxpYyBoYXNUYXNrcyAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX3Rhc2tzKS5sZW5ndGggPiAwO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGNvbGxlY3REaWZmVGFza3MgKCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgbGV0IG51bSA9IDA7XG5cbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5mb3JBbGxOb2Rlcygobm9kZTogUlNOb2RlKSA9PiB7XG4gICAgICBpZiAobnVtID4gMTAwKSB7IHJldHVybjsgfVxuXG4gICAgICBpZiAodGhpcy5pc0NvcnJ1cHQobm9kZSkpIHtcbiAgICAgICAgbG9nKCdbU3luY10gV0FSTklORzogY29ycnVwdCBub2RlIGluIGxvY2FsIGNhY2hlJywgbm9kZSk7XG4gICAgICAgIGlmICh0eXBlb2Yobm9kZSkgPT09ICdvYmplY3QnICYmIG5vZGUucGF0aCkge1xuICAgICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICAgIG51bSsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubmVlZHNGZXRjaChub2RlKSAmJiB0aGlzLnJzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKG5vZGUucGF0aCwgJ3InKSkge1xuICAgICAgICB0aGlzLmFkZFRhc2sobm9kZS5wYXRoKTtcbiAgICAgICAgbnVtKys7XG4gICAgICB9IGVsc2UgaWYgKGlzRG9jdW1lbnQobm9kZS5wYXRoKSAmJiB0aGlzLm5lZWRzUHVzaChub2RlKSAmJlxuICAgICAgICAgICAgICAgICB0aGlzLnJzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKG5vZGUucGF0aCwgJ3J3JykpIHtcbiAgICAgICAgdGhpcy5hZGRUYXNrKG5vZGUucGF0aCk7XG4gICAgICAgIG51bSsrO1xuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKCk6IG51bWJlciA9PiBudW0pXG4gICAgLmNhdGNoKGUgPT4geyB0aHJvdyBlOyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBpbkNvbmZsaWN0IChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKG5vZGUubG9jYWwgJiYgbm9kZS5yZW1vdGUgJiZcbiAgICAgICAgICAgIChub2RlLnJlbW90ZS5ib2R5ICE9PSB1bmRlZmluZWQgfHwgbm9kZS5yZW1vdGUuaXRlbXNNYXApKTtcbiAgfVxuXG4gIHB1YmxpYyBuZWVkc1JlZnJlc2ggKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIGlmIChub2RlLmNvbW1vbikge1xuICAgICAgaWYgKCFub2RlLmNvbW1vbi50aW1lc3RhbXApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHRoaXMubm93KCkgLSBub2RlLmNvbW1vbi50aW1lc3RhbXAgPiBjb25maWcuc3luY0ludGVydmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIG5lZWRzRmV0Y2ggKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmluQ29uZmxpY3Qobm9kZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobm9kZS5jb21tb24gJiZcbiAgICAgICAgbm9kZS5jb21tb24uaXRlbXNNYXAgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBub2RlLmNvbW1vbi5ib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobm9kZS5yZW1vdGUgJiZcbiAgICAgICAgbm9kZS5yZW1vdGUuaXRlbXNNYXAgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBub2RlLnJlbW90ZS5ib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgbmVlZHNQdXNoIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pbkNvbmZsaWN0KG5vZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChub2RlLmxvY2FsICYmICFub2RlLnB1c2gpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBuZWVkc1JlbW90ZVB1dCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5ib2R5O1xuICB9XG5cbiAgcHVibGljIG5lZWRzUmVtb3RlRGVsZXRlIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGdldFBhcmVudFBhdGggKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFydHMgPSBwYXRoLm1hdGNoKC9eKC4qXFwvKShbXlxcL10rXFwvPykkLyk7XG5cbiAgICBpZiAocGFydHMpIHtcbiAgICAgIHJldHVybiBwYXJ0c1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSB2YWxpZCBwYXRoOiBcIicrcGF0aCsnXCInKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlQ2hpbGRQYXRoc0Zyb21UYXNrcyAoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBwYXRoIGluIHRoaXMuX3Rhc2tzKSB7XG4gICAgICBjb25zdCBwYXRocyA9IHBhdGhzRnJvbVJvb3QocGF0aCk7XG5cbiAgICAgIGZvciAobGV0IGk9MTsgaTxwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fdGFza3NbcGF0aHNbaV1dKSB7XG4gICAgICAgICAgLy8gbW92ZSBwZW5kaW5nIHByb21pc2VzIHRvIHBhcmVudCB0YXNrXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fdGFza3NbcGF0aF0pICYmIHRoaXMuX3Rhc2tzW3BhdGhdLmxlbmd0aCkge1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoXG4gICAgICAgICAgICAgIHRoaXMuX3Rhc2tzW3BhdGhzW2ldXSxcbiAgICAgICAgICAgICAgdGhpcy5fdGFza3NbcGF0aF1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSB0aGlzLl90YXNrc1twYXRoXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb2xsZWN0UmVmcmVzaFRhc2tzICgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5mb3JBbGxOb2Rlcygobm9kZTogUlNOb2RlKSA9PiB7XG4gICAgICBsZXQgcGFyZW50UGF0aDogc3RyaW5nO1xuICAgICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoKG5vZGUpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFyZW50UGF0aCA9IHRoaXMuZ2V0UGFyZW50UGF0aChub2RlLnBhdGgpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAvLyBub2RlLnBhdGggaXMgYWxyZWFkeSAnLycsIGNhbid0IHRha2UgcGFyZW50UGF0aFxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRQYXRoICYmIHRoaXMucnMuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24ocGFyZW50UGF0aCwgJ3InKSkge1xuICAgICAgICAgIHRoaXMuYWRkVGFzayhwYXJlbnRQYXRoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKG5vZGUucGF0aCwgJ3InKSkge1xuICAgICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB0aGlzLmRlbGV0ZUNoaWxkUGF0aHNGcm9tVGFza3MoKSlcbiAgICAuY2F0Y2goKGU6IEVycm9yKSA9PiB7IHRocm93IGU7IH0pO1xuICB9XG5cbiAgcHVibGljIGZsdXNoIChub2RlczogUlNOb2Rlcyk6IFJTTm9kZXMge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgLy8gU3RyYXRlZ3kgaXMgJ0ZMVVNIJyBhbmQgbm8gbG9jYWwgY2hhbmdlcyBleGlzdFxuICAgICAgaWYgKHRoaXMucnMuY2FjaGluZy5jaGVja1BhdGgocGF0aCkgPT09ICdGTFVTSCcgJiZcbiAgICAgICAgICBub2Rlc1twYXRoXSAmJiAhbm9kZXNbcGF0aF0ubG9jYWwpIHtcbiAgICAgICAgbG9nKCdbU3luY10gRmx1c2hpbmcnLCBwYXRoKTtcbiAgICAgICAgbm9kZXNbcGF0aF0gPSB1bmRlZmluZWQ7IC8vIENhdXNlIG5vZGUgdG8gYmUgZmx1c2hlZCBmcm9tIGNhY2hlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlcztcbiAgfVxuXG4gIHB1YmxpYyBkb1Rhc2sgKHBhdGg6IHN0cmluZyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgLy8gRmlyc3QgZmV0Y2g6XG4gICAgICBpZiAodHlwZW9mKG5vZGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCwgdGhpcy5ycy5yZW1vdGUuZ2V0KHBhdGgpKTtcbiAgICAgIH1cbiAgICAgIC8vIEZldGNoIGtub3duLXN0YWxlIGNoaWxkOlxuICAgICAgZWxzZSBpZiAoaXNTdGFsZUNoaWxkKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLCB0aGlzLnJzLnJlbW90ZS5nZXQocGF0aCkpO1xuICAgICAgfVxuICAgICAgLy8gUHVzaCBQVVQ6XG4gICAgICBlbHNlIGlmICh0aGlzLm5lZWRzUmVtb3RlUHV0KG5vZGUpKSB7XG4gICAgICAgIG5vZGUucHVzaCA9IGRlZXBDbG9uZShub2RlLmxvY2FsKTtcbiAgICAgICAgbm9kZS5wdXNoLnRpbWVzdGFtcCA9IHRoaXMubm93KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChub2RlcykpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICAgIGlmIChoYXNDb21tb25SZXZpc2lvbihub2RlKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgaWZNYXRjaDogbm9kZS5jb21tb24ucmV2aXNpb24gfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSW5pdGlhbCBQVVQgKGZhaWwgaWYgc29tZXRoaW5nIGlzIGFscmVhZHkgdGhlcmUpXG4gICAgICAgICAgICBvcHRpb25zID0geyBpZk5vbmVNYXRjaDogJyonIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ3B1dCcsIHBhdGgsXG4gICAgICAgICAgICB0aGlzLnJzLnJlbW90ZS5wdXQocGF0aCwgbm9kZS5wdXNoLmJvZHksIG5vZGUucHVzaC5jb250ZW50VHlwZSwgb3B0aW9ucylcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFB1c2ggREVMRVRFOlxuICAgICAgZWxzZSBpZiAodGhpcy5uZWVkc1JlbW90ZURlbGV0ZShub2RlKSkge1xuICAgICAgICBub2RlLnB1c2ggPSB7IGJvZHk6IGZhbHNlLCB0aW1lc3RhbXA6IHRoaXMubm93KCkgfTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgaWYgKGhhc0NvbW1vblJldmlzaW9uKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza0ZvcignZGVsZXRlJywgcGF0aCxcbiAgICAgICAgICAgICAgdGhpcy5ycy5yZW1vdGUuZGVsZXRlKHBhdGgsIHsgaWZNYXRjaDogbm9kZS5jb21tb24ucmV2aXNpb24gfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gQXNjZXJ0YWluIGN1cnJlbnQgY29tbW9uIG9yIHJlbW90ZSByZXZpc2lvbiBmaXJzdFxuICAgICAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsIHRoaXMucnMucmVtb3RlLmdldChwYXRoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIENvbmRpdGlvbmFsIHJlZnJlc2g6XG4gICAgICBlbHNlIGlmIChoYXNDb21tb25SZXZpc2lvbihub2RlKSkge1xuICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCxcbiAgICAgICAgICB0aGlzLnJzLnJlbW90ZS5nZXQocGF0aCwgeyBpZk5vbmVNYXRjaDogbm9kZS5jb21tb24ucmV2aXNpb24gfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCwgdGhpcy5ycy5yZW1vdGUuZ2V0KHBhdGgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhdXRvTWVyZ2VGb2xkZXIgKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gICAgaWYgKG5vZGUucmVtb3RlLml0ZW1zTWFwKSB7XG4gICAgICBub2RlLmNvbW1vbiA9IG5vZGUucmVtb3RlO1xuICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuXG4gICAgICBpZiAobm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtTmFtZSBpbiBub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICAgIGlmICghbm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0pIHtcbiAgICAgICAgICAgIC8vIEluZGljYXRlcyB0aGUgbm9kZSBpcyBlaXRoZXIgbmV3bHkgYmVpbmcgZmV0Y2hlZFxuICAgICAgICAgICAgLy8gaGFzIGJlZW4gZGVsZXRlZCBsb2NhbGx5ICh3aGV0aGVyIG9yIG5vdCBsZWFkaW5nIHRvIGNvbmZsaWN0KTtcbiAgICAgICAgICAgIC8vIGJlZm9yZSBsaXN0aW5nIGl0IGluIGxvY2FsIGxpc3RpbmdzLCBjaGVjayBpZiBhIGxvY2FsIGRlbGV0aW9uXG4gICAgICAgICAgICAvLyBleGlzdHMuXG4gICAgICAgICAgICBub2RlLmxvY2FsLml0ZW1zTWFwW2l0ZW1OYW1lXSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcXVhbChub2RlLmxvY2FsLml0ZW1zTWFwLCBub2RlLmNvbW1vbi5pdGVtc01hcCkpIHtcbiAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHB1YmxpYyBhdXRvTWVyZ2VEb2N1bWVudCAobm9kZTogUlNOb2RlKTogUlNOb2RlIHtcbiAgICBpZiAoaGFzTm9SZW1vdGVDaGFuZ2VzKG5vZGUpKSB7XG4gICAgICBub2RlID0gbWVyZ2VNdXR1YWxEZWxldGlvbihub2RlKTtcbiAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUucmVtb3RlLmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8ga2VlcC9yZXZlcnQ6XG4gICAgICBsb2coJ1tTeW5jXSBFbWl0dGluZyBrZWVwL3JldmVydCcpO1xuXG4gICAgICB0aGlzLnJzLmxvY2FsLl9lbWl0Q2hhbmdlKHtcbiAgICAgICAgb3JpZ2luOiAgICAgICAgICdjb25mbGljdCcsXG4gICAgICAgIHBhdGg6ICAgICAgICAgICBub2RlLnBhdGgsXG4gICAgICAgIG9sZFZhbHVlOiAgICAgICBub2RlLmxvY2FsLmJvZHksXG4gICAgICAgIG5ld1ZhbHVlOiAgICAgICBub2RlLnJlbW90ZS5ib2R5LFxuICAgICAgICBsYXN0Q29tbW9uVmFsdWU6IG5vZGUuY29tbW9uLmJvZHksXG4gICAgICAgIG9sZENvbnRlbnRUeXBlOiBub2RlLmxvY2FsLmNvbnRlbnRUeXBlLFxuICAgICAgICBuZXdDb250ZW50VHlwZTogbm9kZS5yZW1vdGUuY29udGVudFR5cGUsXG4gICAgICAgIGxhc3RDb21tb25Db250ZW50VHlwZTogbm9kZS5jb21tb24uY29udGVudFR5cGVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobm9kZS5yZW1vdGUuYm9keSkge1xuICAgICAgICBub2RlLmNvbW1vbiA9IG5vZGUucmVtb3RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5jb21tb24gPSB7fTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcbiAgICAgIGRlbGV0ZSBub2RlLmxvY2FsO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgcHVibGljIGF1dG9NZXJnZSAobm9kZTogUlNOb2RlKTogUlNOb2RlIHtcbiAgICBpZiAobm9kZS5yZW1vdGUpIHtcbiAgICAgIGlmIChub2RlLmxvY2FsKSB7XG4gICAgICAgIGlmIChpc0ZvbGRlcihub2RlLnBhdGgpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b01lcmdlRm9sZGVyKG5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9NZXJnZURvY3VtZW50KG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBubyBsb2NhbCBjaGFuZ2VzXG4gICAgICAgIGlmIChpc0ZvbGRlcihub2RlLnBhdGgpKSB7XG4gICAgICAgICAgaWYgKG5vZGUucmVtb3RlLml0ZW1zTWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5vZGUuY29tbW9uID0gbm9kZS5yZW1vdGU7XG4gICAgICAgICAgICBkZWxldGUgbm9kZS5yZW1vdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlLnJlbW90ZS5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZSA9IHtcbiAgICAgICAgICAgICAgb3JpZ2luOiAgICdyZW1vdGUnLFxuICAgICAgICAgICAgICBwYXRoOiAgICAgbm9kZS5wYXRoLFxuICAgICAgICAgICAgICBvbGRWYWx1ZTogKG5vZGUuY29tbW9uLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5jb21tb24uYm9keSksXG4gICAgICAgICAgICAgIG5ld1ZhbHVlOiAobm9kZS5yZW1vdGUuYm9keSA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBub2RlLnJlbW90ZS5ib2R5KSxcbiAgICAgICAgICAgICAgb2xkQ29udGVudFR5cGU6IG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICBuZXdDb250ZW50VHlwZTogbm9kZS5yZW1vdGUuY29udGVudFR5cGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY2hhbmdlLm9sZFZhbHVlIHx8IGNoYW5nZS5uZXdWYWx1ZSkge1xuICAgICAgICAgICAgICB0aGlzLnJzLmxvY2FsLl9lbWl0Q2hhbmdlKGNoYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbm9kZS5yZW1vdGUuYm9keSkgeyAvLyBubyByZW1vdGUsIHNvIGRlbGV0ZS9kb24ndCBjcmVhdGVcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlLmNvbW1vbiA9IG5vZGUucmVtb3RlO1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobm9kZS5jb21tb24uYm9keSkge1xuICAgICAgICB0aGlzLnJzLmxvY2FsLl9lbWl0Q2hhbmdlKHtcbiAgICAgICAgICBvcmlnaW46ICAgJ3JlbW90ZScsXG4gICAgICAgICAgcGF0aDogICAgIG5vZGUucGF0aCxcbiAgICAgICAgICBvbGRWYWx1ZTogbm9kZS5jb21tb24uYm9keSxcbiAgICAgICAgICBuZXdWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIG9sZENvbnRlbnRUeXBlOiBub2RlLmNvbW1vbi5jb250ZW50VHlwZSxcbiAgICAgICAgICBuZXdDb250ZW50VHlwZTogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHVwZGF0ZUNvbW1vblRpbWVzdGFtcCAocGF0aDogc3RyaW5nLCByZXZpc2lvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgaWYgKG5vZGVzW3BhdGhdICYmXG4gICAgICAgICAgbm9kZXNbcGF0aF0uY29tbW9uICYmXG4gICAgICAgICAgbm9kZXNbcGF0aF0uY29tbW9uLnJldmlzaW9uID09PSByZXZpc2lvbikge1xuICAgICAgICBub2Rlc1twYXRoXS5jb21tb24udGltZXN0YW1wID0gdGhpcy5ub3coKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBtYXJrQ2hpbGRyZW4gKHBhdGgsIGl0ZW1zTWFwLCBjaGFuZ2VkTm9kZXM6IFJTTm9kZXMsIG1pc3NpbmdDaGlsZHJlbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHBhdGhzID0gW107XG4gICAgY29uc3QgbWV0YSA9IHt9O1xuICAgIGNvbnN0IHJlY3Vyc2UgPSB7fTtcblxuICAgIGZvciAoY29uc3QgaXRlbSBpbiBpdGVtc01hcCkge1xuICAgICAgcGF0aHMucHVzaChwYXRoK2l0ZW0pO1xuICAgICAgbWV0YVtwYXRoK2l0ZW1dID0gaXRlbXNNYXBbaXRlbV07XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2hpbGROYW1lIGluIG1pc3NpbmdDaGlsZHJlbikge1xuICAgICAgcGF0aHMucHVzaChwYXRoK2NoaWxkTmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBsZXQgY2FjaGluZ1N0cmF0ZWd5O1xuICAgICAgbGV0IG5vZGU7XG5cbiAgICAgIGZvciAoY29uc3Qgbm9kZVBhdGggaW4gbm9kZXMpIHtcbiAgICAgICAgbm9kZSA9IG5vZGVzW25vZGVQYXRoXTtcblxuICAgICAgICBpZiAobWV0YVtub2RlUGF0aF0pIHtcbiAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLmNvbW1vbikge1xuICAgICAgICAgICAgaWYgKG5vZGVDaGFuZ2VkKG5vZGUsIG1ldGFbbm9kZVBhdGhdLkVUYWcpKSB7XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSBkZWVwQ2xvbmUobm9kZSk7XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0ucmVtb3RlID0ge1xuICAgICAgICAgICAgICAgIHJldmlzaW9uOiAgbWV0YVtub2RlUGF0aF0uRVRhZyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHRoaXMuYXV0b01lcmdlKGNoYW5nZWROb2Rlc1tub2RlUGF0aF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoaW5nU3RyYXRlZ3kgPSB0aGlzLnJzLmNhY2hpbmcuY2hlY2tQYXRoKG5vZGVQYXRoKTtcbiAgICAgICAgICAgIGlmIChjYWNoaW5nU3RyYXRlZ3kgPT09ICdBTEwnKSB7XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSB7XG4gICAgICAgICAgICAgICAgcGF0aDogbm9kZVBhdGgsXG4gICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbW90ZToge1xuICAgICAgICAgICAgICAgICAgcmV2aXNpb246IG1ldGFbbm9kZVBhdGhdLkVUYWcsXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gJiYgbWV0YVtub2RlUGF0aF1bJ0NvbnRlbnQtVHlwZSddKSB7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdLnJlbW90ZS5jb250ZW50VHlwZSA9IG1ldGFbbm9kZVBhdGhdWydDb250ZW50LVR5cGUnXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY2hhbmdlZE5vZGVzW25vZGVQYXRoXSAmJiBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1MZW5ndGgnXSkge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXS5yZW1vdGUuY29udGVudExlbmd0aCA9IG1ldGFbbm9kZVBhdGhdWydDb250ZW50LUxlbmd0aCddO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtaXNzaW5nQ2hpbGRyZW5bbm9kZVBhdGguc3Vic3RyaW5nKHBhdGgubGVuZ3RoKV0gJiYgbm9kZSAmJiBub2RlLmNvbW1vbikge1xuICAgICAgICAgIGlmIChub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21tb25JdGVtIGluIG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICAgIHJlY3Vyc2Vbbm9kZVBhdGgrY29tbW9uSXRlbV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbG9jYWxJdGVtIGluIG5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICAgICAgICAgICAgcmVjdXJzZVtub2RlUGF0aCtsb2NhbEl0ZW1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobm9kZS5yZW1vdGUgfHwgaXNGb2xkZXIobm9kZVBhdGgpKSB7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID0gdGhpcy5hdXRvTWVyZ2Uobm9kZSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFyZW50UGF0aCA9IHRoaXMuZ2V0UGFyZW50UGF0aChub2RlUGF0aCk7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSBjaGFuZ2VkTm9kZXNbcGFyZW50UGF0aF07XG4gICAgICAgICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gbm9kZVBhdGguc3Vic3RyaW5nKHBhdGgubGVuZ3RoKTtcbiAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5sb2NhbCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwW2l0ZW1OYW1lXTtcblxuICAgICAgICAgICAgICAgIGlmIChlcXVhbChwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwLCBwYXJlbnROb2RlLmNvbW1vbi5pdGVtc01hcCkpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJlbnROb2RlLmxvY2FsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5kZWxldGVSZW1vdGVUcmVlcyhPYmplY3Qua2V5cyhyZWN1cnNlKSwgY2hhbmdlZE5vZGVzKVxuICAgICAgICAudGhlbihjaGFuZ2VkT2JqczIgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2goY2hhbmdlZE9ianMyKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGRlbGV0ZVJlbW90ZVRyZWVzIChwYXRoczogQXJyYXk8c3RyaW5nPiwgY2hhbmdlZE5vZGVzOiBSU05vZGVzKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgaWYgKHBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjaGFuZ2VkTm9kZXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKHBhdGhzKS50aGVuKGFzeW5jIChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgY29uc3Qgc3ViUGF0aHMgPSB7fTtcblxuICAgICAgZnVuY3Rpb24gY29sbGVjdFN1YlBhdGhzIChmb2xkZXIsIHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoZm9sZGVyICYmIGZvbGRlci5pdGVtc01hcCkge1xuICAgICAgICAgIGZvciAoY29uc3QgaXRlbU5hbWUgaW4gZm9sZGVyLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBzdWJQYXRoc1twYXRoK2l0ZW1OYW1lXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW3BhdGhdO1xuXG4gICAgICAgIC8vIFRPRE8gV2h5IGNoZWNrIGZvciB0aGUgbm9kZSBoZXJlPyBJIGRvbid0IHRoaW5rIHRoaXMgY2hlY2sgZXZlciBhcHBsaWVzXG4gICAgICAgIGlmICghbm9kZSkgeyBjb250aW51ZTsgfVxuXG4gICAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICAgIGNvbGxlY3RTdWJQYXRocyhub2RlLmNvbW1vbiwgcGF0aCk7XG4gICAgICAgICAgY29sbGVjdFN1YlBhdGhzKG5vZGUubG9jYWwsIHBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlLmNvbW1vbiAmJiB0eXBlb2Yobm9kZS5jb21tb24uYm9keSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW3BhdGhdID0gZGVlcENsb25lKG5vZGUpO1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW3BhdGhdLnJlbW90ZSA9IHtcbiAgICAgICAgICAgICAgYm9keTogICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW3BhdGhdID0gdGhpcy5hdXRvTWVyZ2UoY2hhbmdlZE5vZGVzW3BhdGhdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVjdXJzZSB3aG9sZSB0cmVlIGRlcHRoIGxldmVscyBhdCBvbmNlOlxuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlUmVtb3RlVHJlZXMoT2JqZWN0LmtleXMoc3ViUGF0aHMpLCBjaGFuZ2VkTm9kZXMpXG4gICAgICAgIC50aGVuKGNoYW5nZWROb2RlczIgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2goY2hhbmdlZE5vZGVzMikpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb21wbGV0ZUZldGNoIChwYXRoOiBzdHJpbmcsIGJvZHlPckl0ZW1zTWFwOiBvYmplY3QsIGNvbnRlbnRUeXBlOiBzdHJpbmcsIHJldmlzaW9uOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIGxldCBwYXRoczogQXJyYXk8c3RyaW5nPjtcbiAgICBsZXQgcGFyZW50UGF0aDogc3RyaW5nO1xuICAgIGNvbnN0IHBhdGhzRnJvbVJvb3RBcnIgPSBwYXRoc0Zyb21Sb290KHBhdGgpO1xuXG4gICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICBwYXRocyA9IFtwYXRoXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50UGF0aCA9IHBhdGhzRnJvbVJvb3RBcnJbMV07XG4gICAgICBwYXRocyA9IFtwYXRoLCBwYXJlbnRQYXRoXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhwYXRocykudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGxldCBpdGVtTmFtZTogc3RyaW5nO1xuICAgICAgbGV0IG5vZGU6IFJTTm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgbGV0IHBhcmVudE5vZGU6IFJTTm9kZTtcbiAgICAgIGNvbnN0IG1pc3NpbmdDaGlsZHJlbiA9IHt9O1xuXG4gICAgICBmdW5jdGlvbiBjb2xsZWN0TWlzc2luZ0NoaWxkcmVuIChmb2xkZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGZvbGRlciAmJiBmb2xkZXIuaXRlbXNNYXApIHtcbiAgICAgICAgICBmb3IgKGl0ZW1OYW1lIGluIGZvbGRlci5pdGVtc01hcCkge1xuICAgICAgICAgICAgaWYgKCFib2R5T3JJdGVtc01hcFtpdGVtTmFtZV0pIHtcbiAgICAgICAgICAgICAgbWlzc2luZ0NoaWxkcmVuW2l0ZW1OYW1lXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAodHlwZW9mKG5vZGUpICE9PSAnb2JqZWN0JyAgfHxcbiAgICAgICAgICBub2RlLnBhdGggIT09IHBhdGggfHxcbiAgICAgICAgICB0eXBlb2Yobm9kZS5jb21tb24pICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBub2RlID0geyBwYXRoOiBwYXRoLCBjb21tb246IHt9IH07XG4gICAgICAgIG5vZGVzW3BhdGhdID0gbm9kZTtcbiAgICAgIH1cblxuICAgICAgbm9kZS5yZW1vdGUgPSB7XG4gICAgICAgIHJldmlzaW9uOiByZXZpc2lvbixcbiAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICB9O1xuXG4gICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgY29sbGVjdE1pc3NpbmdDaGlsZHJlbihub2RlLmNvbW1vbik7XG4gICAgICAgIGNvbGxlY3RNaXNzaW5nQ2hpbGRyZW4obm9kZS5yZW1vdGUpO1xuXG4gICAgICAgIG5vZGUucmVtb3RlLml0ZW1zTWFwID0ge307XG4gICAgICAgIGZvciAoaXRlbU5hbWUgaW4gYm9keU9ySXRlbXNNYXApIHtcbiAgICAgICAgICBub2RlLnJlbW90ZS5pdGVtc01hcFtpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLnJlbW90ZS5ib2R5ID0gYm9keU9ySXRlbXNNYXA7XG4gICAgICAgIG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGU7XG5cbiAgICAgICAgcGFyZW50Tm9kZSA9IG5vZGVzW3BhcmVudFBhdGhdO1xuICAgICAgICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlLmxvY2FsICYmIHBhcmVudE5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICAgICAgICBpdGVtTmFtZSA9IHBhdGguc3Vic3RyaW5nKHBhcmVudFBhdGgubGVuZ3RoKTtcbiAgICAgICAgICBwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwW2l0ZW1OYW1lXSA9IHRydWU7XG4gICAgICAgICAgaWYgKGVxdWFsKHBhcmVudE5vZGUubG9jYWwuaXRlbXNNYXAsIHBhcmVudE5vZGUuY29tbW9uLml0ZW1zTWFwKSkge1xuICAgICAgICAgICAgZGVsZXRlIHBhcmVudE5vZGUubG9jYWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5vZGVzW3BhdGhdID0gdGhpcy5hdXRvTWVyZ2Uobm9kZSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvQmVTYXZlZDogICAgICAgbm9kZXMsXG4gICAgICAgIG1pc3NpbmdDaGlsZHJlbjogbWlzc2luZ0NoaWxkcmVuXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGNvbXBsZXRlUHVzaCAocGF0aDogc3RyaW5nLCBhY3Rpb24sIGNvbmZsaWN0LCByZXZpc2lvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW3BhdGhdO1xuXG4gICAgICBpZiAoIW5vZGUucHVzaCkge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbXBsZXRlUHVzaCBjYWxsZWQgYnV0IG5vIHB1c2ggdmVyc2lvbiEnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZsaWN0KSB7XG4gICAgICAgIGxvZygnW1N5bmNdIFdlIGhhdmUgYSBjb25mbGljdCcpO1xuXG4gICAgICAgIGlmICghbm9kZS5yZW1vdGUgfHwgbm9kZS5yZW1vdGUucmV2aXNpb24gIT09IHJldmlzaW9uKSB7XG4gICAgICAgICAgbm9kZS5yZW1vdGUgPSB7XG4gICAgICAgICAgICByZXZpc2lvbjogIHJldmlzaW9uIHx8ICdjb25mbGljdCcsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICB9O1xuICAgICAgICAgIGRlbGV0ZSBub2RlLnB1c2g7XG4gICAgICAgIH1cblxuICAgICAgICBub2Rlc1twYXRoXSA9IHRoaXMuYXV0b01lcmdlKG5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5jb21tb24gPSB7XG4gICAgICAgICAgcmV2aXNpb246ICByZXZpc2lvbixcbiAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYWN0aW9uID09PSAncHV0Jykge1xuICAgICAgICAgIG5vZGUuY29tbW9uLmJvZHkgPSBub2RlLnB1c2guYm9keTtcbiAgICAgICAgICBub2RlLmNvbW1vbi5jb250ZW50VHlwZSA9IG5vZGUucHVzaC5jb250ZW50VHlwZTtcblxuICAgICAgICAgIGlmIChlcXVhbChub2RlLmxvY2FsLmJvZHksIG5vZGUucHVzaC5ib2R5KSAmJlxuICAgICAgICAgICAgICBub2RlLmxvY2FsLmNvbnRlbnRUeXBlID09PSBub2RlLnB1c2guY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlLmxvY2FsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSBub2RlLnB1c2g7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnZGVsZXRlJykge1xuICAgICAgICAgIGlmIChub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlKSB7IC8vIE5vIG5ldyBsb2NhbCBjaGFuZ2VzIHNpbmNlIHB1c2g7IGZsdXNoIGl0LlxuICAgICAgICAgICAgbm9kZXNbcGF0aF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlLnB1c2g7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBkZWFsV2l0aEZhaWx1cmUgKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGlmIChub2Rlc1twYXRoXSkge1xuICAgICAgICBkZWxldGUgbm9kZXNbcGF0aF0ucHVzaDtcbiAgICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChub2RlcykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGludGVycHJldFN0YXR1cyAoc3RhdHVzQ29kZTogc3RyaW5nIHwgbnVtYmVyKTogUmVzcG9uc2VTdGF0dXMge1xuICAgIGNvbnN0IHN0YXR1czogUmVzcG9uc2VTdGF0dXMgPSB7XG4gICAgICBzdGF0dXNDb2RlOiAgICAgIHN0YXR1c0NvZGUsXG4gICAgICBzdWNjZXNzZnVsOiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGNvbmZsaWN0OiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5BdXRoOiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICBub3RGb3VuZDogICAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGNoYW5nZWQ6ICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgbmV0d29ya1Byb2JsZW1zOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBzdGF0dXNDb2RlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAoc3RhdHVzQ29kZSA9PT0gJ29mZmxpbmUnIHx8IHN0YXR1c0NvZGUgPT09ICd0aW1lb3V0JykpIHtcbiAgICAgIHN0YXR1cy5zdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgICBzdGF0dXMubmV0d29ya1Byb2JsZW1zID0gdHJ1ZTtcbiAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RhdHVzQ29kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnN0IHNlcmllcyA9IE1hdGguZmxvb3Ioc3RhdHVzQ29kZSAvIDEwMCk7XG5cbiAgICAgIHN0YXR1cy5zdWNjZXNzZnVsID0gKHNlcmllcyA9PT0gMiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9PT0gMzA0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID09PSA0MTIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPT09IDQwNCksXG4gICAgICBzdGF0dXMuY29uZmxpY3QgICA9IChzdGF0dXNDb2RlID09PSA0MTIpO1xuICAgICAgc3RhdHVzLnVuQXV0aCAgICAgPSAoKHN0YXR1c0NvZGUgPT09IDQwMSAmJiB0aGlzLnJzLnJlbW90ZS50b2tlbiAhPT0gQXV0aG9yaXplLklNUExJRURfRkFLRV9UT0tFTikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPT09IDQwMiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDAzKTtcbiAgICAgIHN0YXR1cy5ub3RGb3VuZCAgID0gKHN0YXR1c0NvZGUgPT09IDQwNCk7XG4gICAgICBzdGF0dXMuY2hhbmdlZCAgICA9IChzdGF0dXNDb2RlICE9PSAzMDQpO1xuXG4gICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBoYW5kbGVHZXRSZXNwb25zZSAocGF0aDogc3RyaW5nLCBzdGF0dXM6IFJlc3BvbnNlU3RhdHVzLCBib2R5T3JJdGVtc01hcCwgY29udGVudFR5cGU6IHN0cmluZywgcmV2aXNpb246IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGlmIChzdGF0dXMubm90Rm91bmQpIHtcbiAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICBib2R5T3JJdGVtc01hcCA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keU9ySXRlbXNNYXAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzLmNoYW5nZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlRmV0Y2gocGF0aCwgYm9keU9ySXRlbXNNYXAsIGNvbnRlbnRUeXBlLCByZXZpc2lvbilcbiAgICAgICAgLnRoZW4oZGF0YUZyb21GZXRjaCA9PiB7XG4gICAgICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3JydXB0U2VydmVySXRlbXNNYXAoYm9keU9ySXRlbXNNYXApKSB7XG4gICAgICAgICAgICAgIGxvZygnW1N5bmNdIFdBUk5JTkc6IERpc2NhcmRpbmcgY29ycnVwdCBmb2xkZXIgZGVzY3JpcHRpb24gZnJvbSBzZXJ2ZXIgZm9yICcgKyBwYXRoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFya0NoaWxkcmVuKHBhdGgsIGJvZHlPckl0ZW1zTWFwLCBkYXRhRnJvbUZldGNoLnRvQmVTYXZlZCwgZGF0YUZyb21GZXRjaC5taXNzaW5nQ2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2goZGF0YUZyb21GZXRjaC50b0JlU2F2ZWQpKVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7IHJldHVybiB0cnVlOyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVDb21tb25UaW1lc3RhbXAocGF0aCwgcmV2aXNpb24pXG4gICAgICAgIC50aGVuKCgpID0+IHsgcmV0dXJuIHRydWU7IH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVSZXNwb25zZSAocGF0aDogc3RyaW5nLCBhY3Rpb24sIHIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBzdGF0dXMgPSB0aGlzLmludGVycHJldFN0YXR1cyhyLnN0YXR1c0NvZGUpO1xuXG4gICAgaWYgKHN0YXR1cy5zdWNjZXNzZnVsKSB7XG4gICAgICBpZiAoYWN0aW9uID09PSAnZ2V0Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVHZXRSZXNwb25zZShwYXRoLCBzdGF0dXMsIHIuYm9keSwgci5jb250ZW50VHlwZSwgci5yZXZpc2lvbik7XG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3B1dCcgfHwgYWN0aW9uID09PSAnZGVsZXRlJykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZVB1c2gocGF0aCwgYWN0aW9uLCBzdGF0dXMuY29uZmxpY3QsIHIucmV2aXNpb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IGhhbmRsZSByZXNwb25zZSBmb3IgdW5rbm93biBhY3Rpb24gJHthY3Rpb259YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVuc3VjY2Vzc2Z1bFxuICAgICAgbGV0IGVycm9yOiBFcnJvcjtcbiAgICAgIGlmIChzdGF0dXMudW5BdXRoKSB7XG4gICAgICAgIGVycm9yID0gbmV3IFVuYXV0aG9yaXplZEVycm9yKCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cy5uZXR3b3JrUHJvYmxlbXMpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgU3luY0Vycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0hUVFAgcmVzcG9uc2UgY29kZSAnICsgc3RhdHVzLnN0YXR1c0NvZGUgKyAnIHJlY2VpdmVkLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5kZWFsV2l0aEZhaWx1cmUocGF0aCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBmaW5pc2hUYXNrICh0YXNrOiBTeW5jVGFzayk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGFzay5hY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVsZXRlIHRoaXMuX3J1bm5pbmdbdGFzay5wYXRoXTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFzay5wcm9taXNlXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZSh0YXNrLnBhdGgsIHRhc2suYWN0aW9uLCByZXMpO1xuICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgbG9nKCdbU3luY10gd2lyZWNsaWVudCByZWplY3RzIGl0cyBwcm9taXNlIScsIHRhc2sucGF0aCwgdGFzay5hY3Rpb24sIGVycik7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc3BvbnNlKHRhc2sucGF0aCwgdGFzay5hY3Rpb24sIHsgc3RhdHVzQ29kZTogJ29mZmxpbmUnIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGNvbXBsZXRlZCA9PiB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl90aW1lU3RhcnRlZFt0YXNrLnBhdGhdO1xuICAgICAgICBkZWxldGUgdGhpcy5fcnVubmluZ1t0YXNrLnBhdGhdO1xuXG4gICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5fdGFza3NbdGFzay5wYXRoXSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgdGhpcy5fdGFza3NbdGFzay5wYXRoXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLl90YXNrc1t0YXNrLnBhdGhdW2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdGFza3NbdGFzay5wYXRoXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJzLl9lbWl0KCdzeW5jLXJlcS1kb25lJyk7XG5cbiAgICAgICAgdGhpcy5jb2xsZWN0VGFza3MoZmFsc2UpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIC8vIFNlZSBpZiB0aGVyZSBhcmUgYW55IG1vcmUgdGFza3MgdGhhdCBhcmUgbm90IHJlZnJlc2ggdGFza3NcbiAgICAgICAgICBpZiAoIXRoaXMuaGFzVGFza3MoKSB8fCB0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIGxvZygnW1N5bmNdIFN5bmMgaXMgZG9uZSEgUmVzY2hlZHVsZT8nLCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl90YXNrcykubGVuZ3RoLCB0aGlzLnN0b3BwZWQpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRvbmUpIHtcbiAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5ycy5fZW1pdCgnc3luYy1kb25lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVzZSBhIDEwbXMgdGltZW91dCB0byBsZXQgdGhlIEphdmFTY3JpcHQgcnVudGltZSBjYXRjaCBpdHMgYnJlYXRoXG4gICAgICAgICAgICAvLyAoYW5kIGhvcGVmdWxseSBmb3JjZSBhbiBJbmRleGVkREIgYXV0by1jb21taXQ/KSwgYW5kIGFsc28gdG8gY2F1c2VcbiAgICAgICAgICAgIC8vIHRoZSB0aHJlYWRzIHRvIGdldCBzdGFnZ2VyZWQgYW5kIGdldCBhIGdvb2Qgc3ByZWFkIG92ZXIgdGltZTpcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmRvVGFza3MoKTsgfSwgMTApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCBlcnIgPT4ge1xuICAgICAgICBsb2coJ1tTeW5jXSBFcnJvcicsIGVycik7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl90aW1lU3RhcnRlZFt0YXNrLnBhdGhdO1xuICAgICAgICBkZWxldGUgdGhpcy5fcnVubmluZ1t0YXNrLnBhdGhdO1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCdzeW5jLXJlcS1kb25lJyk7XG4gICAgICAgIGlmICghdGhpcy5kb25lKSB7XG4gICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdzeW5jLWRvbmUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZG9UYXNrcyAoKTogYm9vbGVhbiB7XG4gICAgbGV0IG51bVRvSGF2ZTogbnVtYmVyLCBudW1BZGRlZCA9IDAsIHBhdGg6IHN0cmluZztcbiAgICBpZiAodGhpcy5ycy5yZW1vdGUuY29ubmVjdGVkKSB7XG4gICAgICBpZiAodGhpcy5ycy5yZW1vdGUub25saW5lKSB7XG4gICAgICAgIG51bVRvSGF2ZSA9IHRoaXMubnVtVGhyZWFkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bVRvSGF2ZSA9IDE7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG51bVRvSGF2ZSA9IDA7XG4gICAgfVxuICAgIGNvbnN0IG51bVRvQWRkID0gbnVtVG9IYXZlIC0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fcnVubmluZykubGVuZ3RoO1xuICAgIGlmIChudW1Ub0FkZCA8PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChwYXRoIGluIHRoaXMuX3Rhc2tzKSB7XG4gICAgICBpZiAoIXRoaXMuX3J1bm5pbmdbcGF0aF0pIHtcbiAgICAgICAgdGhpcy5fdGltZVN0YXJ0ZWRbcGF0aF0gPSB0aGlzLm5vdygpO1xuICAgICAgICB0aGlzLl9ydW5uaW5nW3BhdGhdID0gdGhpcy5kb1Rhc2socGF0aCk7XG4gICAgICAgIHRoaXMuX3J1bm5pbmdbcGF0aF0udGhlbih0aGlzLmZpbmlzaFRhc2suYmluZCh0aGlzKSk7XG4gICAgICAgIG51bUFkZGVkKys7XG4gICAgICAgIGlmIChudW1BZGRlZCA+PSBudW1Ub0FkZCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAobnVtQWRkZWQgPj0gbnVtVG9BZGQpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGNvbGxlY3RUYXNrcyAoYWxzb0NoZWNrUmVmcmVzaD86IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5oYXNUYXNrcygpIHx8IHRoaXMuc3RvcHBlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbGxlY3REaWZmVGFza3MoKS50aGVuKG51bURpZmZzID0+IHtcbiAgICAgIGlmIChudW1EaWZmcyB8fCBhbHNvQ2hlY2tSZWZyZXNoID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0UmVmcmVzaFRhc2tzKCk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycikgeyB0aHJvdyBlcnI7IH0pO1xuICB9XG5cbiAgcHVibGljIGFkZFRhc2sgKHBhdGg6IHN0cmluZywgY2I/OiBGdW5jdGlvbik6IHZvaWQge1xuICAgIGlmICghdGhpcy5fdGFza3NbcGF0aF0pIHtcbiAgICAgIHRoaXMuX3Rhc2tzW3BhdGhdID0gW107XG4gICAgfVxuICAgIGlmICh0eXBlb2YoY2IpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl90YXNrc1twYXRoXS5wdXNoKGNiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kOiBzeW5jXG4gICAqKi9cbiAgcHVibGljIHN5bmMgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuXG4gICAgaWYgKCF0aGlzLmRvVGFza3MoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdFRhc2tzKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5kb1Rhc2tzKCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIGxvZygnW1N5bmNdIGRvVGFza3MgZXJyb3InLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbG9nKCdbU3luY10gU3luYyBlcnJvcicsIGUpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvY2FsIGNhY2hlIHVuYXZhaWxhYmxlJyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBfcnNfaW5pdCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHN5bmNDeWNsZUNiID0gZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgICAgLy8gaWYgKCFjb25maWcuY2FjaGUpIHJldHVybiBmYWxzZVxuICAgICAgbG9nKCdbU3luY10gc3luY0N5Y2xlQ2IgY2FsbGluZyBzeW5jQ3ljbGUnKTtcblxuICAgICAgY29uc3QgZW52ID0gbmV3IEVudigpO1xuICAgICAgaWYgKGVudi5pc0Jyb3dzZXIoKSkgeyBoYW5kbGVWaXNpYmlsaXR5KGVudiwgcmVtb3RlU3RvcmFnZSk7IH1cblxuICAgICAgaWYgKCFyZW1vdGVTdG9yYWdlLnN5bmMpIHtcbiAgICAgICAgLy8gQ2FsbCB0aGlzIG5vdyB0aGF0IGFsbCBvdGhlciBtb2R1bGVzIGFyZSBhbHNvIHJlYWR5OlxuICAgICAgICByZW1vdGVTdG9yYWdlLnN5bmMgPSBuZXcgU3luYyhyZW1vdGVTdG9yYWdlKTtcblxuICAgICAgICBpZiAocmVtb3RlU3RvcmFnZS5zeW5jU3RvcHBlZCkge1xuICAgICAgICAgIGxvZygnW1N5bmNdIEluc3RhbnRpYXRpbmcgc3luYyBzdG9wcGVkJyk7XG4gICAgICAgICAgcmVtb3RlU3RvcmFnZS5zeW5jLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgIGRlbGV0ZSByZW1vdGVTdG9yYWdlLnN5bmNTdG9wcGVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxvZygnW1N5bmNdIHN5bmNDeWNsZUNiIGNhbGxpbmcgc3luY0N5Y2xlJyk7XG4gICAgICByZW1vdGVTdG9yYWdlLnN5bmNDeWNsZSgpO1xuICAgIH07XG5cbiAgICBzeW5jT25Db25uZWN0ID0gZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjb25uZWN0ZWQnLCBzeW5jT25Db25uZWN0KTtcbiAgICAgIHJlbW90ZVN0b3JhZ2Uuc3RhcnRTeW5jKCk7XG4gICAgfTtcblxuICAgIHJlbW90ZVN0b3JhZ2Uub24oJ3JlYWR5Jywgc3luY0N5Y2xlQ2IpO1xuICAgIHJlbW90ZVN0b3JhZ2Uub24oJ2Nvbm5lY3RlZCcsIHN5bmNPbkNvbm5lY3QpO1xuICB9XG5cbiAgc3RhdGljIF9yc19jbGVhbnVwIChyZW1vdGVTdG9yYWdlKTogdm9pZCB7XG4gICAgcmVtb3RlU3RvcmFnZS5zdG9wU3luYygpO1xuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVhZHknLCBzeW5jQ3ljbGVDYik7XG4gICAgcmVtb3RlU3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjb25uZWN0ZWQnLCBzeW5jT25Db25uZWN0KTtcblxuICAgIHJlbW90ZVN0b3JhZ2Uuc3luYyA9IHVuZGVmaW5lZDtcbiAgICBkZWxldGUgcmVtb3RlU3RvcmFnZS5zeW5jO1xuICB9XG59O1xuXG5pbnRlcmZhY2UgU3luYyBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhTeW5jLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBTeW5jO1xuIiwiLyoqXG4gKiBUT0RPIHJld3JpdGUsIGRvZXNuJ3QgZXhwb3NlIEdQRCBhbnltb3JlLCBpdCdzIGluIGNhY2hpbmdsYXllciBub3dcbiAqXG4gKiBUaGlzIGZpbGUgZXhwb3NlcyBhIGdldC9wdXQvZGVsZXRlIGludGVyZmFjZSwgYWNjZXNzaW5nIGRhdGEgaW4gYW4gSW5kZXhlZERCLlxuICpcbiAqIFRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyB0byB0aGlzIGludGVyZmFjZTpcbiAqXG4gKiAgIFRoZSBSZW1vdGVTdG9yYWdlIGludGVncmF0aW9uOlxuICogICAgIC0gSW5kZXhlZERCLl9yc19zdXBwb3J0ZWQoKSBkZXRlcm1pbmVzIGlmIEluZGV4ZWREQiBzdXBwb3J0XG4gKiAgICAgICBpcyBhdmFpbGFibGUuIElmIGl0IGlzbid0LCBSZW1vdGVTdG9yYWdlIHdvbid0IGluaXRpYWxpemUgdGhlIGZlYXR1cmUuXG4gKiAgICAgLSBJbmRleGVkREIuX3JzX2luaXQoKSBpbml0aWFsaXplcyB0aGUgZmVhdHVyZS4gSXQgcmV0dXJuc1xuICogICAgICAgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIGFzIHNvb24gYXMgdGhlIGRhdGFiYXNlIGhhcyBiZWVuIG9wZW5lZCBhbmRcbiAqICAgICAgIG1pZ3JhdGVkLlxuICpcbiAqICAgVGhlIHN0b3JhZ2UgaW50ZXJmYWNlIChJbmRleGVkREIgb2JqZWN0KTpcbiAqICAgICAtIFVzdWFsbHkgdGhpcyBpcyBhY2Nlc3NpYmxlIHZpYSBcInJlbW90ZVN0b3JhZ2UubG9jYWxcIlxuICogICAgIC0gI2dldCgpIHRha2VzIGEgcGF0aCBhbmQgcmV0dXJucyBhIHByb21pc2UuXG4gKiAgICAgLSAjcHV0KCkgdGFrZXMgYSBwYXRoLCBib2R5IGFuZCBjb250ZW50VHlwZSBhbmQgYWxzbyByZXR1cm5zIGEgcHJvbWlzZS5cbiAqICAgICAtICNkZWxldGUoKSB0YWtlcyBhIHBhdGggYW5kIGFsc28gcmV0dXJucyBhIHByb21pc2UuXG4gKiAgICAgLSAjb24oJ2NoYW5nZScsIC4uLikgZXZlbnRzLCBiZWluZyBmaXJlZCB3aGVuZXZlciBzb21ldGhpbmcgY2hhbmdlcyBpblxuICogICAgICAgdGhlIHN0b3JhZ2UuIENoYW5nZSBldmVudHMgcm91Z2hseSBmb2xsb3cgdGhlIFN0b3JhZ2VFdmVudCBwYXR0ZXJuLlxuICogICAgICAgVGhleSBoYXZlIFwib2xkVmFsdWVcIiBhbmQgXCJuZXdWYWx1ZVwiIHByb3BlcnRpZXMsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gKiAgICAgICBkaXN0aW5ndWlzaCBjcmVhdGUvdXBkYXRlL2RlbGV0ZSBvcGVyYXRpb25zIGFuZCBhbmFseXplIGNoYW5nZXMgaW5cbiAqICAgICAgIGNoYW5nZSBoYW5kbGVycy4gSW4gYWRkaXRpb24gdGhleSBjYXJyeSBhIFwib3JpZ2luXCIgcHJvcGVydHksIHdoaWNoXG4gKiAgICAgICBpcyBlaXRoZXIgXCJ3aW5kb3dcIiwgXCJsb2NhbFwiLCBvciBcInJlbW90ZVwiLiBcInJlbW90ZVwiIGV2ZW50cyBhcmUgZmlyZWRcbiAqICAgICAgIHdoZW5ldmVyIGEgY2hhbmdlIGNvbWVzIGluIGZyb20gU3luYy5cbiAqXG4gKiAgIFRoZSBzeW5jIGludGVyZmFjZSAoYWxzbyBvbiBJbmRleGVkREIgb2JqZWN0KTpcbiAqICAgICAtICNnZXROb2RlcyhbcGF0aHNdKSByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgbm9kZXMgaW4gYSBwcm9taXNlLlxuICogICAgIC0gI3NldE5vZGVzKG1hcCkgc3RvcmVzIGFsbCB0aGUgbm9kZXMgZ2l2ZW4gaW4gdGhlIChwYXRoIC0+IG5vZGUpIG1hcC5cbiAqXG4gKiBAaW50ZXJmYWNlXG4gKi9cblxuaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBDYWNoaW5nTGF5ZXIgZnJvbSAnLi9jYWNoaW5nbGF5ZXInO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQge1xuICBhcHBseU1peGlucyxcbiAgZGVlcENsb25lLFxuICBnZXRHbG9iYWxDb250ZXh0XG59IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IERCX1ZFUlNJT04gPSAyO1xuXG5jb25zdCBERUZBVUxUX0RCX05BTUUgPSAncmVtb3Rlc3RvcmFnZSc7XG5cbi8vIFRPRE8gdmVyeSB3ZWlyZCB0aGF0IHRoaXMgaXMgcmUtYXNzaWduZWRcbmxldCBERUZBVUxUX0RCO1xuXG5jbGFzcyBJbmRleGVkREIgZXh0ZW5kcyBDYWNoaW5nTGF5ZXIge1xuICBkYjogYW55O1xuICBnZXRzUnVubmluZzogbnVtYmVyO1xuICBwdXRzUnVubmluZzogbnVtYmVyO1xuICBjaGFuZ2VzUXVldWVkOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfTtcbiAgY2hhbmdlc1J1bm5pbmc6IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9O1xuICBjb21taXRTbG93bmVzc1dhcm5pbmc6IGFueTsgLy8gVE9ETyBudWxsIHwgbnVtYmVyIChidXQgbm9kZSdzIHNldEludGVydmFsIHJldHVybnMgYW4gdW5rbm93biB0eXBlKVxuXG4gIGNvbnN0cnVjdG9yKGRhdGFiYXNlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2NoYW5nZScsICdsb2NhbC1ldmVudHMtZG9uZSddKTtcblxuICAgIHRoaXMuZGIgPSBkYXRhYmFzZSB8fCBERUZBVUxUX0RCO1xuXG4gICAgaWYgKCF0aGlzLmRiKSB7XG4gICAgICAvLyBUT0RPIHNob3VsZG4ndCB0aGlzIHRocm93IGFuIGVycm9yP1xuICAgICAgbG9nKFwiW0luZGV4ZWREQl0gRmFpbGVkIHRvIG9wZW4gREJcIik7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0c1J1bm5pbmcgPSAwO1xuICAgIHRoaXMucHV0c1J1bm5pbmcgPSAwO1xuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBub2RlIGZvciB3aGljaCB1bmNvbW1pdHRlZCBjaGFuZ2VzIGV4aXN0LCB0aGlzIGNhY2hlXG4gICAgICogc3RvcmVzIGVpdGhlciB0aGUgZW50aXJlIHVuY29tbWl0dGVkIG5vZGUsIG9yIGZhbHNlIGZvciBhIGRlbGV0aW9uLlxuICAgICAqIFRoZSBub2RlJ3MgcGF0aCBpcyB1c2VkIGFzIHRoZSBrZXkuXG4gICAgICpcbiAgICAgKiBjaGFuZ2VzUXVldWVkIHN0b3JlcyBjaGFuZ2VzIGZvciB3aGljaCBubyBJbmRleGVkREIgdHJhbnNhY3Rpb24gaGFzXG4gICAgICogYmVlbiBzdGFydGVkIHlldC5cbiAgICAgKi9cbiAgICB0aGlzLmNoYW5nZXNRdWV1ZWQgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbm9kZSBmb3Igd2hpY2ggdW5jb21taXR0ZWQgY2hhbmdlcyBleGlzdCwgdGhpcyBjYWNoZVxuICAgICAqIHN0b3JlcyBlaXRoZXIgdGhlIGVudGlyZSB1bmNvbW1pdHRlZCBub2RlLCBvciBmYWxzZSBmb3IgYSBkZWxldGlvbi5cbiAgICAgKiBUaGUgbm9kZSdzIHBhdGggaXMgdXNlZCBhcyB0aGUga2V5LlxuICAgICAqXG4gICAgICogQXQgYW55IHRpbWUgdGhlcmUgaXMgYXQgbW9zdCBvbmUgSW5kZXhlZERCIHRyYW5zYWN0aW9uIHJ1bm5pbmcuXG4gICAgICogY2hhbmdlc1J1bm5pbmcgc3RvcmVzIHRoZSBjaGFuZ2VzIHRoYXQgYXJlIGluY2x1ZGVkIGluIHRoYXQgY3VycmVudGx5XG4gICAgICogcnVubmluZyBJbmRleGVkREIgdHJhbnNhY3Rpb24sIG9yIGlmIG5vbmUgaXMgcnVubmluZywgb2YgdGhlIGxhc3Qgb25lXG4gICAgICogdGhhdCByYW4uXG4gICAgICovXG4gICAgdGhpcy5jaGFuZ2VzUnVubmluZyA9IHt9O1xuXG4gICAgLy8gVE9ETyBkb2N1bWVudFxuICAgIHRoaXMuY29tbWl0U2xvd25lc3NXYXJuaW5nID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgZ2V0Tm9kZXMgKHBhdGhzOiBzdHJpbmdbXSk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIGNvbnN0IG1pc3NlcyA9IFtdLCBmcm9tQ2FjaGUgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmNoYW5nZXNRdWV1ZWRbcGF0aHNbaV1dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZnJvbUNhY2hlW3BhdGhzW2ldXSA9IGRlZXBDbG9uZSh0aGlzLmNoYW5nZXNRdWV1ZWRbcGF0aHNbaV1dIHx8IHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY2hhbmdlc1J1bm5pbmdbcGF0aHNbaV1dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZnJvbUNhY2hlW3BhdGhzW2ldXSA9IGRlZXBDbG9uZSh0aGlzLmNoYW5nZXNSdW5uaW5nW3BhdGhzW2ldXSB8fCB1bmRlZmluZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWlzc2VzLnB1c2gocGF0aHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWlzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzRnJvbURiKG1pc3NlcykudGhlbihmdW5jdGlvbiAobm9kZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBpIGluIGZyb21DYWNoZSkge1xuICAgICAgICAgIG5vZGVzW2ldID0gZnJvbUNhY2hlW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZyb21DYWNoZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBhc3luYyBzZXROb2RlcyAobm9kZXM6IFJTTm9kZXMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gbm9kZXMpIHtcbiAgICAgIHRoaXMuY2hhbmdlc1F1ZXVlZFtpXSA9IG5vZGVzW2ldIHx8IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLm1heWJlRmx1c2goKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIG1heWJlRmx1c2ggKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnB1dHNSdW5uaW5nID09PSAwKSB7XG4gICAgICB0aGlzLmZsdXNoQ2hhbmdlc1F1ZXVlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuY29tbWl0U2xvd25lc3NXYXJuaW5nKSB7XG4gICAgICAgIHRoaXMuY29tbWl0U2xvd25lc3NXYXJuaW5nID0gZ2xvYmFsLnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IHdhaXRlZCBtb3JlIHRoYW4gMTAgc2Vjb25kcyBmb3IgcHJldmlvdXMgY29tbWl0IHRvIGZpbmlzaCcpO1xuICAgICAgICB9LCAxMDAwMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBmbHVzaENoYW5nZXNRdWV1ZWQgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZykge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyk7XG4gICAgICB0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyA9IG51bGw7XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNoYW5nZXNRdWV1ZWQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY2hhbmdlc1J1bm5pbmcgPSB0aGlzLmNoYW5nZXNRdWV1ZWQ7XG4gICAgICB0aGlzLmNoYW5nZXNRdWV1ZWQgPSB7fTtcbiAgICAgIHRoaXMuc2V0Tm9kZXNJbkRiKHRoaXMuY2hhbmdlc1J1bm5pbmcpLnRoZW4odGhpcy5mbHVzaENoYW5nZXNRdWV1ZWQuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBnZXROb2Rlc0Zyb21EYiAocGF0aHM6IHN0cmluZ1tdKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFsnbm9kZXMnXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBjb25zdCBub2RlcyA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdub2RlcycpO1xuICAgICAgY29uc3QgcmV0cmlldmVkTm9kZXMgPSB7fTtcblxuICAgICAgdGhpcy5nZXRzUnVubmluZysrO1xuXG4gICAgICBwYXRocy5tYXAoKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICBub2Rlcy5nZXQocGF0aCkub25zdWNjZXNzID0gKGV2dCkgPT4ge1xuICAgICAgICAgIHJldHJpZXZlZE5vZGVzW3BhdGhdID0gZXZ0LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShyZXRyaWV2ZWROb2Rlcyk7XG4gICAgICAgIHRoaXMuZ2V0c1J1bm5pbmctLTtcbiAgICAgIH07XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSB0cmFuc2FjdGlvbi5vbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICByZWplY3QoJ2dldCB0cmFuc2FjdGlvbiBlcnJvci9hYm9ydCcpO1xuICAgICAgICB0aGlzLmdldHNSdW5uaW5nLS07XG4gICAgICB9O1xuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIHNldE5vZGVzSW5EYiAobm9kZXM6IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFsnbm9kZXMnXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgY29uc3Qgbm9kZXNTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdub2RlcycpO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgIHRoaXMucHV0c1J1bm5pbmcrKztcblxuICAgICAgbG9nKCdbSW5kZXhlZERCXSBTdGFydGluZyBwdXQnLCBub2RlcywgdGhpcy5wdXRzUnVubmluZyk7XG5cbiAgICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbcGF0aF07XG4gICAgICAgIGlmICh0eXBlb2YgKG5vZGUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBub2Rlc1N0b3JlLnB1dChub2RlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2coJ1tJbmRleGVkREJdIEVycm9yIHdoaWxlIHB1dHRpbmcnLCBub2RlLCBlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBub2Rlc1N0b3JlLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2coJ1tJbmRleGVkREJdIEVycm9yIHdoaWxlIHJlbW92aW5nJywgbm9kZXNTdG9yZSwgbm9kZSwgZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnB1dHNSdW5uaW5nLS07XG4gICAgICAgIGxvZygnW0luZGV4ZWREQl0gRmluaXNoZWQgcHV0Jywgbm9kZXMsIHRoaXMucHV0c1J1bm5pbmcsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0VGltZSkgKyAnbXMnKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcblxuICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5wdXRzUnVubmluZy0tO1xuICAgICAgICByZWplY3QoJ3RyYW5zYWN0aW9uIGVycm9yJyk7XG4gICAgICB9O1xuXG4gICAgICB0cmFuc2FjdGlvbi5vbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICByZWplY3QoJ3RyYW5zYWN0aW9uIGFib3J0Jyk7XG4gICAgICAgIHRoaXMucHV0c1J1bm5pbmctLTtcbiAgICAgIH07XG5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCB0eXBlcyBvbmNlIGtub3duXG4gIHJlc2V0IChjYWxsYmFjazogKHA6IHVua25vd24pID0+IHVua25vd24pOiB2b2lkIHtcbiAgICBjb25zdCBkYk5hbWUgPSB0aGlzLmRiLm5hbWU7XG5cbiAgICB0aGlzLmRiLmNsb3NlKCk7XG5cbiAgICBJbmRleGVkREIuY2xlYW4odGhpcy5kYi5uYW1lLCAoKSA9PiB7XG4gICAgICBJbmRleGVkREIub3BlbihkYk5hbWUsIChlcnIsIG90aGVyKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBsb2coJ1tJbmRleGVkREJdIEVycm9yIHdoaWxlIHJlc2V0dGluZyBsb2NhbCBzdG9yYWdlJywgZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBoYWNreSFcbiAgICAgICAgICB0aGlzLmRiID0gb3RoZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCB0eXBlcyBvbmNlIGtub3duXG4gIGFzeW5jIGZvckFsbE5vZGVzIChjYjogKHA6IHVua25vd24pID0+IHVua25vd24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUvKiwgcmVqZWN0Ki8pID0+IHtcblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFsnbm9kZXMnXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBjb25zdCBjdXJzb3JSZXEgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnbm9kZXMnKS5vcGVuQ3Vyc29yKCk7XG5cbiAgICAgIGN1cnNvclJlcS5vbnN1Y2Nlc3MgPSAoZXZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IGV2dC50YXJnZXQucmVzdWx0O1xuXG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICBjYih0aGlzLm1pZ3JhdGUoY3Vyc29yLnZhbHVlKSk7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2VEQiAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHV0c1J1bm5pbmcgPT09IDApIHsgLy8gY2hlY2sgaWYgd2UgYXJlIGN1cnJlbnRseSB3cml0aW5nIHRvIHRoZSBEQlxuICAgICAgdGhpcy5kYi5jbG9zZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMuY2xvc2VEQi5iaW5kKHRoaXMpLCAxMDApOyAvLyB0cnkgYWdhaW4gYSBsaXR0bGUgbGF0ZXJcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgdHlwZXMgb25jZSBrbm93blxuICBzdGF0aWMgb3BlbiAobmFtZTogc3RyaW5nLCBjYWxsYmFjazogKHA6IHVua25vd24sIHAyPzogdW5rbm93bikgPT4gdW5rbm93bikge1xuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhcInRpbWVvdXQgdHJ5aW5nIHRvIG9wZW4gZGJcIik7XG4gICAgfSwgMTAwMDApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcSA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIERCX1ZFUlNJT04pO1xuXG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBPcGVuaW5nIERCIGZhaWxlZCcsIHJlcSk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgY2FsbGJhY2socmVxLmVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZGIgPSByZXEucmVzdWx0O1xuXG4gICAgICAgIGxvZyhcIltJbmRleGVkREJdIFVwZ3JhZGU6IGZyb20gXCIsIGV2ZW50Lm9sZFZlcnNpb24sIFwiIHRvIFwiLCBldmVudC5uZXdWZXJzaW9uKTtcblxuICAgICAgICBpZiAoZXZlbnQub2xkVmVyc2lvbiAhPT0gMSkge1xuICAgICAgICAgIGxvZyhcIltJbmRleGVkREJdIENyZWF0aW5nIG9iamVjdCBzdG9yZTogbm9kZXNcIik7XG4gICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ25vZGVzJywge2tleVBhdGg6ICdwYXRoJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nKFwiW0luZGV4ZWREQl0gQ3JlYXRpbmcgb2JqZWN0IHN0b3JlOiBjaGFuZ2VzXCIpO1xuXG4gICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdjaGFuZ2VzJywge2tleVBhdGg6ICdwYXRoJ30pO1xuICAgICAgfTtcblxuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcblxuICAgICAgICAvLyBjaGVjayBpZiBhbGwgb2JqZWN0IHN0b3JlcyBleGlzdFxuICAgICAgICBjb25zdCBkYiA9IHJlcS5yZXN1bHQ7XG4gICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnbm9kZXMnKSB8fCAhZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnY2hhbmdlcycpKSB7XG4gICAgICAgICAgbG9nKFwiW0luZGV4ZWREQl0gTWlzc2luZyBvYmplY3Qgc3RvcmUuIFJlc2V0dGluZyB0aGUgZGF0YWJhc2UuXCIpO1xuICAgICAgICAgIEluZGV4ZWREQi5jbGVhbihuYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBJbmRleGVkREIub3BlbihuYW1lLCBjYWxsYmFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVxLnJlc3VsdCk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2coXCJbSW5kZXhlZERCXSBGYWlsZWQgdG8gb3BlbiBkYXRhYmFzZTogXCIgKyBlcnJvcik7XG4gICAgICBsb2coXCJbSW5kZXhlZERCXSBSZXNldHRpbmcgZGF0YWJhc2UgYW5kIHRyeWluZyBhZ2Fpbi5cIik7XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG5cbiAgICAgIEluZGV4ZWREQi5jbGVhbihuYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEluZGV4ZWREQi5vcGVuKG5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgc3RhdGljIGNsZWFuIChkYXRhYmFzZU5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICBjb25zdCByZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGF0YWJhc2VOYW1lKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsb2coJ1tJbmRleGVkREJdIERvbmUgcmVtb3ZpbmcgREInKTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcblxuICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBkb2VzIGFueXRoaW5nIGFzIG9uYWJvcnQgZG9lcyBub3QgZXhpc3Qgb24gdHlwZSBhY2NvcmRpbmcgdG8gdHNcbiAgICByZXEub25lcnJvciA9IChyZXEgYXMgYW55KS5vbmFib3J0ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlbW92ZSBkYXRhYmFzZSBcIicgKyBkYXRhYmFzZU5hbWUgKyAnXCInLCBldnQpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgSW5kZXhlZERCIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGUgb25jZSBrbm93blxuICBzdGF0aWMgX3JzX2luaXQgKHJlbW90ZVN0b3JhZ2U6IHVua25vd24pOiBQcm9taXNlPHVua25vd24+IHtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIEluZGV4ZWREQi5vcGVuKERFRkFVTFRfREJfTkFNRSwgZnVuY3Rpb24gKGVyciwgZGIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERFRkFVTFRfREIgPSBkYjtcbiAgICAgICAgICAvLyBUT0RPIHJlbW92ZSBvbmNlIHJlYWwgdHlwZSBvbmNlIGtub3duXG4gICAgICAgICAgKGRiIGFzIGFueSkub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIChyZW1vdGVTdG9yYWdlIGFzIGFueSkuX2VtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm0gYWJvdXQgdGhlIGF2YWlsYWJpbGl0eSBvZiB0aGUgSW5kZXhlZERCIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBjb25zdCBjb250ZXh0ID0gZ2V0R2xvYmFsQ29udGV4dCgpO1xuXG4gICAgICAvLyBGSVhNRTogdGhpcyBpcyBjYXVzaW5nIGFuIGVycm9yIGluIGNocm9tZVxuICAgICAgLy8gY29udGV4dC5pbmRleGVkREIgPSBjb250ZXh0LmluZGV4ZWREQiAgICB8fCBjb250ZXh0LndlYmtpdEluZGV4ZWREQiB8fFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW96SW5kZXhlZERCIHx8IGNvbnRleHQub0luZGV4ZWREQiAgICAgIHx8XG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tc0luZGV4ZWREQjtcblxuICAgICAgLy8gRGV0ZWN0IGJyb3dzZXJzIHdpdGgga25vd24gSW5kZXhlZERiIGlzc3VlcyAoZS5nLiBBbmRyb2lkIHByZS00LjQpXG4gICAgICBsZXQgcG9vckluZGV4ZWREYlN1cHBvcnQgPSBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkICgyfDN8NFxcLlswLTNdKS8pKSB7XG4gICAgICAgIC8vIENocm9tZSBhbmQgRmlyZWZveCBzdXBwb3J0IEluZGV4ZWREQlxuICAgICAgICBpZiAoIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZXxGaXJlZm94LykpIHtcbiAgICAgICAgICBwb29ySW5kZXhlZERiU3VwcG9ydCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCdpbmRleGVkREInIGluIGNvbnRleHQgJiYgIXBvb3JJbmRleGVkRGJTdXBwb3J0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgY2hlY2sgPSBpbmRleGVkREIub3BlbihcInJzLWNoZWNrXCIpO1xuICAgICAgICAgIGNoZWNrLm9uZXJyb3IgPSBmdW5jdGlvbiAoLyogZXZlbnQgKi8pIHtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgY2hlY2sub25zdWNjZXNzID0gZnVuY3Rpb24gKC8qIGV2ZW50ICovKSB7XG4gICAgICAgICAgICBjaGVjay5yZXN1bHQuY2xvc2UoKTtcbiAgICAgICAgICAgIGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShcInJzLWNoZWNrXCIpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgSW5kZXhlZERCIGFzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgdHlwZSBvbmNlIGRlZmluZWRcbiAgc3RhdGljIF9yc19jbGVhbnVwIChyZW1vdGVTdG9yYWdlOiBhbnkpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUvKiwgcmVqZWN0Ki8pID0+IHtcbiAgICAgIGlmIChyZW1vdGVTdG9yYWdlLmxvY2FsKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UubG9jYWwuY2xvc2VEQigpO1xuICAgICAgfVxuXG4gICAgICBJbmRleGVkREIuY2xlYW4oREVGQVVMVF9EQl9OQU1FLCByZXNvbHZlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRpZmZIYW5kbGVyKCkge1xuICAgIC8vIGVtcHR5XG4gIH1cbn07XG5cbi8vIFRPRE8gbW92ZSB0byBDYWNoaW5nTGF5ZXIsIHNhbWUgZm9yIGFsbCBsYXllcnNcbmludGVyZmFjZSBJbmRleGVkREIgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoSW5kZXhlZERCLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBJbmRleGVkREI7XG4iLCJpbXBvcnQgQ2FjaGluZ0xheWVyIGZyb20gJy4vY2FjaGluZ2xheWVyJztcbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7IGFwcGx5TWl4aW5zLCBsb2NhbFN0b3JhZ2VBdmFpbGFibGUgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIGxvY2FsU3RvcmFnZSBjYWNoaW5nIGFkYXB0ZXIuIFVzZWQgd2hlbiBubyBJbmRleGVkREIgYXZhaWxhYmxlLlxuICoqL1xuXG5jb25zdCBOT0RFU19QUkVGSVggPSBcInJlbW90ZXN0b3JhZ2U6Y2FjaGU6bm9kZXM6XCI7XG5jb25zdCBDSEFOR0VTX1BSRUZJWCA9IFwicmVtb3Rlc3RvcmFnZTpjYWNoZTpjaGFuZ2VzOlwiO1xuXG5mdW5jdGlvbiBpc1JlbW90ZVN0b3JhZ2VLZXkoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGtleS5zdWJzdHIoMCwgTk9ERVNfUFJFRklYLmxlbmd0aCkgPT09IE5PREVTX1BSRUZJWCB8fFxuICAgIGtleS5zdWJzdHIoMCwgQ0hBTkdFU19QUkVGSVgubGVuZ3RoKSA9PT0gQ0hBTkdFU19QUkVGSVg7XG59XG5cbmZ1bmN0aW9uIGlzTm9kZUtleShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4ga2V5LnN1YnN0cigwLCBOT0RFU19QUkVGSVgubGVuZ3RoKSA9PT0gTk9ERVNfUFJFRklYO1xufVxuXG5jbGFzcyBMb2NhbFN0b3JhZ2UgZXh0ZW5kcyBDYWNoaW5nTGF5ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkRXZlbnRzKFsnY2hhbmdlJywgJ2xvY2FsLWV2ZW50cy1kb25lJ10pO1xuICB9XG5cbiAgLy8gVE9ETyBmaXggdGhpc1xuICBkaWZmSGFuZGxlciguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGdldE5vZGVzKHBhdGhzOiBzdHJpbmdbXSk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIGNvbnN0IG5vZGVzID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5vZGVzW3BhdGhzW2ldXSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW05PREVTX1BSRUZJWCArIHBhdGhzW2ldXSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIG5vZGVzW3BhdGhzW2ldXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vZGVzKTtcbiAgfVxuXG4gIHNldE5vZGVzKG5vZGVzOiBSU05vZGVzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAvLyBUT0RPIHNob3VsZG4ndCB3ZSB1c2UgZ2V0SXRlbS9zZXRJdGVtP1xuICAgICAgbG9jYWxTdG9yYWdlW05PREVTX1BSRUZJWCArIHBhdGhdID0gSlNPTi5zdHJpbmdpZnkobm9kZXNbcGF0aF0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGZvckFsbE5vZGVzKGNiOiAobm9kZSkgPT4gYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgbGV0IG5vZGU7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaXNOb2RlS2V5KGxvY2FsU3RvcmFnZS5rZXkoaSkpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gTk9URTogdGhpcyBpcyBjb21pbmcgZnJvbSBjYWNoaW5nIGxheWVyIHRvZG8gZml4IHZpYSBpbnRlcmZhY2Ugb3Igc2ltaWxhclxuICAgICAgICAgIG5vZGUgPSB0aGlzLm1pZ3JhdGUoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbbG9jYWxTdG9yYWdlLmtleShpKV0pKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIG5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICBjYihub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgTG9jYWxTdG9yYWdlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfaW5pdCgpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtIGFib3V0IHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhlIExvY2FsU3RvcmFnZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX3N1cHBvcnRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBMb2NhbFN0b3JhZ2UgYXMgYSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqXG4gICAqIFRPRE86IHRlc3RzIG1pc3NpbmchXG4gICAqL1xuICBzdGF0aWMgX3JzX2NsZWFudXAoKTogdm9pZCB7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgIGlmIChpc1JlbW90ZVN0b3JhZ2VLZXkoa2V5KSkge1xuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgbG9nKCdbTG9jYWxTdG9yYWdlXSBSZW1vdmluZycsIGtleSk7XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW2tleV07XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIFRPRE8gbW92ZSB0byBDYWNoaW5nTGF5ZXIsIHNhbWUgZm9yIGFsbCBsYXllcnNcbmludGVyZmFjZSBMb2NhbFN0b3JhZ2UgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoTG9jYWxTdG9yYWdlLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBMb2NhbFN0b3JhZ2U7XG4iLCJpbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IENhY2hpbmdMYXllciBmcm9tICcuL2NhY2hpbmdsYXllcic7XG5pbXBvcnQgeyBhcHBseU1peGlucyB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogSW4tbWVtb3J5IGNhY2hpbmcgYWRhcHRlci4gVXNlZCB3aGVuIG5vIEluZGV4ZWREQiBvciBsb2NhbFN0b3JhZ2VcbiAqIGF2YWlsYWJsZS5cbiAqXG4gKiBAY2xhc3NcbiAqKi9cblxuY2xhc3MgSW5NZW1vcnlTdG9yYWdlIGV4dGVuZHMgQ2FjaGluZ0xheWVyIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcHJpdmF0ZSBfc3RvcmFnZTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRFdmVudHMoWydjaGFuZ2UnLCAnbG9jYWwtZXZlbnRzLWRvbmUnXSk7XG4gIH1cblxuICBnZXROb2RlcyhwYXRoczogc3RyaW5nW10pOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICBjb25zdCBub2RlczogUlNOb2RlcyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBub2Rlc1twYXRoc1tpXV0gPSB0aGlzLl9zdG9yYWdlW3BhdGhzW2ldXTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vZGVzKTtcbiAgfVxuXG4gIHNldE5vZGVzKG5vZGVzOiBSU05vZGVzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICBpZiAobm9kZXNbcGF0aF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fc3RvcmFnZVtwYXRoXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N0b3JhZ2VbcGF0aF0gPSBub2Rlc1twYXRoXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBmb3JBbGxOb2RlcyhjYjogKG5vZGU6IFJTTm9kZSkgPT4gUHJvbWlzZTx2b2lkPik6IFByb21pc2U8dm9pZD4ge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiB0aGlzLl9zdG9yYWdlKSB7XG4gICAgICBjYih0aGlzLm1pZ3JhdGUodGhpcy5fc3RvcmFnZVtwYXRoXSkpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBkaWZmSGFuZGxlcigpIHtcbiAgICAvLyBlbXB0eVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIEluTWVtb3J5U3RvcmFnZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBfcnNfaW5pdCgpOiB2b2lkIHtcbiAgICAvLyBlbXB0eVxuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBJbk1lbW9yeVN0b3JhZ2UgYmFja2VuZC5cbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgX3JzX3N1cHBvcnRlZCgpOiB0cnVlIHtcbiAgICAvLyBJbi1tZW1vcnkgc3RvcmFnZSBpcyBhbHdheXMgc3VwcG9ydGVkXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIEluTWVtb3J5U3RvcmFnZSBhcyBhIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgX3JzX2NsZWFudXAoKTogdm9pZCB7XG4gICAgLy8gZW1wdHlcbiAgfVxufVxuXG4vLyBUT0RPIG1vdmUgdG8gQ2FjaGluZ0xheWVyLCBzYW1lIGZvciBhbGwgbGF5ZXJzXG5pbnRlcmZhY2UgSW5NZW1vcnlTdG9yYWdlIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEluTWVtb3J5U3RvcmFnZSwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgSW5NZW1vcnlTdG9yYWdlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==